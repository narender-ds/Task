{"version":3,"sources":["PageRouter.tsx","icons/kebab.svg","hooks/useComposedCssClasses.tsx","components/locationReducers.ts","components/Navigation.tsx","components/LocationContext.tsx","components/cards/LocationCard.tsx","components/cards/StandardCard.tsx","icons/star.svg","components/utils/processTranslation.ts","components/AlternativeVerticals.tsx","icons/chevron.svg","components/VerticalResults.tsx","components/mapbox/MapGoogle.tsx","components/LocationResults.tsx","sections/LocationSection.tsx","components/cards/FaqCard.tsx","config/universalResultsConfig.ts","components/DropdownSection.tsx","components/ScreenReader.tsx","components/utils/recursivelyMapChildren.ts","icons/yext_logo.svg","components/InputDropdown.tsx","icons/magnifying_glass.svg","components/LoadingIndicator.tsx","components/SearchButton.tsx","hooks/useSynchronizedRequest.tsx","utils/search-operations.ts","hooks/useSearchWithNearMeHandling.ts","components/utils/renderHighlightedValue.tsx","components/utils/renderAutocompleteResult.tsx","components/SearchBar.tsx","config/answersHeadlessConfig.ts","icons/history.svg","hooks/useEntityPreviews.tsx","hooks/useComponentMountStatus.tsx","hooks/useDebouncedFunction.ts","components/VisualAutocomplete/EntityPreviews.tsx","hooks/useRecentSearches.ts","components/VisualAutocomplete/VisualSearchBar.tsx","components/VisualAutocomplete/SampleVisualSearchBar.tsx","components/Header.tsx","icons/x.svg","pages/StandardLayout.tsx","sections/StandardSection.tsx","utils/filterutils.tsx","utils/appliedfilterutils.tsx","utils/displayablefilterutils.tsx","utils/arrayutils.tsx","icons/map.svg","components/AppliedFilters.tsx","icons/list.svg","components/MapToggleButton.tsx","sections/SectionHeader.tsx","components/UniversalResults.tsx","components/DirectAnswer.tsx","components/SpellCheck.tsx","hooks/usePageSetupEffect.tsx","components/Footer.tsx","pages/UniversalSearchPage.tsx","components/ResultsCount.tsx","components/LocationBias.tsx","pages/FAQsPage.tsx","pages/LocationsPage.tsx","config/routeConfig.tsx","App.tsx","index.tsx","registerServiceWorker.ts"],"names":["PageRouter","Layout","pages","routes","map","routeData","path","page","exact","_path","_path2","_path3","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgKebab","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","useComposedCssClasses","builtInClasses","customClasses","cssCompositionMethod","useMemo","isThemeObject","compose","replace","Compose","Replace","Assign","merge","Merge","getCssModulesCompose","composeTheme","theme","obj","LocationActionTypes","builtInCssClasses","nav","navLinkContainer","navLink","navLinkContainer___active","kebabIcon","menuButtonContainer","menuButton","menuButton___menuOpen","menuButton___hasActiveLink","menuContainer","menuNavLink","menuNavLinkContainer","menuNavLinkContainer___active","Navigation","links","customCssClasses","cssClasses","currentVertical","useAnswersState","state","vertical","verticalKey","useState","menuOpen","setMenuOpen","menuRef","useRef","handleDocumentClick","e","current","useLayoutEffect","document","addEventListener","removeEventListener","numOverflowLinks","setNumOverflowLinks","navigationRef","handleResize","useCallback","navEl","scrollWidth","offsetWidth","useEffect","timeoutId","resizeListener","clearTimeout","setTimeout","window","visibleLinks","slice","overflowLinks","isActiveLink","to","undefined","activeVisibleLinkIndex","findIndex","activeMenuLinkIndex","menuContainsActiveLink","menuButtonClassNames","classNames","className","l","index","renderLink","onClick","linkData","label","navLinkContainerClasses","toggleShowMapReducer","action","type","ToggleMap","payload","toggleMap","hoveredLocationReducer","SetHoveredLocation","hoveredLocation","ClearHoveredLocation","selectedLocationReducer","SetSelectedLocation","selectedLocation","ClearSelectedLocation","mapLocationsReducer","SetMapLocations","mapLocations","ClearMapLocations","noGymsLocationReducer","SetNoGymsMessage","ClearNoGymsMessage","locationState","showMap","LocationContext","createContext","dispatch","mainReducer","noGymsMessage","LocationProvider","children","useReducer","Provider","value","container","header","body","descriptionContainer","ctaContainer","cta1","cta2","ordinal","ctaButton","LocationCard","location","result","rawData","useContext","onMouseOver","onMouseLeave","href","name","src","alt","address","line1","city","postalCode","region","mainPhone","screenSize","isCtaData","data","every","StandardCard","configuration","c_primaryCTA","c_secondaryCTA","showOrdinal","description","renderCTAs","processTranslation","args","count","pluralForm","phrase","SvgStar","style","alternativeVerticals___loading","noResultsText","categoriesText","suggestions","suggestionList","suggestion","suggestionButton","verticalIcon","verticalLink","allCategoriesLink","isVerticalSuggestion","resultsCount","AlternativeVerticals","currentVerticalLabel","verticalsConfig","displayAllOnNoResults","alternativeVerticals","noResults","allResultsForVertical","results","query","mostRecentSearch","verticalSuggestions","alternativeResults","matchingVerticalConfig","find","config","filter","verticalSuggestion","buildVerticalSuggestions","isShowingAllResults","isLoading","searchStatus","containerClassNames","SvgChevron","stroke","strokeWidth","strokeLinecap","strokeLinejoin","results___loading","VerticalResultsDisplay","CardComponent","cardConfig","resultsClassNames","renderResult","VerticalResults","allowPagination","otherProps","verticalResults","verticalResultsCount","allResultsCountForVertical","Pagination","numResults","builtInPaginationCssClasses","labelContainer","selectedLabel","leftIconContainer","rightIconContainer","icon","answersAction","useAnswersActions","offset","limit","executeSearchWithNewOffset","newOffset","setOffset","executeVerticalQuery","onSelectNewPage","evt","newPageNumber","Number","currentTarget","textContent","maxPageCount","Math","ceil","pageNumber","paginationLabels","previousPageNumber","nextPageNumber","push","Array","forEach","_","generatePaginationLabels","disabled","MapGoogle","activeMarker","setActiveMarker","setMapRef","markers","meta","searchType","input","mapCenter","lat","lng","MapZoom","console","log","yextDisplayCoordinate","item","position","latitude","longitude","useJsApiLoader","googleMapsApiKey","isLoaded","center","mapContainerStyle","onLoad","bounds","google","maps","LatLngBounds","extend","fitBounds","getZoom","getCenter","zoom","options","imagePath","clusterer","marker","onCloseClick","LocationResults","cardComponent","hidden","maxHeight","section","LocationSection","compositionmethod","ResponsiveContext","ctaButtonText","FaqCard","trainer","primaryPhoto","image","url","renderName","s","allowZeroExpanded","answer","universalResultsConfig","locations","SectionComponent","viewMapButton","viewAllButton","faqs","DropdownSection","isFocused","optionIdPrefix","onFocusChange","onLeaveSectionFocus","focusedOptionIndex","setFocusedOptionIndex","wasFocused","handleKeyDown","includes","preventDefault","newIndex","incrementOptionFocus","decrementOptionFocus","onSelect","sectionContainer","sectionLabel","optionsContainer","option","optionContainterCssClasses","optionContainer","focusedOption","tabIndex","display","renderOption","ScreenReader","instructionsId","instructions","announcementKey","announcementText","recursivelyMapChildren","elementReplacer","Children","c","isValidElement","replacedElement","grandchildren","replacedGrandchildren","cloneElement","reducer","focusedSectionIndex","dropdownHidden","InputDropdown","inputValue","placeholder","screenReaderInstructions","screenReaderText","onlyAllowDropdownOptionSubmissions","forceHideDropdown","onSubmit","renderSearchButton","renderLogo","onInputChange","onInputFocus","onDropdownLeave","shouldDisplayDropdown","focusedOptionId","setFocusedOptionId","latestUserInput","setLatestUserInput","childrenKey","setChildrenKey","screenReaderKey","setScreenReaderKey","screenReaderInstructionsId","uuid","inputRef","dropdownRef","inputDropdownRef","numSections","childrenWithProps","child","React","currentSectionIndex","modifiedOptions","pastSectionEnd","newSectionIndex","isSameNode","contains","handleDocumentKeydown","inputDropdownContainerCssClasses","inputDropdownContainer","inputDropdownContainer___active","onBlur","relatedTarget","HTMLElement","inputContainer","logoContainer","inputElement","onChange","onKeyDown","searchButtonContainer","divider","dropdownContainer","SvgYextLogo","LoadingIndicator","cx","cy","r","SvgMagnifyingGlass","SearchButton","handleClick","useSynchronizedRequest","executeRequest","networkIds","latestRequest","responseInState","synchronizedResponse","setSynchronizedResponse","requestId","Promise","resolve","response","defaultGeolocationOptions","enableHighAccuracy","timeout","maximumAge","updateLocationIfNeeded","answersActions","intents","geolocationOptions","SearchIntent","NearMe","userLocation","getUserLocation","setUserLocation","coords","error","executeSearch","isVertical","executeUniversalQuery","getSearchIntents","executeVerticalAutocomplete","executeUniversalAutocomplete","inputIntents","reject","navigator","geolocation","getCurrentPosition","err","useSearchWithNearMeHandling","autocompletePromiseRef","SearchTypeEnum","Vertical","autocompleteResponseBeforeSearch","defaultCssClasses","highlighted","renderHighlightedValue","matchedSubstrings","substrings","sort","a","b","highlightedJSX","curr","substring","renderAutocompleteResult","Icon","resultIconContainer","submitButton","SearchBar","autocompleteResponse","executeAutocomplete","executeQuery","setQuery","MagnifyingGlassIcon","answersHeadlessConfig","apiKey","experienceKey","locale","sessionTrackingEnabled","endpoints","universalSearch","verticalSearch","questionSubmission","universalAutocomplete","verticalAutocomplete","filterSearch","useEntityPreviews","headlessId","debounceTime","headlessRef","provideAnswersHeadless","isMountedRef","useComponentMountStatus","verticalResultsArray","setVerticalResultsArray","debouncedUniversalSearch","func","milliseconds","timeoutIdRef","useDebouncedFunction","universal","verticals","setLoadingState","universalLimit","restrictVerticals","setRestrictVerticals","setUniversalLimit","EntityPreviews","transformEntityPreviews","entityPreviews","verticalKeyToResults","reduce","prev","getVerticalKeyToResults","SvgHistory","RECENT_SEARCHES_KEY","builtInSearchBarCssClasses","recentSearchesOptionContainer","recentSearchesIcon","recentSearchesOption","VisualSearchBar","hideRecentSearches","renderEntityPreviews","hideVerticalLinks","verticalKeyToLabel","recentSearchesLimit","entityPreviewsDebouncingTime","browserHistory","useHistory","executeQueryWithNearMeHandling","recentSearches","setRecentSeaches","clearRecentSearches","localStorage","removeItem","RecentSearches","namespace","getRecentSearches","setRecentSearch","useRecentSearches","haveRecentSearches","entityPreviewsState","executeEntityPreviewsQuery","entityPreviewsLoading","autocompleteResults","updateEntityPreviews","restrictedVerticalsSet","Set","add","from","calculateRestrictVerticals","limitWithDefaults","calculateUniversalLimit","recentSearchesCssClasses","RecentSearchIcon","renderRecentSearches","verticalKeys","verticalLinks","link","renderQuerySuggestions","SampleVisualSearchBar","EventCard","faqData","question","venueName","Header","navLinks","entries","StandardLayout","StandardSection","SvgX","isNearFilterValue","getFilterDisplayValue","toString","radius","Error","pruneAppliedFilters","appliedFilters","hiddenFields","appliedFilter","fieldId","getGroupedAppliedFilters","appliedFiltersState","nlpFilters","staticFiltersGroupLabels","displayableStaticFilters","staticFilters","groupLabels","appliedStaticFilters","selectableFilter","selected","filterType","groupLabel","getDisplayableStaticFilters","static","displayableFacets","facets","appliedFacets","facet","matcher","displayName","getDisplayableAppliedFacets","displayableNlpFilters","filters","appliedNlpFilters","displayKey","displayValue","getDisplayableNlpFilters","prunedNlpFilters","nlpFilter","thisFilter","otherFilter","pruneNlpFilters","groupedFilters","arr","keyMap","valueMap","initial","groups","element","idx","mapArrayToObject","createGroupedFilters","appliedFiltersContainer","appliedFiltersContainer___loading","removableFilter","removeFilterButton","AppliedFilters","appliedQueryFilters","filterState","flatMap","AppliedFiltersDisplay","displayableFilters","labelText","NlpFilter","filterLabel","RemovableFilter","onRemoveFilter","setFacetOption","setFilterOption","SvgMap","_g","_defs","SvgList","clipPath","MapToggleButton","sectionHeaderContainer","sectionHeaderIconContainer","sectionHeaderLabel","viewMoreContainer","viewMoreLink","SectionHeader","appliedFiltersConfig","latestQuery","appliedQueryFilter","UniversalResults","verticalConfigs","resultsFromAllVerticals","renderVerticalSections","verticalConfig","show","filterconfig","container___loading","fieldValueTitle","featuredSnippetTitle","content","fieldValueDescription","featuredSnippetDescription","viewDetailsLink","viewDetailsLinkContainer","DirectAnswer","directAnswerResult","directAnswer","composedCssClasses","isSnippet","DirectAnswerType","FeaturedSnippet","getCssClassesForAnswerType","entityName","fieldName","snippet","relatedResult","containerCssClasses","getLinkText","helpText","spellCheck___loading","SpellCheck","correctedQuery","spellCheck","usePageSetupEffect","setState","setVertical","setUniversal","searchIntents","Footer","focusable","role","universalResultsFilterConfig","UniversalSearchPage","text","number","ResultsCount","resultsLength","ResultsCountDisplay","spanArray","isNumber","classes","button","LocationBias","locationBias","attributionMessage","method","LocationBiasMethod","Ip","Device","FAQsPage","LocationsPage","routeConfig","App","setScreenSize","updateDimensions","outerWidth","innerWidth","ReactDOM","render","StrictMode","getElementById","swUrl","process","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","reload"],"mappings":"qSAoBe,SAASA,EAAT,GAAoD,IAA9BC,EAA6B,EAA7BA,OAE7BC,EAF0D,EAArBC,OAEtBC,KAAI,SAAAC,GACvB,IAAQC,EAAsBD,EAAtBC,KAAMC,EAAgBF,EAAhBE,KAAMC,EAAUH,EAAVG,MACpB,OAAIP,EAEA,cAAC,IAAD,CAAkBK,KAAMA,EAAME,MAAOA,EAArC,SACE,cAACP,EAAD,CAAQM,KAAMA,KADJD,GAKT,cAAC,IAAD,CAAkBA,KAAMA,EAAME,MAAOA,EAArC,SAA6CD,GAAjCD,EACpB,IAED,OACE,cAAC,IAAD,UACE,cAAC,IAAD,UACGJ,KAIR,C,ICzCGO,EAAOC,EAAQC,E,iCAEfC,EAAY,CAAC,QAAS,WAE1B,SAASC,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAUJ,EAASa,MAAMC,KAAMR,UAAY,CAElV,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhNgB,CAA8BZ,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASoB,EAASC,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQd,EAAyBU,EAAM1B,GAE3C,OAAoB,gBAAoB,MAAOC,EAAS,CACtD8B,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM/B,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EyC,EAAG,iJACHJ,KAAM,aACHpC,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEwC,EAAG,8IACHJ,KAAM,aACHnC,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEuC,EAAG,wIACHJ,KAAM,aAEV,CAEA,IAAIK,EAA0B,aAAiBd,G,GAChC,I,OCVR,SAASe,EACdC,EACAC,EACAC,GAEA,OAAOC,mBAAQ,WACb,IAAKC,EAAcH,GACjB,OAAOD,EAET,IAAKI,EAAcJ,GACjB,cAAOC,QAAP,IAAOA,IAAiB,CAAC,EAE3B,IAAMI,EAUV,WAA2F,IAA7DH,EAA4D,uDAAlB,QACtE,MAAO,CACLI,QAASC,UAAQC,QACjB9C,OAAQ6C,UAAQE,OAChBC,MAAOH,UAAQI,OACfT,EACH,CAhBmBU,CAAqBV,GACrC,OAAOW,uBAAa,CAAC,CAAEC,MAAOd,GAAkB,CAAEc,MAAOb,EAAeI,YACzE,GAAE,CAACL,EAAgBC,EAAeC,GACpC,CAoBD,SAASE,EAAeW,GACtB,OAAY,OAARA,GAA+B,kBAARA,CAI5B,C,ICxDWC,E,OCWNC,EAA0C,CAC9CC,IAAK,yEACLC,iBAAkB,oGAClBC,QAAS,YACTC,0BAA2B,yEAC3BC,UAAW,sBACXC,oBAAqB,2CACrBC,WAAY,kHACZC,sBAAuB,4BACvBC,2BAA4B,gBAC5BC,cAAe,qEACfC,YAAa,sBACbC,qBAAsB,uFACtBC,8BAA+B,yDAclB,SAASC,EAAT,GAAyF,IAAD,MAAlEC,EAAkE,EAAlEA,MAAOC,EAA2D,EAA3DA,iBAAkB/B,EAAyC,EAAzCA,qBACtDgC,EAAanC,EAAsBkB,EAAmBgB,EAAkB/B,GACxEiC,EAAkBC,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAASC,WAAnB,IAG7C,EAAgCC,oBAAkB,GAAlD,mBAAOC,EAAP,KAAiBC,EAAjB,KACMC,EAAUC,iBAA0B,MACpCC,EAAsB,SAACC,GACvBA,EAAElF,SAAW+E,EAAQI,SACvBL,GAAY,EAEf,EACDM,2BAAgB,WAEd,OADAC,SAASC,iBAAiB,QAASL,GAC5B,kBAAMI,SAASE,oBAAoB,QAASN,EAA5C,CACR,GAAE,IAGH,MAAgDL,mBAAiB,GAAjE,mBAAOY,EAAP,KAAyBC,EAAzB,KACMC,EAAgBV,iBAAuB,MACvCW,EAAeC,uBAAY,WAC/B,IAAMC,EAAQH,EAAcP,QACvBU,IAGiBA,EAAMC,YAAcD,EAAME,aAC3BP,EAAmBpB,EAAMjE,QAC5CsF,EAAoBD,EAAmB,GAE1C,GAAE,CAACpB,EAAMjE,OAAQqF,IAClBJ,0BAAgBO,EAAc,CAACA,IAC/BK,qBAAU,WACR,IAAIC,EACJ,SAASC,IACPC,aAAaF,GACbA,EAAYG,YAAW,WACrBX,EAAoB,GACpBE,GACD,GAAE,GACJ,CAED,OADAU,OAAOf,iBAAiB,SAAUY,GAC3B,kBAAMG,OAAOd,oBAAoB,SAAUW,EAA3C,CACR,GAAE,CAACP,IAEJ,IAAMW,EAAelC,EAAMmC,MAAM,EAAGnC,EAAMjE,OAASqF,GAC7CgB,EAAgBpC,EAAMmC,OAAOf,GAC7BiB,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,GAAH,OAAsBA,IAAOnC,GAA2B,MAAPmC,QAAkCC,IAApBpC,CAA/D,EACfqC,EAAyBN,EAAaO,UAAUJ,GAChDK,EAAsBN,EAAcK,UAAUJ,GAC9CM,EAAyBD,GAAuB,EAChDE,EAAuBC,IAAW3C,EAAWV,YAAZ,6BACpCU,EAAWT,6BADyB,QACA,GAAKgB,GADL,wBAEpCP,EAAWR,kCAFyB,QAEK,GAAKiD,GAFV,IAKvC,OACE,sBAAKG,UAAW5C,EAAWhB,IAAKvB,IAAK2D,EAArC,UACGY,EAAanH,KAAI,SAACgI,EAAGC,GAAJ,OAAcC,EAAWF,EAAGC,IAAUR,EAAwBtC,EAA9D,IACjBkB,EAAmB,GAClB,sBAAK0B,UAAW5C,EAAWX,oBAA3B,UACE,yBACEuD,UAAWF,EACXjF,IAAKgD,EACLuC,QAAS,kBAAMxC,GAAaD,EAAnB,EAHX,UAKE,cAAC,EAAD,CAAWqC,UAAW5C,EAAWZ,YALnC,WAOCmB,GACC,qBAAKqC,UAAW5C,EAAWP,cAA3B,SACGc,GAAY2B,EAAcrH,KAAI,SAACgI,EAAGC,GAAJ,OAAcC,EAAWF,EAAGC,IAAUN,EAAqB,CACxFtD,QAASc,EAAWN,YACpBT,iBAAkBe,EAAWL,qBAC7BR,0BAA2Ba,EAAWJ,+BAHT,WAW5C,CAED,SAASmD,EACPE,EACAd,EACAnC,GACD,IAAD,EACUoC,EAAca,EAAdb,GAAIc,EAAUD,EAAVC,MACNC,EAA0BR,IAAW3C,EAAWf,iBAAZ,yBACvCe,EAAWb,iCAD4B,QACC,GAAKgD,IAEhD,OACE,qBAAKS,UAAWO,EAAhB,SACE,cAAC,IAAD,CACEP,UAAW5C,EAAWd,QACtBkD,GAAE,UAAKA,GACPnH,OAAO,EAHT,SAKGiI,KANyCd,EAUjD,E,SD5IWtD,K,uBAAAA,E,0CAAAA,E,4CAAAA,E,8CAAAA,E,gDAAAA,E,oCAAAA,E,wCAAAA,E,uCAAAA,E,4CAAAA,M,KAuBL,IAAMsE,EAAuB,SAACjD,EAAgBkD,GACnD,OAAQA,EAAOC,OACRxE,EAAoByE,UAChBF,EAAOG,QAAQC,UAEftD,CAEZ,EAwBYuD,EAAyB,SAACvD,EAAoCkD,GACzE,OAAQA,EAAOC,MACb,KAAKxE,EAAoB6E,mBACvB,OAAON,EAAOG,QAAQI,gBACxB,KAAK9E,EAAoB+E,qBACvB,OACF,QACE,OAAO1D,EAEZ,EAEY2D,EAA0B,SAAC3D,EAAoCkD,GAC1E,OAAQA,EAAOC,MACb,KAAKxE,EAAoBiF,oBACvB,OAAOV,EAAOG,QAAQQ,iBACxB,KAAKlF,EAAoBmF,sBACvB,OACF,QACE,OAAO9D,EAEZ,EAEY+D,EAAsB,SAAC/D,EAA0BkD,GAC5D,OAAQA,EAAOC,MACb,KAAKxE,EAAoBqF,gBACvB,OAAOd,EAAOG,QAAQY,aACxB,KAAKtF,EAAoBuF,kBACvB,MAAO,GACT,QACE,OAAOlE,EAEZ,EAEYmE,EAAwB,SAACnE,EAA2BkD,GAC/D,OAAQA,EAAOC,MACb,KAAKxE,EAAoByF,iBACvB,OAAOlB,EAAOG,QAChB,KAAK1E,EAAoB0F,mBACvB,OACF,QACE,OAAOrE,EAEZ,EEzFKsE,EAAgB,CACpBC,SAAS,GAIEC,EAAkBC,wBAA8F,CAC3HzE,MAAOsE,EACPI,SAAU,kBAAM,IAAN,IAGNC,EAAc,SAAC,EAEnBzB,GACuB,IAFrBO,EAEoB,EAFpBA,gBAAiBI,EAEG,EAFHA,iBAAkBI,EAEf,EAFeA,aAAcM,EAE7B,EAF6BA,QAASK,EAEtC,EAFsCA,cAU5D,MAPiB,CACfnB,gBAAiBF,EAAuBE,EAAiBP,GACzDW,iBAAkBF,EAAwBE,EAAkBX,GAC5De,aAAcF,EAAmB,OAACE,QAAD,IAACA,IAAgB,GAAIf,GACtDqB,QAAStB,EAAqBsB,EAASrB,GACvC0B,cAAeT,EAAsBS,EAAe1B,GAGvD,EAEY2B,EAA6B,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,SAC3C,EAA0BC,qBAAWJ,EAAaL,GAAlD,mBAAOtE,EAAP,KAAc0E,EAAd,KAEA,OAAO,cAACF,EAAgBQ,SAAjB,CAA0BC,MAAO,CAAEjF,QAAO0E,YAA1C,SAAuDI,GAC/D,ECYKlG,EAAoB,CACxBsG,UAAW,wEACXC,OAAQ,iBACRC,KAAM,gDACNC,qBAAsB,UACtBC,aAAc,qCACdC,KAAM,2EACNC,KAAM,gFACNC,QAAS,6BACT3I,MAAO,0CACP4I,UAAW,kGAIN,SAASC,EAAa3I,GAAwC,IAAD,QAE5D4I,EADa5I,EAAX6I,OACgBC,QAElBjG,EAAanC,EAAsBkB,GAIzC,EAA4BmH,qBAAWvB,GAAxBE,GAAf,EAAQ1E,MAAR,EAAe0E,UAmFf,OACE,sBACEnH,GAAI,UAAUqI,EAASrI,GACvBkF,UAAW5C,EAAWqF,UACtBc,YAAa,kBARftB,EAAS,CAAEvB,KAAMxE,EAAoB6E,mBAAoBH,QAAS,CAAEI,gBAAiBmC,IAQtE,EACbK,aAAc,kBAPiBvB,EAAS,CAAEvB,KAAMxE,EAAoB+E,qBAAsBL,QAAS,CAAC,GAOtF,EAJhB,UAKE,qBAAKZ,UAAW5C,EAAWsF,SAQ3B,mBAAG1C,UAAW5C,EAAW/C,MAAOoJ,KAAK,gCAArC,SAAsEN,EAASO,OAE/E,sBAAK1D,UAAW5C,EAAWwF,qBAA3B,UACE,qBAAK5C,UAAU,IAAI2D,IAAI,mGAAmGnJ,MAAM,KAAKC,OAAO,KACpImJ,IAAI,KACZ,wCAAMT,EAASU,eAAf,aAAM,EAAkBC,QACxB,kDAASX,EAASU,eAAlB,aAAS,EAAkBE,KAA3B,sBAAmCZ,EAASU,eAA5C,aAAmC,EAAkBG,cACrD,kDAASb,EAASU,eAAlB,aAAS,EAAkBI,aAMnC,sBAAKjE,UAAU,+EAAf,UACA,qBAAKA,UAAU,YAAf,SAA2B,qBAAKA,UAAU,IAAI2D,IAAI,8IAA8InJ,MAAM,KAAKC,OAAO,KAAKmJ,IAAI,OAE3N,qBAAK5D,UAAU,SAAf,SAAwB,mBAAGlF,GAAG,UAAUkF,UAAU,GAAGyD,KAAI,cAASN,EAASe,WAAnD,SAAiEf,EAASe,iBAE5F,mBAAGlE,UAAW5C,EAAW6F,UAAWQ,KAAK,gCAAzC,gCACA,mBAAGzD,UAAW5C,EAAW6F,UAAWQ,KAAK,gCAAzC,2BACA,mBAAGzD,UAAW5C,EAAW6F,UAAWQ,KAAK,gCAAzC,wBACCU,IAON,CCvLD,IAAMhI,EAA4C,CAChDsG,UAAW,sEACXC,OAAQ,qBACRC,KAAM,0BACNC,qBAAsB,mBACtBC,aAAc,iCACdC,KAAM,2EACNC,KAAM,gFACNC,QAAS,6BACT3I,MAAO,uBAST,SAAS+J,EAAUC,GACjB,GAAoB,kBAATA,GAA8B,OAATA,EAC9B,OAAO,EAGT,MADqB,CAAC,QAAS,OAAQ,YACnBC,OAAM,SAAAnL,GACxB,OAAOA,KAAOkL,CACf,GACF,CAOM,SAASE,EAAahK,GAAwC,IAAD,IA2B7CF,EA1BbmK,EAAkEjK,EAAlEiK,cAAepB,EAAmD7I,EAAnD6I,OAAQjG,EAA2C5C,EAA3C4C,iBAAkB/B,EAAyBb,EAAzBa,qBAC3CgC,EAAanC,EAAsBkB,EAAmBgB,EAAkB/B,GAExE0H,EAAOsB,EAAUhB,EAAOC,QAAQoB,cAAgBrB,EAAOC,QAAQoB,kBAAehF,EAC9EsD,EAAOqB,EAAUhB,EAAOC,QAAQqB,gBAAkBtB,EAAOC,QAAQqB,oBAAiBjF,EA0BxF,OACE,sBAAKO,UAAW5C,EAAWqF,UAA3B,UACE,sBAAKzC,UAAW5C,EAAWsF,OAA3B,UACG8B,EAAcG,aAAevB,EAAOlD,QAAuBkD,EAAOlD,MAVhE,MAWFkD,EAAOM,OAROrJ,EAQa+I,EAAOM,KAPhC,qBAAK1D,UAAW5C,EAAW/C,MAA3B,SAAmCA,SASvC,oBAAC+I,EAAOwB,mBAAR,QAAuB9B,SAAvB,QAA+BC,IAC9B,sBAAK/C,UAAW5C,EAAWuF,KAA3B,UACGS,EAAOwB,aACR,qBAAK5E,UAAW5C,EAAWwF,qBAA3B,SACE,+BAAOQ,EAAOwB,gBAjCxB,SAAoB9B,EAAgBC,GAClC,OAAQ,oCACL,OAACD,QAAD,IAACA,IAAQC,IACR,sBAAK/C,UAAW5C,EAAWyF,aAA3B,UACGC,GAAQ,wBAAQ9C,UAAW5C,EAAW0F,KAA9B,SAAqCA,EAAKxC,QAClDyC,GAAQ,wBAAQ/C,UAAW5C,EAAW2F,KAA9B,SAAqCA,EAAKzC,YAI1D,CA0BQuE,CAAW/B,EAAMC,QAK3B,C,IC1GG,E,QCAG,SAAS+B,EAAmBC,GAKjC,OAAkB,MAAdA,EAAKC,OAAiBD,EAAKE,YAA6B,IAAfF,EAAKC,MACzCD,EAAKE,WAELF,EAAKG,MAEf,CDRD,IAAI,EAAY,CAAC,QAAS,WAE1B,SAAS,IAAiS,OAApR,EAAWvM,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,EAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASqM,EAAQhL,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,GAE3C,OAAoB,gBAAoB,MAAO,EAAS,CACtDiL,MAAO,CACLzK,KAAM,gBAERC,MAAO,6BACPF,QAAS,YACTG,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,IAAU,EAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,wMAEP,CAEA,IAAI,GAA0B,aAAiBoK,GEXzChJ,IFYS,IEZ2C,CACxDsG,UAAW,qEACX4C,+BAAgC,aAChCC,cAAe,6BACfC,eAAgB,gBAChBC,YAAa,qBACbC,eAAgB,OAChBC,WAAY,OACZC,iBAAkB,0EAClBC,aAAc,WACdC,aAAc,YACdC,kBAAmB,iEAYrB,SAASC,GAAsBL,GAC7B,YAAoCjG,KAAnB,OAAViG,QAAU,IAAVA,OAAA,EAAAA,EAAYM,aACpB,CAUc,SAASC,GAAT,GAMgB,IAAD,EAL5BC,EAK4B,EAL5BA,qBACAC,EAI4B,EAJ5BA,gBAI4B,IAH5BC,6BAG4B,SAF5BjJ,EAE4B,EAF5BA,iBACA/B,EAC4B,EAD5BA,qBAEMgC,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GAExEiL,EAAuB/I,aAAgB,SAAAC,GAAK,uBAAIA,EAAMC,SAAS8I,iBAAnB,aAAI,EAA0BD,oBAA9B,KAAuD,GACnGE,EAAwBjJ,aAAgB,SAAAC,GAAK,uBAAIA,EAAMC,SAAS8I,iBAAnB,aAAI,EAA0BC,sBAAsBC,OAApD,KAAgE,GAC7GC,EAAQnJ,aAAgB,SAAAC,GAAK,OAAIA,EAAMkJ,MAAMC,gBAAhB,IAE7BC,EAQN,SACER,EACAE,GAEA,OAAOA,EACJpO,KAAI,SAAC2O,GACJ,IAAMC,EAAyBV,EAAgBW,MAAK,SAAAC,GAClD,OAAOA,EAAOtJ,cAAgBmJ,EAAmBnJ,WAClD,IAED,OAAOoJ,EAAsB,2BAEtBA,GAFsB,IAGzBb,aAAcY,EAAmBZ,eAEjC,IACL,IACAgB,OAAOjB,IACPiB,QAAO,SAAAC,GAAkB,OAAIA,EAAmBjB,aAAe,CAAtC,GAC7B,CA3B2BkB,CAAyBf,EAAiBE,GAChEc,EAAsBf,GAAyBG,EAAsBtN,OAAS,EAE9EmO,EAAY9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,SAAvB,IACjCE,EAAsBvH,IAAW3C,EAAWqF,UAAZ,yBACnCrF,EAAWiI,sCADwB,QACU,GAAK+B,IAwBrD,OAAIT,EAAoB1N,QAAU,EACzB,KAIP,sBAAK+G,UAAWsH,EAAhB,UAyBE,sBAAKtH,UAAW5C,EAAWkI,cAA3B,UACE,wDAA2BY,EAA3B,OACCiB,GACC,iDAAoBjB,EAApB,kBA1BHS,GACC,sBAAK3G,UAAW5C,EAAWoI,YAA3B,UACE,sBAAKxF,UAAW5C,EAAWmI,eAA3B,UACE,+BACGT,EAAmB,CAClBI,OAAQ,uCACRD,WAAY,0CACZD,MAAO2B,EAAoB1N,WAG/B,iCAASwN,OAEX,oBAAIzG,UAAW5C,EAAWqI,eAA1B,SACGkB,EAAoB1O,KAmB/B,SAA0ByN,GACxB,OACE,oBAAiC1F,UAAW5C,EAAWsI,WAAvD,SACE,eAAC,IAAD,CAAM1F,UAAW5C,EAAWuI,iBAAkBnG,GAAE,WAAMkG,EAAWjI,aAAjE,UACE,qBAAKuC,UAAW5C,EAAWwI,aAA3B,SAAyC,cAAC,GAAD,MACzC,sBAAM5F,UAAW5C,EAAWyI,aAA5B,SAA2CH,EAAWpF,YAHjDoF,EAAWjI,YAOvB,MAIG,sBAAKuC,UAAW5C,EAAWmI,eAA3B,UACE,wDACA,cAAC,IAAD,CAAMvF,UAAW5C,EAAW0I,kBAAmBtG,GAAG,IAAlD,4CAMP,C,IC9JG,G,SAEA,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAW7G,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASyO,GAAWpN,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,QAAS,WACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,2CACHyM,OAAQ,UACRC,YAAa,EACbC,cAAe,QACfC,eAAgB,WAEpB,CAEA,IAAI,GAA0B,aAAiBJ,I,IAChC,I,6CCzBTpL,GAA+C,CACnDyL,kBAAmB,cAkBd,SAASC,GAAuBtN,GAAyD,IAAD,EACrFuN,EAAuGvN,EAAvGuN,cAAetB,EAAwFjM,EAAxFiM,QAAvB,EAA+GjM,EAA/EwN,kBAAhC,MAA6C,CAAC,EAA9C,IAA+GxN,EAA9D6M,iBAAjD,SAAoEjK,EAA2C5C,EAA3C4C,iBAAkB/B,EAAyBb,EAAzBa,qBAChFgC,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GAE9E,GAAuB,IAAnBoL,EAAQvN,OACV,OAAO,KAGT,IAAM+O,EAAoBjI,IAAW,eAAD,QAAC,EAClC3C,EAAWwK,yBADsB,QACD,GAAKR,IAGxC,OACE,qBAAKpH,UAAWgI,EAAhB,SACGxB,GAAWA,EAAQvO,KAAI,SAAAmL,GAAM,OAYpC,SAAsB0E,EAA8BC,EAA6B3E,GAC/E,OAAO,cAAC0E,EAAD,CAAe1E,OAAQA,EAAQoB,cAAeuD,GAAiB3E,EAAOtI,IAAMsI,EAAOlD,MAC3F,CAduC+H,CAAaH,EAAeC,EAAY3E,EAA5C,KAGnC,CAsBc,SAAS8E,GAAgB3N,GACtC,MAAgFA,EAAxE6L,6BAAR,WAAgF7L,EAA1C4N,uBAAtC,SAAiEC,EAAjE,aAAgF7N,EAAhF,IACM8N,EAAkB/K,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAASgJ,OAAnB,KAA+B,GACtED,EAAwBjJ,aAAgB,SAAAC,GAAK,yBAAIA,EAAMC,gBAAV,iBAAI,EAAgB8I,iBAApB,aAAI,EAA2BC,sBAAsBC,OAArD,KAAiE,GAC9G8B,EAAuBhL,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAASwI,YAAnB,KAAoC,EAChFuC,EAA6BjL,aAAgB,SAAAC,GAAK,yBAAIA,EAAMC,gBAAV,iBAAI,EAAgB8I,iBAApB,aAAI,EAA2BC,sBAAsBP,YAArD,KAAsE,EACxHoB,EAAY9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,SAAvB,IAEnCZ,EAAU6B,EACVrC,EAAesC,EAMnB,OAL+B,IAA3BD,EAAgBpP,QAAgBmN,IAClCI,EAAUD,EACVP,EAAeuC,GAIf,qCACE,cAACV,GAAD,aAAwBrB,QAASA,EAASY,UAAWA,GAAegB,IACnED,GACI,cAACK,GAAD,CACDC,WAAYzC,EACZ7I,iBAAkBiL,EAAWjL,iBAC7B/B,qBAAsBgN,EAAWhN,yBAK1C,CAYD,IAAMsN,GAAoD,CACxDjG,UAAW,2BACXkG,eAAgB,oCAChBrI,MAAO,oGACPsI,cAAe,gHACfC,kBAAmB,2EACnBC,mBAAoB,2EACpBC,KAAM,qBAaR,SAASP,GAAWjO,GAClB,IAAQkO,EAA4DlO,EAA5DkO,WAAR,EAAoElO,EAAhD4C,wBAApB,MAAuC,CAAC,EAAxC,EAA2C/B,EAAyBb,EAAzBa,qBACrCgC,EAAanC,EAAsByN,GAA6BvL,EAAkB/B,GAClF4N,EAAgBC,cAChBC,EAAS5L,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAAS0L,MAAnB,KAA8B,EAC5DC,EAAQ7L,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAAS2L,KAAnB,KAA6B,GAE1DC,EAA6B,SAACC,GAClCL,EAAcM,UAAUD,GACxBL,EAAcO,sBACf,EACKC,EAAkB,SAACC,GACvB,IAAMC,EAAgBC,OAAOF,EAAIG,cAAcC,aAC/CH,GAAiBN,EAA2BD,GAASO,EAAgB,GACtE,EAEKI,EAAeC,KAAKC,KAAKvB,EAAaU,GAC5C,GAAIW,GAAgB,EAClB,OAAO,KAET,IAAMG,EAAcf,EAASC,EAAS,EAChCe,EAkCR,SAAkCD,EAAoBH,GACpD,IAAMI,EAA6B,GAC7BC,EAAqBF,EAAa,EAClCG,EAAiBH,EAAa,EAEhCE,EAAqB,EACvBD,EAAiBG,KAAK,IAAK,MAA3B,UAAqCF,IACL,IAAvBA,GACT,YAAIG,MAAMH,IAAqBI,SAAQ,SAACC,EAAGtK,GAAJ,OAAcgK,EAAiBG,KAAjB,UAAyBnK,EAAQ,GAA/C,IAEzCgK,EAAiBG,KAAjB,UAAyBJ,IACrBH,EAAeM,EAAiB,EAClCF,EAAiBG,KAAjB,UAAyBD,GAAkB,MAA3C,UAAqDN,IAC5CM,GAAkBN,GAC3B,YAAIQ,MAAMR,EAAeM,EAAiB,IACvCG,SAAQ,SAACC,EAAGtK,GAAJ,OAAcgK,EAAiBG,KAAjB,UAAyBD,EAAiBlK,GAAxD,IAEb,OAAOgK,CACR,CApDoCO,CAAyBR,EAAYH,GAExE,OACE,qBAAK9J,UAAW5C,EAAWqF,UAA3B,SACE,sBAAKzC,UAAW5C,EAAWuL,eAAgB,aAAW,aAAtD,UACE,wBACE,aAAW,wCACX3I,UAAW5C,EAAWyL,kBACtBzI,QAAS,kBAAMgJ,EAA2BF,EAASC,EAA1C,EAAkDuB,SAAyB,IAAfT,EAHvE,SAKE,cAAC,GAAD,CAAoBjK,UAAW5C,EAAW2L,KAAO,4BAElDmB,EAAiBjS,KAAI,SAACqI,EAAOJ,GAC5B,OAAQI,GACN,IAAK,MACH,OAAO,wBAAoBN,UAAW5C,EAAWkD,MAA1C,SAAkDA,GAArCJ,GACtB,IAAI,GAAJ,OAAQ+J,GACN,OAAO,wBAAoBjK,UAAW5C,EAAWwL,cAAexI,QAASoJ,EAAlE,SAAoFlJ,GAAvEJ,GACtB,QACE,OAAO,wBAAoBF,UAAW5C,EAAWkD,MAAOF,QAASoJ,EAA1D,SAA4ElJ,GAA/DJ,GAEzB,IACD,wBACE,aAAW,oCACXF,UAAW5C,EAAW0L,mBACtB1I,QAAS,kBAAMgJ,EAA2BF,EAASC,EAA1C,EAAkDuB,SAAUT,IAAeH,EAHtF,SAKE,cAAC,GAAD,CAAoB9J,UAAW5C,EAAW2L,KAAO,+BAK1D,C,oBC7Ic,SAAS4B,KAA0B,IAAD,EAE/C,EAAwCjN,mBAAS,MAAjD,mBAAOkN,EAAP,KAAqBC,EAArB,KACA,EAAsBnN,mBAAS,MAA/B,mBACA,GADA,UAC4B4F,qBAAWvB,IAA/BxE,EAAR,EAAQA,MACR,GADA,EAAe0E,SACavE,mBAAS,OAArC,mBAAeoN,GAAf,WAcMC,GAZiB9B,cACJ3L,aAAgB,SAACC,GAAD,OAAWA,EAAMyN,KAAKC,UAAtB,IAErB3N,aAAgB,SAACC,GAAD,OAAWA,EAAMkJ,MAAMyE,KAAvB,IASV,IAChBC,EAAY,CAACC,IAAK,EAAGC,IAAK,GAC1BC,EAAU,EAEd,UAAA/N,EAAMiE,oBAAN,SAAoB+I,SAAQ,SAACpH,EAAUjD,GACrCqL,QAAQC,IAAIrI,GACTA,EAASsI,wBACVV,EAAQV,KAAK,CACX3G,KAAMP,EAASO,KACf5I,GAAIqI,EAASrI,GACb4Q,KAAMvI,EACNwI,SAAU,CAAEP,IAAKjI,EAASsI,sBAAsBG,SAAUP,IAAKlI,EAASsI,sBAAsBI,aAGpF,GAAT3L,IACDiL,EAAY,CAAEC,IAAKjI,EAASsI,sBAAsBG,SAAUP,IAAKlI,EAASsI,sBAAsBI,YAKrG,IA8BD,OAPqBC,aAAe,CAClChR,GAAI,oBACJiR,iBAAkB,4CAFZC,SAQN,mCACA,qBAAKhM,UAAU,0BAAf,SACE,cAAC,KAAD,CACAiM,OAAQd,EACR/K,QAAS,kBAAMyK,EAAgB,KAAtB,EACTqB,kBAAmB,CAAE1R,MAAO,OAAQC,OAAQ,SAC5C0R,OAvBgB,SAAClU,GAEnB6S,EAAU7S,GAbM,SAACA,GAAa,IAAD,EACvBmU,EAAS,IAAIjN,OAAOkN,OAAOC,KAAKC,aACtC,UAAAhP,EAAMiE,oBAAN,SAAoB+I,SAAQ,SAACpH,GAC3B,GAAGA,EAASsI,sBAEV,OADAW,EAAOI,OAAO,CAAEpB,IAAKjI,EAASsI,sBAAsBG,SAAUP,IAAKlI,EAASsI,sBAAsBI,YAC3F1I,EAASrI,EAEnB,IACD7C,EAAIwU,UAAUL,EACf,CAMCK,CAAUxU,GACVqT,EAAUrT,EAAIyU,UAChBvB,EAAYlT,EAAI0U,WACf,EAiBGC,KAAMtB,EALN,SAOA,cAAC,KAAD,CAAiBuB,QAZL,CAACC,UAAU,0FAYvB,SACG,SAACC,GAAD,OACChC,EAAQ9S,KAAI,wBAAG6C,EAAH,EAAGA,GAAI4I,EAAP,EAAOA,KAAMiI,EAAb,EAAaA,SAAUD,EAAvB,EAAuBA,KAAvB,OACV,cAAC,KAAD,CAEDC,SAAUA,EACPvL,QAAS,WAzEM,IAAC4M,KAyEkBlS,KAxE7B8P,GAGfC,EAAgBmC,EAqEG,EACTD,UAAWA,EAJb,SAMCnC,IAAiB9P,EAClB,cAAC,KAAD,CAAYmS,aAAc,kBAAMpC,EAAgB,KAAtB,EAA1B,SACE,gCACE,6BAAKnH,IACL,sBAAK1D,UAAU,UAAf,UACE,wCAAM0L,EAAK7H,eAAX,aAAM,EAAcC,QACpB,kDAAS4H,EAAK7H,eAAd,aAAS,EAAcE,KAAvB,uBAAgC2H,EAAK7H,eAArC,aAAgC,EAAcI,OAA9C,sBAAwDyH,EAAK7H,eAA7D,aAAwD,EAAcG,sBAIjF,MAfYlJ,EAFG,GADb,UA0BH,4BAGL,CCvIc,SAASoS,GAAgB3S,GAEtC,MAA4B+I,qBAAWvB,GAA/BxE,EAAR,EAAQA,MAAO0E,EAAf,EAAeA,SAGPuE,EAAwBjM,EAAxBiM,QAASuB,EAAexN,EAAfwN,WACXoF,GAA0B,OAAVpF,QAAU,IAAVA,OAAA,EAAAA,EAAYD,gBAAiBvD,EAEnDzF,qBAAU,WACR,IADc,EACR0C,EAAkC,GAD1B,cAEOgF,GAFP,IAEd,2BAA8B,CAAC,IAEoB,EAFxCpD,EAAmB,QACtBD,EAAWC,EAAOC,QACxB,GAAID,EAAOtI,IAAMqI,EAASsI,sBACxBjK,EAAa6I,KAAK,CAChBvP,GAAE,UAAEsI,EAAOtI,UAAT,QAAe,GACjB4I,KAAMP,EAASO,KACfG,QAASV,EAASU,QAClB4H,sBAAuB,CACrBG,SAAUzI,EAASsI,sBAAsBG,SACzCC,UAAW1I,EAASsI,sBAAsBI,WAE5C3H,UAAWf,EAASe,WAGzB,CAhBa,+BAiBdjC,EAAS,CAAEvB,KAAMxE,EAAoBqF,gBAAiBX,QAAS,CAAEY,iBAElE,GAAE,CAACgF,IAQJ,OACE,sBAAKxG,UAAU,OAAf,UACE,qBACEA,UAAWD,IAAW,sDAAuD,CAC3EqN,OAAQ7P,EAAMuE,QACd,UAAWvE,EAAMuE,UAEnBsD,MAAO,CAAEiI,UAAW,SALtB,SAMG9P,EAAMiE,cAAgBjE,EAAMiE,aAAavI,OAAS,EACjD,cAAC4O,GAAD,yBACErB,QAASA,EACTsB,cAAeqF,GACVpF,GAAc,CAAEA,eAHvB,IAIE5K,iBAAkB,CAAEsF,UAAW,mBAE/BlF,EAAM4E,cACR,qBAAKnC,UAAU,0CAAf,SACE,sBAAMA,UAAU,uBAAhB,SAAwCzC,EAAM4E,kBAGhD,cAAC8D,GAAD,CACEC,qBAAqB,YACrBC,gBAAiB,CACf,CAAE7F,MAAO,OAAQ7C,YAAa,QAC9B,CAAE6C,MAAO,QAAS7C,YAAa,YAC/B,CAAE6C,MAAO,SAAU7C,YAAa,UAChC,CAAE6C,MAAO,SAAU7C,YAAa,WAElCrC,qBAAqB,SACrB+B,iBAAkB,CAChBsF,UAAW,mDACX6C,cAAe,4BACfC,eAAgB,YAChBC,YAAa,QACbE,WAAY,8BACZI,kBAAmB,gEAK3B,qBAAK9F,UAAWD,IAAW,kBAAmB,CAAEqN,QAAQjJ,IAAxD,SA7CG5G,EAAMiE,aAEJ,cAACmJ,GAAD,IAFyB,SAkDnC,CC/ED,IAAMxO,GAA+C,CACnDmR,QAAS,IA+BIC,GAvB2B,SAAUhT,GAClD,IAAM6C,EAAanC,EAAsBkB,GAAmB5B,EAAM4C,iBAAkB5C,EAAMiT,mBAClFhH,EAAgCjM,EAAhCiM,QAASuB,EAAuBxN,EAAvBwN,WAAYrF,EAAWnI,EAAXmI,OACTpF,aAAgB,SAACC,GAAD,OAAWA,EAAMkJ,MAAMC,gBAAvB,IAEjBpD,qBAAWmK,IAE9B,GAAuB,IAAnBjH,EAAQvN,OACV,OAAO,KAGuB,OAAV8O,QAAU,IAAVA,KAAYD,cAElC,OACE,cAAC,EAAD,UACE,0BAAS9H,UAAW5C,EAAWkQ,QAA/B,UACG5K,EACD,cAACwK,GAAD,CAAiB1G,QAASA,EAAS/I,YAAY,YAAYsK,WAAYA,QAK9E,E,SCkBK5L,GAA2C,CAC/CsG,UAAW,sDACXG,qBAAsB,+BACtBc,KAAM,0CACNT,UAAW,+EACXyK,cAAe,iEAIV,SAASC,GAAQpT,GAAuC,IAAD,MAEtDqT,EADarT,EAAX6I,OACeC,QAMjBjG,GALU,YAAGwQ,EAAQC,oBAAX,iBAAG,EAAsBC,aAAzB,aAAG,EAA6BC,IAG7BzK,qBAAWmK,IAEXxS,EAAsBkB,KAEzC,SAAS6R,EAAWtK,GAClB,OAAO,qBAAK1D,UAAW5C,EAAWsG,KAA3B,SAAkCA,GAC1C,CAMkBpG,aAAgB,SAAC2Q,GAAD,OAAOA,EAAEjD,KAAKC,UAAd,IAEnC,OAKF,cAAC,KAAD,CAAWiD,mBAAiB,EAA5B,SAEI,eAAC,KAAD,WACI,cAAC,KAAD,UACI,cAAC,KAAD,UACA,qBAAKlO,UAAU,eAAf,SAA+BgO,EAAWJ,EAAQlK,YAGtD,cAAC,KAAD,UACA,gCACGsK,EAAWJ,EAAQO,QACpB,qBAAKnO,UAAW5C,EAAWsQ,cAA3B,8BATeE,EAAQ9S,KAgBhC,CCvGM,IAAMsT,GAAiD,CAG5DC,UAAW,CACT/N,MAAO,YACPgO,iBAAkBf,GAClBgB,eAAe,EACfC,eAAe,EACfzG,WAAY,CACVD,cAAe5E,EACfyB,aAAa,IA4Bf8J,KAAM,CACNnO,MAAO,OACPkO,eAAe,EACfzG,WAAY,CACVD,cAAe6F,GACfhJ,aAAa,KC5BJ,SAAS+J,GAAT,GAQ+B,IAAD,IAP3CC,iBAO2C,SAN3C9B,EAM2C,EAN3CA,QACA+B,EAK2C,EAL3CA,eAK2C,IAJ3CC,qBAI2C,MAJ3B,WAAQ,EAImB,MAH3CC,2BAG2C,MAHrB,WAAQ,EAGa,MAF3CxO,aAE2C,MAFnC,GAEmC,MAD3ClD,kBAC2C,MAD9B,CAAC,EAC6B,EAE3C,EAAoDM,mBAAiB,GAArE,mBAAOqR,EAAP,KAA2BC,EAA3B,KACMC,EAAanR,iBAAgB6Q,GAuBnC,SAASO,EAAczF,GACjB,CAAC,YAAa,WAAW0F,SAAS1F,EAAItQ,MACxCsQ,EAAI2F,iBAGU,cAAZ3F,EAAItQ,IA3BV,WACE,IAAIkW,EAAWN,EAAqB,EAChCM,EAAWxC,EAAQ5T,OACrB4V,EAAchC,EAAQwC,GAAU7M,MAAnB,UAA6BoM,EAA7B,YAA+CS,KAE5DP,GAAoB,GACpBO,EAAWxC,EAAQ5T,OAAS,GAE9B+V,EAAsBK,EACvB,CAmBGC,GACqB,YAAZ7F,EAAItQ,IAlBjB,WACE,IAAIkW,EAAWN,EAAqB,EAChCM,GAAY,EACdR,EAAchC,EAAQwC,GAAU7M,MAAnB,UAA6BoM,EAA7B,YAA+CS,KAE5DP,GAAoB,GACpBO,EAAW,GAEbL,EAAsBK,EACvB,CAUGE,GACqB,UAAZ9F,EAAItQ,KACb0T,EAAQkC,GAAoBS,UAE/B,CAiCD,OA/BA1Q,qBAAU,WACR,GAAI6P,EAMF,OALKM,EAAWhR,SACd4Q,EAAchC,EAAQkC,GAAoBvM,MAA7B,UAAuCoM,EAAvC,YAAyDG,IAExEE,EAAWhR,SAAU,EACrBE,SAASC,iBAAiB,UAAW8Q,GAC9B,kBAAM/Q,SAASE,oBAAoB,UAAW6Q,EAA9C,EAGPD,EAAWhR,SAAU,CAExB,IAoBC,sBAAK+B,UAAW5C,EAAWqS,iBAA3B,UACGnP,GACC,qBAAKN,UAAW5C,EAAWsS,aAA3B,SACGpP,IAGL,qBAAKN,UAAW5C,EAAWuS,iBAA3B,SACG9C,EAAQ5U,KAAI,SAAC2X,EAAQ1P,GAAT,OAzBnB,SAAsB0P,EAAgB1P,GAAgB,IAAD,EAC7C2P,EAA6B9P,IAAW3C,EAAW0S,gBAAZ,yBAC1C1S,EAAW2S,qBAD+B,QACd,GAAKpB,GAAazO,IAAU6O,IAE3D,OACE,qBAEE/O,UAAW6P,EACXzP,QAASwP,EAAOJ,SAChB1U,GAAE,UAAK8T,EAAL,YAAuB1O,GACzB8P,SAAU,EALZ,SAOGJ,EAAOK,SANH/P,EASV,CAUqCgQ,CAAaN,EAAQ1P,EAAxC,QAIpB,C,OC7Gc,SAASiQ,GAAT,GAKgB,IAJ7BC,EAI4B,EAJ5BA,eACAC,EAG4B,EAH5BA,aACAC,EAE4B,EAF5BA,gBACAC,EAC4B,EAD5BA,iBAGA,OACE,qCACE,qBACEzV,GAAIsV,EACJpQ,UAAU,6BAFZ,SAIGqQ,IAEH,qBACErQ,UAAU,iCAEV,YAAU,YAHZ,SAKGuQ,GAHID,KAOZ,CC5Bc,SAASE,GACtBnO,EACAoO,GAEA,OAAOC,WAASzY,IAA0BoK,GAAU,SAACsO,EAAGzQ,GACtD,IAAK0Q,yBAAeD,GAClB,OAAOA,EAET,IAAME,EAAkBJ,EAAgBE,EAAGzQ,GAC3C,IAAK2Q,EACH,OAAOA,EAET,IAAMC,EAAgBD,EAAgBtW,MAAM8H,SAC5C,IAAKyO,EACH,OAAOD,EAET,IAAME,EAAwBP,GAAuBM,EAAeL,GACpE,OAAOO,uBAAaH,EAAiB,CAAExO,SAAU0O,GAClD,GACF,C,ICxBG,G,UC4CJ,SAASE,GAAQ1T,EAAckD,GAC7B,OAAQA,EAAOC,MACb,IAAK,eACH,MAAO,CAAEwQ,yBAAqBzR,EAAW0R,gBAAgB,GAC3D,IAAK,eACH,MAAO,CAAED,yBAAqBzR,EAAW0R,gBAAgB,GAC3D,IAAK,eACH,MAAO,CAAED,oBAAqBzQ,EAAO4O,SAAU8B,gBAAgB,GAEpE,CAKc,SAASC,GAAT,GAeyC,IAAD,MAdrDC,kBAcqD,MAdxC,GAcwC,EAbrDC,EAaqD,EAbrDA,YACAC,EAYqD,EAZrDA,yBACAC,EAWqD,EAXrDA,iBACAC,EAUqD,EAVrDA,mCACAC,EASqD,EATrDA,kBACArP,EAQqD,EARrDA,SAQqD,IAPrDsP,gBAOqD,MAP1C,WAAQ,EAOkC,MANrDC,0BAMqD,MANhC,kBAAM,IAAN,EAMgC,MALrDC,kBAKqD,MALxC,kBAAM,IAAN,EAKwC,EAJrDC,EAIqD,EAJrDA,cACAC,EAGqD,EAHrDA,aACAC,EAEqD,EAFrDA,gBAEqD,IADrD5U,kBACqD,MADxC,CAAC,EACuC,EACrD,EAGekF,qBAAW2O,GAAS,CACjCC,yBAAqBzR,EACrB0R,gBAAgB,IALlB,0BACED,EADF,EACEA,oBACAC,EAFF,EAEEA,eACClP,EAHH,KAOMgQ,GAAyBd,IAAmBO,EAElD,EAA8ChU,wBAA6B+B,GAA3E,mBAAOyS,EAAP,KAAwBC,EAAxB,KACA,EAA8CzU,mBAAS2T,GAAvD,mBAAOe,EAAP,KAAwBC,EAAxB,KACA,EAAsC3U,mBAAS,GAA/C,mBAAO4U,EAAP,KAAoBC,EAApB,KACA,EAA8C7U,mBAAS,GAAvD,mBAAO8U,EAAP,KAAwBC,EAAxB,KACMC,EAA6BrX,mBAAQ,kBAAMsX,cAAN,GAAc,IAEnDC,EAAW9U,iBAAyB,MACpC+U,EAAc/U,iBAAuB,MACrCgV,GAAmBhV,iBAAuB,MAC5CqT,GAAkBqB,GACpBC,EAAmB,GAGrB,IAAIM,GAAc,EACZC,GAAoBxC,GAAuBnO,GAAU,SAAA4Q,GACzD,IAAMC,IAAMtC,eAAeqC,IAAUA,EAAMvS,OAASgO,GAClD,OAAOuE,EAET,IAAME,EAAsBJ,GAC5BA,KAEA,IACMK,EADWH,EAAM1Y,MACYsS,QAAQ5U,KAAI,SAAA2X,GAM7C,OAAO,2BAAKA,GAAZ,IAAoBJ,SALK,WAAO,IAAD,EAC7B6C,EAAmBzC,EAAOpN,OAC1BP,EAAS,CAAEvB,KAAM,iBACjB,UAAAkP,EAAOJ,gBAAP,cAAAI,EACD,GAEF,IAOD,OAAIsB,IAAwBiC,EACnBD,IAAMlC,aAAaiC,EAAO,CAC/BnE,uBACAjC,QAASuG,EACTzE,WAAW,EACXxV,IAAI,GAAD,OAAKga,EAAL,YAA4Bb,GAC/BzD,cAX0B,SAACrM,EAAe0P,GAA6B,IAAD,IACxE,aAAAe,EAAM1Y,OAAMsU,qBAAZ,gBAA4BrM,EAAO0P,GACnCC,EAAmBD,EACpB,IAWQgB,IAAMlC,aAAaiC,EAAO,CAC/BnE,uBACAjC,QAASuG,EACTzE,WAAW,EACXxV,IAAI,GAAD,OAAKga,EAAL,YAA4Bb,IAGpC,IAOD,SAASxD,GAAoBuE,GAC3B,QAA4B5T,IAAxByR,GAAqCmC,EACvCpR,EAAS,CAAEvB,KAAM,eAAgB2O,SAAU,SACtC,QAA4B5P,IAAxByR,EAAmC,CAC5C,IAAIoC,EAAsCD,EACtCnC,EAAsB,EACtBA,EAAsB,EACtBoC,EAAkB,GACpBA,OAAkB7T,EAClBqS,EAAcM,GACC,OAAfJ,QAAe,IAAfA,KAAkBI,IACTkB,EAAkBP,GAAc,IACzCO,EAAkBP,GAAc,GAElC9Q,EAAS,CAAEvB,KAAM,eAAgB2O,SAAUiE,GAC5C,CACF,CAED,SAASvV,GAAoB0L,GAAkB,IAAD,EACtC3Q,EAAS2Q,EAAI3Q,OACbA,EAAOya,WAAWX,EAAS3U,UAA3B,UAAwC4U,EAAY5U,eAApD,OAAwC,EAAqBuV,SAAS1a,IAC1EmJ,EAAS,CAAEvB,KAAM,gBAEpB,CAED,SAAS+S,GAAsBhK,GACzB,CAAC,YAAa,WAAW0F,SAAS1F,EAAItQ,MACxCsQ,EAAI2F,iBAGU,WAAZ3F,EAAItQ,IACN8I,EAAS,CAAEvB,KAAM,iBACI,cAAZ+I,EAAItQ,KAAuB4Z,GAAc,QAA6BtT,IAAxByR,GACvDjP,EAAS,CAAEvB,KAAM,eAAgB2O,SAAU,GAE9C,CAEDvQ,qBAAU,WACR,GAAImT,EAGF,OAFA9T,SAASC,iBAAiB,QAASL,IACnCI,SAASC,iBAAiB,UAAWqV,IAC9B,WACLtV,SAASE,oBAAoB,QAASN,IACtCI,SAASE,oBAAoB,UAAWoV,GACzC,CAEJ,IA0BD,IAAMC,GAAmC3T,IAAW3C,EAAWuW,uBAAZ,yBAChDvW,EAAWwW,uCADqC,QACF,GAAK3B,IAGtD,OACE,sBAAKjS,UAAW0T,GAAkC7Y,IAAKiY,GAAkBe,OAd3E,SAAoBpK,GACbA,EAAIqK,eAAmBrK,EAAIqK,yBAAyBC,aAAiBjB,GAAiB7U,UAGtF6U,GAAiB7U,QAAQuV,SAAS/J,EAAIqK,gBACzC7R,EAAS,CAAEvB,KAAM,iBAEpB,EAOC,UACE,sBAAKV,UAAS,OAAE5C,QAAF,IAAEA,OAAF,EAAEA,EAAY4W,eAA5B,UACE,qBAAKhU,UAAW5C,EAAW6W,cAA3B,SACGpC,MAEH,uBACE7R,UAAW5C,EAAW8W,aACtB5C,YAAaA,EACb6C,SAAU,SAAA1K,GACR,IAAMjH,EAAQiH,EAAI3Q,OAAO0J,MACzB6P,EAAmB7P,GACnBsP,EAActP,GACduP,EAAavP,GACb+P,EAAeD,EAAc,GAC7BrQ,EAAS,CAAEvB,KAAM,iBACjB+R,EAAmBD,EAAkB,EACtC,EACDpS,QAAS,WACP2R,EAAaV,GACbkB,EAAeD,EAAc,GAC7BrQ,EAAS,CAAEvB,KAAM,kBACbqS,GAAc,GAAK1B,IACrBoB,EAAmBD,EAAkB,EAExC,EACD4B,UAtDR,SAAmC3K,GAC7B,CAAC,YAAa,WAAW0F,SAAS1F,EAAItQ,MACxCsQ,EAAI2F,iBAGU,UAAZ3F,EAAItQ,UACqBsG,IAAxByR,GACCO,IAEJY,EAAmBhB,GACnBM,EAASN,GACTpP,EAAS,CAAEvB,KAAM,iBAEpB,EA0CO8B,MAAO6O,EACPxW,IAAK+X,EACL,mBAAkBF,EAClB,wBAAuBR,IAEzB,qBAAKlS,UAAW5C,EAAWiX,sBAA3B,SACGzC,SAGL,cAAC,GAAD,CACExB,eAAgBsC,EAChBrC,aAAckB,EACdjB,gBAAiBkC,EACjBjC,iBAAkBiC,EACdhB,EACA,KAGLS,GAAsD,IAA7BvB,WAAS1L,MAAM3C,IACvC,qCACE,qBAAKrC,UAAW5C,EAAWkX,UAC3B,qBAAKtU,UAAW5C,EAAWmX,kBAAmB1Z,IAAKgY,EAAnD,SACGG,UAMZ,CD/QD,IAAI,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAWra,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAAS0b,GAAYra,EAAMC,GACzB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,QAAS,YACTE,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,20BAEP,CAEA,IE7BI,GAAO,GF6BP,GAA0B,aAAiByZ,IAChC,I,aG5BA,SAASC,KACtB,OACE,qBAAKzU,UAAU,mBAAf,SACE,qBAAKA,UAAU,iCAAiCtF,QAAQ,YAAYD,OAAO,KAAKD,MAAM,KAAtF,SACE,wBAAQwF,UAAU,2BAA2B0U,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKpN,OAAO,QAAQC,YAAY,IAAI9M,KAAK,YAI/G,CDRD,IAAI,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAWhC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAAS+b,GAAmB1a,EAAMC,GAChC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDS,MAAO,6BACPF,QAAS,YACTC,KAAM,eACNE,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,kBACHJ,KAAM,UACH,KAAW,GAAsB,gBAAoB,OAAQ,CAChEI,EAAG,gPAEP,CAEA,IAAI,GAA0B,aAAiB8Z,IAChC,IEzBA,SAASC,GAAT,GAAsE,IAA7CC,EAA4C,EAA5CA,YAAa3N,EAA+B,EAA/BA,UAAWpH,EAAoB,EAApBA,UAC9D,OACE,wBACEA,UAAWA,EACXI,QAAS2U,EACT,aAAW,gBAHb,SAKG3N,EACG,cAAC,GAAD,IACA,cAAC,GAAD,KAGT,C,qBCXM,SAAS4N,GACdC,GAMA,IAAMC,EAAapX,iBAAO,CAAEqX,cAAe,EAAGC,gBAAiB,IAC/D,EAAwD1X,qBAAxD,mBAAO2X,EAAP,KAA6BC,EAA7B,KAFF,wDAGE,WAA2CjR,GAA3C,yFACQkR,IAAcL,EAAWjX,QAAQkX,cADzC,kBAES,IAAIK,QAAJ,mDAAY,WAAOC,GAAP,kGACMR,EAAe5Q,GADrB,OACXqR,EADW,OAEbH,GAAaL,EAAWjX,QAAQmX,kBAClCE,EAAwBI,GACxBR,EAAWjX,QAAQmX,gBAAkBG,GAEvCE,EAAQC,GANS,2CAAZ,wDAFT,2CAHF,wBAcE,MAAO,CAACL,EAdV,4CAeC,CC7BD,IAAMM,GAA6C,CACjDC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,KAOP,SAAeC,GAAtB,uC,0DAAO,WACLC,EACAC,EACAC,GAHK,sFAKDD,EAAQ9G,SAASgH,IAAaC,SAAYJ,EAAezY,MAAM4F,SAASkT,aALvE,0CAOsBC,GAAgBJ,GAPtC,OAOKvK,EAPL,OAQDqK,EAAeO,gBAAgB,CAC7B3K,SAAUD,EAAS6K,OAAO5K,SAC1BC,UAAWF,EAAS6K,OAAO3K,YAV5B,gDAaDN,QAAQkL,MAAR,MAbC,0D,sBAqBA,SAAeC,GAAtB,qC,0DAAO,WAA6BV,EAAgCW,GAA7D,4EACLA,EACIX,EAAezM,uBACfyM,EAAeY,wBAHd,4C,sBASA,SAAeC,GAAtB,qC,0DAAO,WAAgCb,EAAgCW,GAAhE,sFACWA,EADX,gCAEKX,EAAec,8BAFpB,yDAGKd,EAAee,+BAHpB,iCACCvQ,EADD,8BAIEA,QAJF,IAIEA,OAJF,EAIEA,EAASwQ,cAJX,6C,sBAUA,SAAeV,GAAtB,mC,0DAAO,WAA+BJ,GAA/B,qGACE,IAAIV,SAAQ,SAACC,EAASwB,GACvB,gBAAiBC,UACnBA,UAAUC,YAAYC,oBACpB,SAAAzL,GAAQ,OAAI8J,EAAQ9J,EAAZ,IACR,SAAA0L,GACE9L,QAAQkL,MAAM,6EACdQ,EAAOI,EACR,GALH,2BAMO1B,IAA8BO,IAGrCe,EAAO,qEAEV,KAdI,4C,sBCtCQ,SAASK,GACtBtB,EACAE,GAMA,IAAMqB,EAAyBzZ,mBACzB6Y,EAAaX,EAAezY,MAAMyN,KAAKC,aAAeuM,IAAeC,SAN7C,wDAQ9B,oGACMxB,EAA0B,GACzBD,EAAezY,MAAM4F,SAASkT,aAFrC,uBAGSkB,EAAuBtZ,UAC1BsZ,EAAuBtZ,QAAU0Y,EAC7BX,EAAec,8BACfd,EAAee,gCANzB,SAQmDQ,EAAuBtZ,QAR1E,cAQUyZ,EARV,OASIzB,GAA0C,OAAhCyB,QAAgC,IAAhCA,OAAA,EAAAA,EAAkCV,eAAgB,GAThE,SAUUjB,GAAuBC,EAAgBC,EAASC,GAV1D,OAYEQ,GAAcV,EAAgBW,GAZhC,6CAR8B,sBAsB9B,MAAO,CAtBuB,2CAsBRY,EACvB,CCtCD,IAAMI,GAAgD,CACpDC,YAAa,aAWA,SAASC,GAAT,EAA+F1a,GAA6D,IAAD,IAAxHqF,aAAwH,MAAhH,GAAgH,EAA5GsV,EAA4G,EAA5GA,kBACtD1a,EAAU,2BAAQua,IAAsBxa,GAC9C,IAAK2a,GAAkD,IAA7BA,EAAkB7e,OAC1C,OAAO,+BAAOuJ,IAEhB,IAAMuV,EAAU,YAAOD,GACvBC,EAAWC,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE/O,OAASgP,EAAEhP,MAAvB,IAChB,IAPwK,EAOlKiP,EAAiB,GACnBC,EAAO,EAR6J,cASzIL,GATyI,IASxK,2BAA2C,CAAC,IAAD,UAAhC7O,EAAgC,EAAhCA,OAAQjQ,EAAwB,EAAxBA,OACbiQ,EAASkP,GACXD,EAAe9N,KAAK,+BAAkB7H,EAAM6V,UAAUD,EAAMlP,IAA7BkP,IAEjCD,EAAe9N,KAAK,sBAAmBrK,UAAW5C,EAAWwa,YAAzC,SAAuDpV,EAAM6V,UAAUnP,EAAQA,EAASjQ,IAA7EiQ,IAC/BkP,EAAOlP,EAASjQ,CACjB,CAfuK,+BAmBxK,OAHImf,EAAO5V,EAAMvJ,QACfkf,EAAe9N,KAAK,+BAAkB7H,EAAM6V,UAAUD,IAAvBA,IAE1B,mCAAGD,GACX,CChBc,SAASG,GACtBlV,EACAhG,EACAmb,GACC,IAAD,EAEA,OADAnb,EAAU,UAAGA,SAAH,QAAiB,CAAC,EACrB,qCACJmb,GAAQ,qBAAKvY,UAAW5C,EAAW2L,KAA3B,SACP,cAACwP,EAAD,MAEF,qBAAKvY,UAAW5C,EAAWwS,OAA3B,SACGiI,GAAuBzU,OAG7B,CChBD,IAEajH,GAAsC,aACjDsG,UAAW,YACX6R,QAAS,kCACTC,kBAAmB,mCACnBP,eAAgB,kDAChBL,uBAAwB,qEACxBC,gCAAiC,YACjCM,aAAc,wDACdD,cAAe,kBACfnE,gBAAiB,gDACjB0I,oBAAqB,+BACrBnE,sBAAuB,6DACvBoE,aAAc,UACd1I,cAAe,eDvBgB,CAC/BH,OAAQ,sCACR7G,KAAM,iCC6CO,SAAS2P,GAAT,GAKL,EAJRpH,YAIS,IAAD,EAHR4E,EAGQ,EAHRA,mBACA/Y,EAEQ,EAFRA,iBACA/B,EACQ,EADRA,qBAEMgC,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GACxE4a,EAAiB/M,cACjBxC,EAAQnJ,aAAgB,SAAAC,GAAK,OAAIA,EAAMkJ,MAAMyE,KAAhB,IAC7B9D,EAAY9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,SAAvB,IACjCuP,EAAarZ,aAAgB,SAAA2Q,GAAC,OAAIA,EAAEjD,KAAKC,UAAX,MAA2BuM,IAAeC,SAC9E,EAAoDzC,IAAuB,WACzE,OAAO2B,EACHX,EAAec,8BACfd,EAAee,8BACpB,IAJD,mBAAO4B,EAAP,KAA6BC,EAA7B,KAKA,EAA+CtB,GAA4BtB,EAAgBE,GAA3F,mBAAO2C,EAAP,KAAqBtB,EAArB,KAEM1K,EAAiB,iBAAG8L,QAAH,IAAGA,OAAH,EAAGA,EAAsBnS,QAAQvO,KAAI,SAAAmL,GAC1D,MAAO,CACLZ,MAAOY,EAAOZ,MACdgN,SAAU,WACR+H,EAAuBtZ,aAAUwB,EACjCuW,EAAe8C,SAAS1V,EAAOZ,OAC/BqW,GACD,EACD5I,QAASqI,GAAyBlV,EAAQhG,EAAY2b,IAEzD,WAVsB,QAUjB,GAEAvH,EAAmB1M,EAAmB,CAC1CI,OAAO,GAAD,OAAK2H,EAAQ5T,OAAb,+BACNgM,WAAW,GAAD,OAAK4H,EAAQ5T,OAAb,gCACV+L,MAAO6H,EAAQ5T,SAUjB,OACE,qBAAK+G,UAAW5C,EAAWqF,UAA3B,SACE,cAAC2O,GAAD,CACEC,WAAY5K,EACZ6K,YAAY,wBACZC,yBAvF0B,iGAwF1BC,iBAAkBA,EAClBG,SAAUkH,EACV/G,cAAe,SAAAtP,GACbwT,EAAe8C,SAAStW,EACzB,EACDuP,aAAc,WACZwF,EAAuBtZ,QAAU2a,GAClC,EACD/G,WAAY,kBAAM,cAAC,GAAD,GAAN,EACZD,mBAtBN,WACE,OAAO,cAACkD,GAAD,CACL9U,UAAW5C,EAAWqb,aACtB1D,YAAa8D,EACbzR,UAAWA,IAAa,GAE3B,EAiBKhK,WAAYA,EACZsU,kBAAsC,IAAnB7E,EAAQ5T,OAf7B,SAkBI4T,EAAQ5T,OAAS,GACjB,cAACyV,GAAD,CACE7B,QAASA,EACT+B,eAAe,IACfC,cAAe,SAAArM,GACbwT,EAAe8C,SAAStW,EACzB,EACDpF,WAAYA,OAMvB,CC/HM,ICJH,GDIS4b,GAA+C,CAC1DC,OAAQ,mCACRC,cAAe,OACfC,OAAQ,KACRC,wBAAwB,EACxBC,UAAW,CACTC,gBAAiB,gEACjBC,eAAgB,yEAChBC,mBAAoB,iEACpBC,sBAAuB,uEACvBC,qBAAsB,gFACtBC,aAAc,yEEKX,SAASC,GAAkBC,EAAoBC,GACpD,IAAMC,EAAcjc,mBACfic,EAAY9b,UACf8b,EAAY9b,QAAU+b,YAAuB,2BACxChB,IADuC,IAE1Ca,iBAGJ,IAAMI,ECpBO,WACb,IAAMA,EAAenc,kBAAgB,GAMrC,OALAgB,qBAAU,WAER,OADAmb,EAAahc,SAAU,EAChB,WAAQgc,EAAahc,SAAU,CAAQ,CAC/C,GAAE,IAEIgc,CACR,CDYsBC,GACrB,EAAwDxc,mBAA4B,IAApF,mBAAOyc,EAAP,KAA6BC,EAA7B,KACMC,EEzBO,SAA8CC,EAASC,GACpE,IAAMC,EAAe1c,mBAYrB,OAXwC,WAA6B,IAAD,uBAAxBiH,EAAwB,yBAAxBA,EAAwB,gBAClE,OAAO,IAAIyQ,SAAQ,SAAAC,QACYhW,IAAzB+a,EAAavc,SACfgB,aAAaub,EAAavc,SAE5Buc,EAAavc,QAAUkB,OAAOD,YAAW,WACvCuW,EAAQ6E,EAAI,WAAJ,EAAQvV,IAChByV,EAAavc,aAAUwB,CACxB,GAAE8a,EACJ,GACF,CAEF,CFWkCE,CAAoB,kCAAC,kGAC/CV,EAAY9b,QADmC,iEAI9C8b,EAAY9b,QAAQ2Y,wBAJ0B,UAS/CqD,EAAahc,QATkC,iDAY9CuI,EAAUuT,EAAY9b,QAAQV,MAAMmd,UAAUC,WAAa,GACjEP,EAAwB5T,GACxBoU,GAAgB,GAdoC,2CAenDd,GACH,EAAqCpc,oBAAkB,GAAvD,mBAAO0J,EAAP,KAAkBwT,EAAlB,KAeA,MAAO,CAAC,CAAET,uBAAsB/S,aAbhC,SAAoCX,EAAeoU,EAAgCC,GAC5Ef,EAAY9b,SAGbwI,IAAUsT,EAAY9b,QAAQV,MAAMkJ,MAAMyE,QAG9C0P,GAAgB,GAChBb,EAAY9b,QAAQ6a,SAASrS,GAC7BsT,EAAY9b,QAAQ8c,qBAAqBD,GACzCf,EAAY9b,QAAQ+c,kBAAkBH,GACtCR,IACD,EAEF,CG5Cc,SAASY,GAAezQ,GACrC,OAAO,IACR,CAKM,SAAS0Q,GAAwBC,EAA6BhB,GACnE,IAAMiB,EAiBR,SAAiCjB,GAC/B,OAAOA,EAAqBkB,QAAiC,SAACC,EAAMrd,GAElE,OADAqd,EAAKrd,EAAQR,aAAeQ,EAAQuI,QAC7B8U,CACR,GAAE,CAAC,EACL,CAtB8BC,CAAwBpB,GAWrD,OAVyB3J,GAAuB2K,GAAgB,SAAAlI,GAC9D,IAAKrC,yBAAeqC,IAAUA,EAAMvS,OAASua,GAC3C,OAAOhI,EAET,MAAkCA,EAAM1Y,MAAhCkD,EAAR,EAAQA,YAAa4E,EAArB,EAAqBA,SACrB,OAAM5E,KAAe2d,EAGd/Y,EAAS+Y,EAAqB3d,IAF5B,IAGV,GAEF,CJpCD,IAAI,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAW9E,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAAS0iB,GAAWrhB,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,QAAS,YACTC,KAAM,eACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,48BAEP,CAEA,IAAI,GAA0B,aAAiBygB,I,IAChC,I,kBK5BFC,GAAsB,0BCiBnC,IACMtf,GAA4C,2BAC7Cuf,IAD6C,IAEhDC,8BAA+B,qDAC/BC,mBAAoB,yBACpBC,qBAAsB,OACtBhW,aAAc,8BAsCD,SAASiW,GAAT,GAWe,IAAD,IAV3BxK,EAU2B,EAV3BA,YACAuI,EAS2B,EAT3BA,WACAkC,EAQ2B,EAR3BA,mBACAC,EAO2B,EAP3BA,qBACAC,EAM2B,EAN3BA,kBACAC,EAK2B,EAL3BA,mBAK2B,IAJ3BC,2BAI2B,MAJL,EAIK,EAH3Bhf,EAG2B,EAH3BA,iBACA/B,EAE2B,EAF3BA,qBAE2B,IAD3BghB,oCAC2B,MADI,IACJ,EACrBhf,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GAExEihB,EAAiBC,cACjBtG,EAAiB/M,cACjBxC,EAAK,UAAGnJ,aAAgB,SAAAC,GAAK,OAAIA,EAAMkJ,MAAMyE,KAAhB,WAAxB,QAAkD,GACvD9D,EAAS,UAAG9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,SAAvB,WAAxB,SACf,EAAiEkQ,GAA4BtB,GAA7F,mBAAOuG,EAAP,KAAuChF,EAAvC,KACA,EAAoDvC,GAAsB,kCAAC,kHAClEgB,EAAee,gCADmD,4CAA3E,mBAAO4B,EAAP,KAA6BC,EAA7B,KAGA,EDjFa,SACbuD,GAEA,MAA6Cze,qBAA7C,mBAAQ8e,EAAR,KAAwBC,EAAxB,KAEMC,EAAsBhe,uBAAY,WACtCie,aAAaC,WAAWnB,IACxBgB,EAAiB,IAAII,KAAe,CAClC1T,MAAOgT,EACPW,UAAWrB,MAEbkB,aAAaC,WAAWnB,GACzB,GAAE,CAACU,IAaJ,OAPArd,qBAAU,WACR2d,EAAiB,IAAII,KAAe,CAClC1T,MAAOgT,EACPW,UAAWrB,KAEd,GAAE,CAACU,IAEG,QAACK,QAAD,IAACA,OAAD,EAACA,EAAgBO,oBAXA,SAAC7R,GACT,OAAdsR,QAAc,IAAdA,KAAgBQ,gBAAgB9R,EACjC,EAS6DwR,EAC/D,CCuDgEO,CAAkBd,GAAjF,mBAAOK,EAAP,KAAuBQ,EAAvB,KAAwCN,EAAxC,KACA5d,qBAAU,WACJid,GACFW,GAEH,GAAE,CAACA,EAAqBX,IACzB,IAAMmB,GAAsBnB,GAAiD,KAAb,OAAdS,QAAc,IAAdA,OAAA,EAAAA,EAAgBvjB,QAGlE,SAAS4f,IACP,IAAKkD,EAAoB,CACvB,IAAM7Q,EAAQ8K,EAAezY,MAAMkJ,MAAMyE,MACzCA,GAAS8R,EAAgB9R,EAC1B,CACDqR,GACD,CAED,IAsI2B1P,EAtI3B,EAA0D+M,GAAkBC,EAAYuC,GAAxF,mBAAOe,EAAP,KAA4BC,EAA5B,KACQjD,EAA2DgD,EAA3DhD,qBAAiCkD,EAA0BF,EAArC/V,UACxBkW,GAA0C,OAApB3E,QAAoB,IAApBA,OAAA,EAAAA,EAAsBnS,UAAW,GACvD2U,EAAiBa,GAAwBA,EAAqBqB,EAAuBlD,GAC3F,SAASoD,EAAqB9W,GAC5B,GAAKuV,EAAL,CAGA,IAAMlB,EF1DH,SAAoCzY,GACzC,IAAMmb,EAAyB,IAAIC,IAQnC,OAPAjN,GAAuBnO,GAAU,SAAAsO,GAC/B,GAAIC,yBAAeD,IAAMA,EAAEjQ,OAASua,GAAgB,CAClD,IAAQxd,EAAgBkT,EAAEpW,MAAlBkD,YACR+f,EAAuBE,IAAIjgB,EAC5B,CACD,OAAOkT,CACR,IACMrG,MAAMqT,KAAKH,EACnB,CEgD6BI,CAA2BzC,GAC/CN,EF5CH,SAAiCxY,GACtC,IAAMwY,EAAgD,CAAC,EAQvD,OAPArK,GAAuBnO,GAAU,SAAAsO,GAC/B,GAAIC,yBAAeD,IAAMA,EAAEjQ,OAASua,GAAgB,CAClD,MAA+BtK,EAAEpW,MAAzBkD,EAAR,EAAQA,YAAa0L,EAArB,EAAqBA,MACrB0R,EAAepd,GAAe0L,GAAS,IACxC,CACD,OAAOwH,CACR,IACMhY,OAAOiB,KAAKihB,GAAgBQ,QAAuB,SAACwC,EAAmBpgB,GAAiB,IAAD,EAE5F,OADAogB,EAAkBpgB,GAAlB,UAAiCod,EAAepd,UAAhD,QAAgE,EACzDogB,CACR,GAAE,CAAC,EACL,CE+B0BC,CAAwB3C,GAC/CiC,EAA2B3W,EAAOoU,EAAgBC,EAHjD,CAIF,CAsFD,OACE,qBAAK9a,UAAW5C,EAAWqF,UAA3B,SACE,eAAC2O,GAAD,CACEC,WAAY5K,EACZ6K,YAAaA,EACbC,yBAzL0B,iGA0L1BC,kBA+BqB3E,EA/BiByQ,EAgCrCxY,EAAmB,CACxBI,OAAO,GAAD,OAAK2H,EAAQ5T,OAAb,+BACNgM,WAAW,GAAD,OAAK4H,EAAQ5T,OAAb,gCACV+L,MAAO6H,EAAQ5T,UAlCX0Y,SAAUkH,EACV/G,cAAe,SAAAtP,GACbwT,EAAe8C,SAAStW,EACzB,EACDuP,aAAc,SAAAvP,GACZ+a,EAAqB/a,GACrB+U,EAAuBtZ,QAAU2a,GAClC,EACD5G,gBAAiB,SAAAxP,GACf+a,EAAqB/a,EACtB,EACDoP,mBAAoB,kBAClB,cAACkD,GAAD,CACE9U,UAAW5C,EAAWqb,aACtB1D,YAAa8D,EACbzR,UAAWA,GAJK,EAOpByK,WAAY,kBAAM,cAAC,GAAD,GAAN,EACZzU,WAAYA,EACZsU,kBAAkD,IAA/B4L,EAAoBrkB,QAAgD,IAAhCkhB,EAAqBlhB,SAAiBikB,EAzB/F,WA2BInB,GA7DR,WAAiC,IAAD,EACxBgC,EAAwB,2BACzB3gB,GADyB,IAE5B0S,gBAAiB1S,EAAWue,8BAC5B5S,KAAM3L,EAAWwe,mBACjBhM,OAAQxS,EAAWye,uBAEfhP,EAAiB,iBAAG2P,QAAH,IAAGA,OAAH,EAAGA,EAAgBvkB,KAAI,SAAAmL,GAC5C,MAAO,CACLZ,MAAOY,EAAOqD,MACd+I,SAAU,WACR+H,EAAuBtZ,aAAUwB,EACjCuW,EAAe8C,SAAS1V,EAAOqD,OAC/BoS,GACD,EACD5I,QAASqI,GAAyB,CAAE9V,MAAOY,EAAOqD,OAASsX,EAA0BC,IAExF,WAVsB,QAUjB,GACN,OAAuB,IAAnBnR,EAAQ5T,OACH,KAGF,cAACyV,GAAD,CACL7B,QAASA,EACT+B,eAAe,iCACfC,cAAe,SAAArM,GACbwT,EAAe8C,SAAStW,EACzB,EACDpF,WAAY2gB,GAEf,CA+B6BE,GAjH9B,WACE,GAAmC,IAA/BX,EAAoBrkB,OACtB,OAAO,KAET,IAAI4T,EAAoB,GAqCxB,OApCAyQ,EAAoB/S,SAAQ,SAAAnH,GAW1B,GAVAyJ,EAAQxC,KAAK,CACX7H,MAAOY,EAAOZ,MACdgN,SAAU,WACR+H,EAAuBtZ,aAAUwB,EACjCuW,EAAe8C,SAAS1V,EAAOZ,OAC/BqW,GACD,EACD5I,QAASqI,GAAyBlV,EAAQhG,EAAY2b,OAGpDkD,EAAJ,CAGA,IAAMiC,EAAe9a,EAAO8a,aACxBC,EAAuC,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAcjmB,KAAI,SAAAwF,GAC9D,MAAO,CACL6C,MAAO4b,EAAqBA,EAAmBze,GAAeA,EAC9DA,cAEH,IAEY,OAAb0gB,QAAa,IAAbA,KAAe5T,SAAQ,SAAA6T,GAAI,OACzBvR,EAAQxC,KAAK,CACX7H,MAAOY,EAAOZ,MACdgN,SAAU,WACR+H,EAAuBtZ,aAAUwB,EACjCuW,EAAe8C,SAAS1V,EAAOZ,OAC/BqW,IACAwD,EAAehS,KAAf,WAAwB+T,EAAK3gB,aAC9B,EACDwS,QAASqI,GAAyB,CAAE9V,MAAM,MAAD,OAAQ4b,EAAK9d,QAArB,YAAC,eAAoClD,GAArC,IAAiDwS,OAAQxS,EAAWyI,iBAT9E,GAT1B,CAqBF,IAEM,cAAC6I,GAAD,CACL7B,QAASA,EACT+B,eAAe,mCACfC,cAAe,SAAArM,GACbwT,EAAe8C,SAAStW,GACxB+a,EAAqB/a,EACtB,EACDpF,WAAYA,GAEf,CAgEMihB,GACAlD,GAAkBD,GAAwBC,EAAgBhB,OAIlE,CCnOc,SAASmE,KACtB,OACE,cAACxC,GAAD,CACExK,YAAY,YACZuI,WAAW,sBACXuC,6BAA8B,IAC9BF,mBAAoB,SAAAze,GAAW,mCAAI2Q,GAAuB3Q,UAA3B,aAAI,EAAqC6C,aAAzC,QAAkD7C,CAAlD,EAC/Bue,qBAAsB,SAAA5U,GAAS,OAC7B,sBAAKpH,UAAWoH,EAAY,aAAe,GAA3C,UACE,cAAC6T,GAAD,CAAgBxd,YAAY,SAA5B,SACG,SAAA+I,GAAO,OACN,qBAAKxG,UAAU,iBAAf,SACGwG,EAAQvO,KAAI,SAAC2c,EAAG1U,GAAJ,OAAc,cAACqe,GAAD,CAAWnb,OAAQwR,GAAnB,UAA8B1U,EAA9B,YAAuC0U,EAAElR,MAAvD,KAFT,IAMV,cAACuX,GAAD,CAAgBxd,YAAY,OAAO0L,MAAO,EAA1C,SACG,SAAA3C,GAAO,OACN,qBAAKxG,UAAU,gBAAf,SACGwG,EAAQvO,KAAI,SAAC2c,EAAG1U,GAAJ,OAAc,cAAC,GAAD,CAASkD,OAAQwR,GAAjB,UAA4B1U,EAA5B,YAAqC0U,EAAElR,MAArD,KAFT,MAViB,GAoBpC,CAWD,SAASiK,GAAT,GAAyC,IACjC6Q,EADgC,EAArBpb,OACeC,QAChC,OAAQ,gCACN,qBAAKrD,UAAU,sCACf,sBAAKgQ,SAAU,EAAGhQ,UAAU,qCAA5B,UACE,qBAAKA,UAAU,yCAAf,SAAyDwe,EAAQC,WACjE,8BAAMD,EAAQrQ,cAJAqQ,EAAQC,SAO3B,CAMD,SAASF,GAAT,GAA2C,IAAtBnb,EAAqB,EAArBA,OAEbsb,EADuBtb,EAAOC,QACRqb,UAC5B,OACE,sBAAK1O,SAAU,EAAGhQ,UAAU,wDAA5B,UACE,qBAAKA,UAAU,mBAAf,SAAmCoD,EAAOM,OAC1C,qBAAK1D,UAAU,YAAf,SAA4B0e,MAGjC,CCtED,ICAI,GDyBWC,GAzBA,WACf,OACA,qBAAK3e,UAAU,qBAAf,SACM,sBAAKA,UAAU,oCAAf,UACE,sBAAKA,UAAU,QAAf,UACE,qBACE2D,IAAI,oGACJnJ,MAAM,OACNC,OAAO,OAJX,OAKA,qBAAIuF,UAAU,6DAAd,UACI,6BAAI,mBAAGyD,KAAK,gCAAR,yBACJ,6BAAI,mBAAGA,KAAK,kCAAR,kBACJ,6BAAI,mBAAGA,KAAK,wCAAR,qBACJ,6BAAI,mBAAGA,KAAK,qCAAR,qBACJ,6BAAI,mBAAGA,KAAK,0DAAR,gCAGR,qBAAKzD,UAAU,QAAf,SACE,mBAAGyD,KAAK,sDAAR,+BAKT,EEfKmb,GAAQ,CACZ,CACEpf,GAAI,IACJc,MAAO,QAHG,mBAKT3H,OAAOkmB,QAAQzQ,IAAwBnW,KAAI,mCAAEwF,EAAF,WAA4B,CACxE+B,GAAI/B,EACJ6C,MAF4C,KAE9BA,OAAS7C,EAFqB,MAyBjCqhB,GAhByB,SAAC,GAAc,IAAZ1mB,EAAW,EAAXA,KACnCue,EAAarZ,aAAgB,SAAA2Q,GAAC,OAAIA,EAAEjD,KAAKC,UAAX,MAA2BuM,IAAeC,SAC9E,OACE,qCACA,cAAC,GAAD,IACGd,EACG,cAAC+B,GAAD,CACApH,YAAY,cAEZ,cAACgN,GAAD,IAEJ,cAACrhB,EAAD,CAAYC,MAAO0hB,KAClBxmB,IAGN,EC5BK+D,GAA+C,CACnDmR,QAAS,IA4BIyR,GApB2B,SAAUxkB,GAClD,IAAM6C,EAAanC,EAAsBkB,GAAmB5B,EAAM4C,iBAAkB5C,EAAMiT,mBAClFhH,EAAiCjM,EAAjCiM,QAAUuB,EAAuBxN,EAAvBwN,WAAYrF,EAAWnI,EAAXmI,OAE9B,GAAuB,IAAnB8D,EAAQvN,OACV,OAAO,KAET,IAAMkU,GAA0B,OAAVpF,QAAU,IAAVA,OAAA,EAAAA,EAAYD,gBAAiBvD,EAEnD,OACE,0BAASvE,UAAW5C,EAAWkQ,QAA/B,UACG5K,EACD,cAACmF,GAAD,aACErB,QAASA,EACTsB,cAAeqF,GACVpF,GAAc,CAAEA,kBAI5B,EFnCG,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAWpP,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASkmB,GAAK7kB,EAAMC,GAClB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,ipBACHJ,KAAM,aAEV,CAEA,IAAI,GAA0B,aAAiBqkB,IAChC,IG3BR,SAASC,GAAkBhjB,GAChC,MAAsB,kBAARA,GAAoB,WAAYA,GAAO,QAASA,GAAO,SAAUA,CAChF,CAKM,SAASijB,GAAsBlY,GACpC,IAAMxE,EAAQwE,EAAOxE,MACrB,GAAqB,kBAAVA,GAAuC,kBAAVA,GAAuC,mBAAVA,EACnE,OAAOA,EAAM2c,WAEf,GAAIF,GAAkBzc,GACpB,MAAM,UAAN,OAAiBA,EAAM4c,OAAvB,YAEF,MAAMC,MAAM,iCACb,C,oBCYD,SAASC,GACPC,EAAqCC,GACrC,OAAOD,EAAevY,QAAO,SAAAyY,GAC3B,OAAQD,EAAarQ,SAASsQ,EAAczY,OAAO0Y,QACpD,GACF,CAuBM,SAASC,GACdC,EACAC,EACAL,EACAM,GAEA,IAAMC,ECpCD,SACLC,EACAC,GAEA,IAAIC,EAA4C,GAYhD,OAXAF,GAAiBA,EAAczV,SAAQ,SAAA4V,GACrC,IAAQC,EAAwBD,EAAxBC,SAAapZ,EAArB,aAAgCmZ,EAAhC,IACIC,GACFF,EAAqB7V,KAAK,CACxBgW,WAAY,gBACZrZ,OAAQA,EACRsZ,YAAuB,OAAXL,QAAW,IAAXA,OAAA,EAAAA,EAAcjZ,EAAO0Y,WAAY1Y,EAAO0Y,QACpDpf,MAAO4e,GAAsBlY,IAGlC,IACMkZ,CACR,CDmBkCK,CAA2B,OAACX,QAAD,IAACA,OAAD,EAACA,EAAqBY,OAAQV,GACpFW,EC7DD,SAAqCC,GAC1C,IAAIC,EAAqC,GAiBzC,OAhBM,OAAND,QAAM,IAANA,KAAQnW,SAAQ,SAAAqW,GACdA,EAAM/T,QAAQtC,SAAQ,SAAAqF,GACjBA,EAAOwQ,UACRO,EAActW,KAAK,CACjBgW,WAAY,QACZrZ,OAAQ,CACN0Y,QAASkB,EAAMlB,QACfmB,QAASjR,EAAOiR,QAChBre,MAAOoN,EAAOpN,OAEhB8d,WAAYM,EAAME,YAClBxgB,MAAOsP,EAAOkR,aAGnB,GACF,IACMH,CACR,CD0C2BI,CAA2B,OAACnB,QAAD,IAACA,OAAD,EAACA,EAAqBc,QACrEM,EChBD,SAAkCC,GACvC,IAAIC,EAAyC,GAS7C,OARO,OAAPD,QAAO,IAAPA,KAAS1W,SAAQ,SAAAvD,GACfka,EAAkB7W,KAAK,CACrBgW,WAAY,aACZrZ,OAAQA,EAAOA,OACfsZ,WAAYtZ,EAAOma,WACnB7gB,MAAO0G,EAAOoa,cAEjB,IACMF,CACR,CDK+BG,CAAyBxB,GAEjDN,EAAc,sBAAOQ,GAAP,YAAoCU,IAElDa,EA1DR,SACEzB,EACAN,EACAC,GAQA,OAAOF,GANmBO,EAAW7Y,QAAO,SAAAua,GAI1C,OAHoBhC,EAAezY,MAAK,SAAA2Y,GAAa,OD8BvB+B,EC7BVD,EAAUva,OD6BoBya,EC7BZhC,EAAczY,OD8BlDwa,EAAW9B,UAAY+B,EAAY/B,SAGnC8B,EAAWX,UAAYY,EAAYZ,SAGnCW,EAAWhf,QAAUif,EAAYjf,MAPhC,IAA2Bgf,EAAoBC,CC9BG,GAItD,IAC6CjC,EAC/C,CA8C0BkC,CAAiBV,EADb1B,GAAoBC,EAAgBC,GACsBA,GAEvF,OA/BF,SACED,EACAM,GAEA,IAEM8B,EEvCD,SACLC,GAIC,IAHDC,EAGA,uDAHmB,SAAC1oB,GAAD,OAAcA,CAAd,EACnB2oB,EAEA,uDAFqB,SAACtf,GAAD,OAAgBA,CAAhB,EACrBuf,EACA,uDADkB,CAAC,EAEnB,OAAOH,EAAIvG,QAAO,SAAC2G,EAAQC,EAASC,GAClC,IAAM/oB,EAAM0oB,EAAOI,EAASC,GACtB1f,EAAQsf,EAASG,EAASC,GAMhC,OALKF,EAAO7oB,GAGV6oB,EAAO7oB,GAAKkR,KAAK7H,GAFjBwf,EAAO7oB,GAAO,CAACqJ,GAIVwf,CACR,GAAED,EACJ,CFuB6DI,CAD5C,sBAAO5C,GAAP,YAA0BM,KADpB,SAAC7Y,GAAD,OAA+BA,EAAOsZ,UAAtC,IAGtB,OAAO3nB,OAAOiB,KAAK+nB,GAAgB1pB,KAAI,SAAAqI,GAAK,MAAK,CAC/CA,MAAOA,EACP2gB,QAASU,EAAerhB,GAFkB,GAI7C,CAoBQ8hB,CAAqB7C,EAAgB+B,EAC7C,C,IG5EG,G,yFCmBEnlB,GAA8C,CAElDkmB,wBAAyB,+BACzBC,kCAAmC,aACnCf,UAAW,oFACXgB,gBAAiB,+FACjBC,mBAAoB,+BAuBP,SAASC,GACtBloB,GACc,IAAD,EACPslB,EAAaviB,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAASklB,mBAAnB,KAA2C,GAC7Etb,EAAY9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,SAAvB,IACjCiB,EAAkB/K,aAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAASgJ,OAAnB,IACvCya,EAAU3jB,aAAgB,SAAAC,GAAK,OAAIA,EAAM0jB,OAAV,IAE/B0B,EAAc7kB,iBAAqB,CAAC,GACrCsJ,IACHub,EAAY1kB,QAAUoK,EAAkB4Y,EAAU,CAAC,GAGrD,MAAyH1mB,EAAjHilB,oBAAR,MAAuB,GAAvB,IAAyHjlB,EAA9FulB,gCAA3B,MAAsD,CAAC,EAAvD,IAAyHvlB,EAA/D4C,wBAA1D,MAA6E,CAAC,EAA9E,EAAiF/B,EAAwCb,EAAxCa,qBAAyBgN,EAA1G,aAAyH7N,EAAzH,IAEMglB,EADwCI,GAAyBgD,EAAY1kB,QAAS4hB,EAAYL,EAAcM,GAChF8C,SAAQ,SAAAjB,GAAc,OAAIA,EAAeV,OAAnB,IAEtD7jB,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GAI9E,OAHAgC,EAAWilB,wBAA0BtiB,IAAW3C,EAAWilB,wBAAZ,yBAC5CjlB,EAAWklB,yCADiC,QACI,GAAKlb,IAEjD,cAACyb,GAAD,aAAuBC,mBAAoBvD,EAAgBniB,WAAYA,GAAgBgL,GAC/F,CAEM,SAASya,GAAT,GAIsC,IAH3CE,EAG0C,EAH1CA,UACAD,EAE0C,EAF1CA,mBAE0C,IAD1C1lB,kBAC0C,MAD7B,CAAC,EAC4B,EAE1C,SAAS4lB,EAAT,GAA4E,IAAvDhc,EAAsD,EAAtDA,OACnB,OACE,qBAAKhH,UAAW5C,EAAWmkB,UAA3B,SACE,sBAAMvhB,UAAW5C,EAAW6lB,YAA5B,SAA0Cjc,EAAO1G,SAGtD,CAED,SAAS4iB,EAAT,GAAkF,IAAvDlc,EAAsD,EAAtDA,OACnBgC,EAAgBC,cAiBhBka,EAAuC,UAAtBnc,EAAOqZ,WAfF,WAC1B,MAAoCrZ,EAAOA,OAAnC0Y,EAAR,EAAQA,QAASmB,EAAjB,EAAiBA,QAASre,EAA1B,EAA0BA,MACtByc,GAAkBzc,GACpB+I,QAAQkL,MAAM,wEAGhBzN,EAAcoa,eAAe1D,EAAS,CAAEmB,UAASre,UAAS,GAC1DwG,EAAcO,uBACf,EAEkC,WACjCP,EAAcqa,gBAAd,2BAAmCrc,EAAOA,QAA1C,IAAkDoZ,UAAU,KAC5DpX,EAAcO,sBACf,EAID,OACE,sBAAKvJ,UAAW5C,EAAWmlB,gBAA3B,UACE,qBAAKviB,UAAW5C,EAAW6lB,YAA3B,SAAyCjc,EAAO1G,QAChD,wBAAQN,UAAW5C,EAAWolB,mBAAoBpiB,QAAS+iB,EAA3D,SAA2E,cAAC,GAAD,QAGhF,CAED,OACE,mCACIL,EAAmB7pB,OAAS,GAC5B,qBAAK+G,UAAW5C,EAAWilB,wBAAyB,aAAYU,EAAhE,SACGD,EAAmB7qB,KAAI,SAAC+O,GACvB,IAAM7N,EAAG,UAAM6N,EAAOqZ,WAAb,YAA2BrZ,EAAO1G,OAC3C,MAA0B,eAAtB0G,EAAOqZ,WACF,cAAC2C,EAAD,CAAWhc,OAAQA,GAAa7N,GAElC,cAAC+pB,EAAD,CAAiBlc,OAAQA,GAAa7N,EAC9C,OAKV,CD/HD,IAAI,GAAY,CAAC,QAAS,WAE1B,SAAS,KAAiS,OAApR,GAAWR,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAASwqB,GAAOnpB,EAAMC,GACpB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM,KAAU,GAAqB,gBAAoB,OAAQ,CAC3EU,EAAG,wbACHJ,KAAM,aAEV,CAEA,IEjCI4oB,GAAIC,GFiCJ,GAA0B,aAAiBF,IE/B3C,IFgCW,IEhCC,CAAC,QAAS,YAE1B,SAAS,KAAiS,OAApR,GAAW3qB,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,GAAU,CAAE,OAAOL,CAAQ,EAAU,GAASS,MAAMC,KAAMR,UAAY,CAElV,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKJ,EAA5DD,EAAS,CAAC,EAAOa,EAAahB,OAAOiB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,CAAQ,CAFhN,CAA8BI,EAAQQ,GAAuB,GAAIf,OAAOoB,sBAAuB,CAAE,IAAIC,EAAmBrB,OAAOoB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBR,OAAOS,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,GAAQ,CAAE,OAAOL,CAAQ,CAM3e,SAAS2qB,GAAQtpB,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,IAE3C,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAMkpB,KAAOA,GAAkB,gBAAoB,IAAK,CAClEG,SAAU,uBACI,gBAAoB,OAAQ,CAC1C3oB,EAAG,20EACHJ,KAAM,cACF6oB,KAAUA,GAAqB,gBAAoB,OAAQ,KAAmB,gBAAoB,WAAY,CAClH1oB,GAAI,iBACU,gBAAoB,OAAQ,CAC1CN,MAAO,GACPC,OAAQ,GACRE,KAAM,aAEV,CAEA,IAAI,GAA0B,aAAiB8oB,IAChC,ICpCA,SAASE,KACtB,MAA4BrgB,qBAAWvB,GAA/BxE,EAAR,EAAQA,MAAO0E,EAAf,EAAeA,SAEf,OACE,sBACEjC,UAAU,0FACVI,QAAS,kBAAM6B,EAAS,CAAEvB,KAAMxE,EAAoByE,UAAWC,QAAS,CAAEC,WAAYtD,EAAMuE,UAAnF,EAFX,UAGGvE,EAAMuE,QAAU,cAAC,GAAD,IAAe,cAAC,GAAD,IAChC,8BAAMvE,EAAMuE,QAAU,YAAc,eAGzC,CCMD,IAAM3F,GAA6C,CACjDynB,uBAAwB,qCACxBC,2BAA4B,UAC5BC,mBAAoB,gCACpBC,kBAAmB,+DACnBC,aAAc,0BACd3B,wBAAyB,QAgBZ,SAAS4B,GAAc1pB,GAA0C,IAAD,IAE3E+F,EAOE/F,EAPF+F,MACA7C,EAMElD,EANFkD,YAFF,EAQIlD,EALFiU,qBAHF,WAQIjU,EAJFgU,qBAJF,SAKE2V,EAGE3pB,EAHF2pB,qBACA/mB,EAEE5C,EAFF4C,iBACA/B,EACEb,EADFa,qBAEIgC,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GACxE+oB,EAAc7mB,aAAgB,SAACC,GAAD,OAAWA,EAAMkJ,MAAMC,gBAAvB,IAC9BvC,EAAab,qBAAWmK,IACxBqV,EAAkB,iBACtBoB,QADsB,IACtBA,GADsB,UACtBA,EAAsBxB,2BADA,aACtB,EAA2CzqB,KAAI,SAACmsB,GAC9C,MAAO,CACL/D,WAAY,aACZrZ,OAAQod,EAAmBpd,OAC3BsZ,WAAY8D,EAAmBjD,WAC/B7gB,MAAO8jB,EAAmBhD,aAE7B,WARqB,QAQhB,GAER,EAA4B9d,qBAAWvB,GAAvC,EAAQxE,MAAR,EAAe0E,SAEf,OACE,sBAAKjC,UAAW5C,EAAWwmB,uBAA3B,UAIE,oBAAI5jB,UAAW5C,EAAW0mB,mBAA1B,SAA+CxjB,IAI9C4jB,GACC,qBAAKlkB,UAAW5C,EAAWilB,wBAA3B,SACE,cAACQ,GAAD,CAAuBC,mBAAoBA,MAI9CtU,GAAgC,OAAfrK,KAAyBoK,GAAkBA,GAAgC,OAAfpK,IAC5E,qBAAKnE,UAAW5C,EAAW2mB,kBAA3B,SACE,cAAC,IAAD,CAAM/jB,UAAW5C,EAAW4mB,aAAcxkB,GAAE,WAAM/B,EAAN,kBAA2B0mB,GAAvE,wBAKH5V,GAAgC,OAAfpK,GAAuB,cAACwf,GAAD,MAG9C,C,gBChFKxnB,GAAgD,CACpDsG,UAAW,iBACXmF,kBAAmB,cA4BN,SAASyc,GAAT,GAKgC,IAJ7CC,EAI4C,EAJ5CA,gBACAJ,EAG4C,EAH5CA,qBACA/mB,EAE4C,EAF5CA,iBACA/B,EAC4C,EAD5CA,qBAEMgC,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GACxEmpB,EAA0BjnB,aAAgB,SAACC,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOmd,iBAAlB,aAAW,EAAkBC,SAA7B,KAA2C,GACrFvT,EAAY9J,aAAgB,SAACC,GAAD,OAAWA,EAAM8J,aAAaD,SAA9B,IAElC,GAAuC,IAAnCmd,EAAwBtrB,OAC1B,OAAO,KAGT,IAAM+O,EAAoB5K,EAAWwK,kBACjC7H,IAAW3C,EAAWqF,UAAZ,eAA0BrF,EAAWwK,kBAAoBR,IACnEhK,EAAWqF,UAEf,OACE,qBAAKzC,UAAWgI,EAAhB,SACGwc,GAAuB,CAAED,0BAAyBL,uBAAsBI,qBAG9E,CAWD,SAASE,GAAuBjqB,GAC9B,IAAQgqB,EAA6ChqB,EAA7CgqB,wBAAyBD,EAAoB/pB,EAApB+pB,gBACjC,OACE,mCACGC,EACEvd,QAAO,SAACqB,GAAD,OAAqBA,EAAgB7B,OAArC,IACPvO,KAAI,SAACoQ,GAAqB,IAAD,EAClB5K,EAAc4K,EAAgB5K,YAC9BgnB,EAAiBH,EAAgB7mB,IAAgB,CAAC,EAElD6C,EAAK,UAAGmkB,EAAenkB,aAAlB,QAA2B7C,EAChC+I,EAAU6B,EAAgB7B,QAE1B8H,EAAmBmW,EAAenW,kBAAoByQ,GAE5D,EAAkCxkB,EAAM2pB,sBAAwB,CAAC,EAAzDQ,EAAR,EAAQA,KAASC,EAAjB,mBACMT,EAAuBQ,EAAI,2BACxBC,GADwB,IACVjC,oBAAqBra,EAAgBqa,2BACxDjjB,EAIJ,OAEE,cAAC6O,EAAD,CACE9H,QAASA,EACT/I,YAAaA,EACbiF,OACE,cAACuhB,GAAD,CAEI3jB,QACA4jB,uBACAzmB,cACA+Q,cAAeiW,EAAejW,cAC9BD,cAAekW,EAAelW,gBAIpCxG,WAAY0c,EAAe1c,YACtBtK,EAGV,KAGR,CCpGD,IAAMtB,GAA4C,CAChDsG,UAAW,kCACXmiB,oBAAqB,aACrBC,gBAAiB,qBACjBC,qBAAsB,uCACtBC,QAAS,GACTC,sBAAuB,kCACvBC,2BAA4B,GAC5BC,gBAAiB,gBACjBC,yBAA0B,qBAC1BvN,YAAa,eAGA,SAASwN,GAAa7qB,GAA+C,IAAD,EAC3E8qB,EAAqB/nB,aAAgB,SAAAC,GAAK,OAAIA,EAAM+nB,aAAaliB,MAAvB,IAC1CgE,EAAY9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,YAAa,CAApC,IACjCme,EAAqBtqB,EAAsBkB,GAAmB5B,EAAM4C,iBAAkB5C,EAAMa,sBAClG,IAAKiqB,EACH,OAAO,KAET,IAAMjoB,EA0CR,SAAoCA,EAAoCsD,GACtE,IAAM8kB,EAAY9kB,IAAS+kB,IAAiBC,gBAC5C,OAAO,2BACFtoB,GADL,IAEE/C,MAAOmrB,EAAYpoB,EAAW0nB,qBAAuB1nB,EAAWynB,gBAChEjgB,YAAa4gB,EAAYpoB,EAAW6nB,2BAA6B7nB,EAAW4nB,uBAE/E,CAjDoBW,CAA2BJ,EAAoBF,EAAmB3kB,MAE/ErG,EAAQgrB,EAAmB3kB,OAAS+kB,IAAiBC,gBACvDL,EAAmB7iB,MADT,UAEP6iB,EAAmBO,WAFZ,cAE4BP,EAAmBQ,WACvDjhB,EAAyBygB,EAAmB3kB,OAAS+kB,IAAiBC,gBACxE7N,GAAuBwN,EAAmBS,QAAS,CAAElO,YAAaxa,EAAWwa,cAC7EyN,EAAmB7iB,MACjB4b,EAAOiH,EAAmBU,cAAc3H,KAkB9C,IAAM4H,EAAsBjmB,IAAW3C,EAAWqF,UAAZ,yBACnCrF,EAAWwnB,2BADwB,QACD,GAAKxd,IAG1C,OACE,sBAAKpH,UAAWgmB,EAAhB,UACG3rB,GACC,qBAAK2F,UAAW5C,EAAW/C,MAA3B,SAAmCA,IACrC,sBAAK2F,UAAW5C,EAAW2nB,QAA3B,UACE,qBAAK/kB,UAAW5C,EAAWwH,YAA3B,SAAyCA,IACxCwZ,GA1BP,SAAqBiH,GACnB,IAAMG,EAAYH,EAAmB3kB,OAAS+kB,IAAiBC,gBACzDhiB,EAAO2hB,EAAmBU,cAAcriB,KAE9C,OAAO,qCACJ8hB,GAAa9hB,GAAQ,sBAAK1D,UAAW5C,EAAW+nB,yBAA3B,6BACJ,mBAAGnlB,UAAW5C,EAAW8nB,gBAAiBzhB,KAAM2a,EAAhD,SACbiH,EAAmBU,cAAcriB,WAGpC8hB,GAAapH,GAAQ,qBAAKpe,UAAW5C,EAAW+nB,yBAA3B,SACrB,mBAAG1hB,KAAM2a,EAAMpe,UAAW5C,EAAW8nB,gBAArC,8BAGL,CAYce,CAAYZ,QAI5B,CCzED,IAAMlpB,GAA0C,CAC9CsG,UAAW,eACXyjB,SAAU,gBACVC,qBAAsB,aACtB/H,KAAM,0EAQO,SAASgI,GAAT,GAA6F,IAAD,EAArEjpB,EAAqE,EAArEA,iBAAkB/B,EAAmD,EAAnDA,qBAChDub,EAAarZ,aAAgB,SAAA2Q,GAAC,OAAIA,EAAEjD,KAAKC,UAAX,MAA2BuM,IAAeC,SACxEra,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GACxEirB,EAAiB/oB,aAAgB,SAAAC,GAAK,OAAIA,EAAM+oB,WAAWD,cAArB,IACtCjf,EAAY9J,aAAgB,SAAAC,GAAK,OAAIA,EAAM8J,aAAaD,SAAvB,IACjCE,EAAsBvH,IAAW3C,EAAWqF,UAAZ,yBACnCrF,EAAW+oB,4BADwB,QACA,GAAK/e,IAErC4O,EAAiB/M,cACvB,OAAKod,EAIH,sBAAKrmB,UAAWsH,EAAhB,UACE,sBAAMtH,UAAW5C,EAAW8oB,SAA5B,2BACA,wBAAQlmB,UAAW5C,EAAWghB,KAAMhe,QAAS,WAC3C4V,EAAe8C,SAASuN,GACxB1P,EACIX,EAAezM,uBACfyM,EAAeY,uBACpB,EALD,SAKIyP,OAVC,IAaV,CCtCc,SAASE,GAAmB9oB,GACzC,IAAMuY,EAAiB/M,cACvB/K,2BAAgB,WAMd8X,EAAewQ,SAAf,2BACKxQ,EAAezY,OANC,CACnB0jB,QAAS,CAAC,EACVvG,UAAW,CAAC,EACZld,SAAU,CAAC,KAMbC,EACIuY,EAAeyQ,YAAYhpB,GAC3BuY,EAAe0Q,eACnB,IAAM7N,EAAY,mDAAG,kGACf8N,EAAgC,GAC/B3Q,EAAezY,MAAM4F,SAASkT,aAFhB,iCAGKQ,GAAiBb,IAAkBvY,GAHxC,gDAGwD,GAHxD,cAGjBkpB,EAHiB,eAIX5Q,GAAuBC,EAAgB2Q,GAJ5B,QAMnBjQ,GAAcV,IAAkBvY,GANb,4CAAH,qDAQlBob,GACD,GAAE,CAAC7C,EAAgBvY,GACrB,CCjCD,IA+FempB,GA/FA,WACX,OACJ,yBAAQ5mB,UAAU,qDAAlB,UACQ,qBAAKA,UAAU,qFAEf,qBAAKA,UAAU,sCAAf,SACE,sBAAKA,UAAU,kDAAf,UAGE,sBAAKA,UAAU,GAAf,UACE,oBAAIA,UAAU,GAAd,qBACA,qBAAIA,UAAU,uCAAd,UACC,oBAAIA,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,2CAAR,2BACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,oCAAR,uBACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,qCAAR,4BACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,sDAAR,sCACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,2DAAR,gCAK5C,sBAAKzD,UAAU,GAAf,UACE,oBAAIA,UAAU,GAAd,0BACA,qBAAIA,UAAU,uCAAd,UACC,oBAAIA,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,6CAAR,wBACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,wCAAR,wBACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,gDAAR,gCACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,8CAAR,8BACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,kDAAR,kCACzC,oBAAIzD,UAAU,2BAAd,SAAyC,mBAAGyD,KAAK,8CAAR,0BAO5C,sBAAKzD,UAAU,GAAf,UACE,oBAAIA,UAAU,oEAAd,qBAGA,oBAAGA,UAAU,mDAAb,UAGE,mBAAGyD,KAAK,IAAR,SAAa,qBAAKE,IAAI,sHAEtB,mBAAGF,KAAK,KAAKzD,UAAU,0BAAvB,SAEE,qBAAK2D,IAAI,sHAIX,mBAAGF,KAAK,KAAKzD,UAAU,0BAAvB,SAEE,qBAAK2D,IAAI,4HAIf,sBAAK3D,UAAU,GAAf,UACE,oBAAIA,UAAU,oEAAd,qBAIA,sBAAKA,UAAU,GAAf,UACE,qBACE2D,IAAI,oGACJnJ,MAAM,OACNC,OAAO,OAJX,OAKA,uBACA,oBAAIuF,UAAU,YAAd,iCACA,oBAAGA,UAAU,yDAAb,UACE,qBAAK,cAAY,OAAO6mB,UAAU,QAAQ,cAAY,MAAM,YAAU,OACpE7mB,UAAU,WAAW8mB,KAAK,MAAMlsB,MAAM,6BAA6BF,QAAQ,cAD7E,SAEE,sBAAMC,KAAK,eACTI,EAAE,4eAJR,oDAUA,oBAAGiF,UAAU,yDAAb,UACE,qBAAK,cAAY,OAAO6mB,UAAU,QAAQ,cAAY,MAAM,YAAU,QACpE7mB,UAAU,WAAW8mB,KAAK,MAAMlsB,MAAM,6BACtCF,QAAQ,cAFV,SAGE,sBAAMC,KAAK,eACTI,EAAE,gSALR,6BAeb,ECvFKgsB,GAA+B,CACnCrC,MAAM,GAGO,SAASsC,GAAoBzsB,GAC1C,IAAQ6T,EAA2B7T,EAA3B6T,uBAGR,OAFAmY,KAGE,qCAAE,gCACA,cAACH,GAAD,IACA,cAAChB,GAAD,IACA,cAACf,GAAD,CACEH,qBAAsB6C,GACtBzC,gBAAiBlW,OACf,cAAC,GAAD,MAGT,CCfD,IAAMjS,GAA4C,CAChDsG,UAAW,eACXwkB,KAAM,wBACNC,OAAQ,eAiBK,SAASC,GAAa5sB,GACnC,IAAMyL,EAAe1I,aAAgB,SAAAC,GAAK,uBAAIA,EAAMC,gBAAV,aAAI,EAAgBwI,YAApB,KAAqC,EACzEohB,EAAgB9pB,aAAgB,SAAAC,GAAK,yBAAIA,EAAMC,gBAAV,iBAAI,EAAgBgJ,eAApB,aAAI,EAAyBvN,MAA7B,KAAwC,EAC7EiQ,EAAS5L,aAAgB,SAAAC,GAAK,uBAAIA,EAAMC,gBAAV,aAAI,EAAgB0L,MAApB,KAA+B,EAEnE,OAAO,cAACme,GAAD,aAAqBrhB,aAAcA,EAAcohB,cAAeA,EAAele,OAAQA,GAAY3O,GAC3G,CAEM,SAAS8sB,GAAT,GAMqC,IAAD,IALzCrhB,oBAKyC,MAL5B,EAK4B,MAJzCohB,qBAIyC,MAJ3B,EAI2B,MAHzCle,cAGyC,MAHlC,EAGkC,EAFzC/L,EAEyC,EAFzCA,iBACA/B,EACyC,EADzCA,qBAEMgC,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GAC9E,GAAsB,IAAlBgsB,EACF,OAAO,KAGT,IAUME,EAVe,CACnB,WACApe,EAAS,EACT,OACAA,EAASke,EACT,OACAphB,EACA,YAG6B/N,KAAI,SAACuK,EAAOtC,GAAW,IAAD,EAC7CqnB,EAA4B,kBAAV/kB,EAElBglB,EAAUznB,IAAW3C,EAAW6pB,KAAZ,yBACvB7pB,EAAW8pB,cADY,QACF,GAAKK,IAG7B,OAAO,sBAAgCvnB,UAAWwnB,EAA3C,SAAqDhlB,GAArD,UAActC,EAAd,YAAuBsC,GAC/B,IAED,OAAO,qBAAKxC,UAAW5C,EAAWqF,UAA3B,SAAuC6kB,GAC/C,CC5DD,IAAMnrB,GAA4C,CAChDsG,UAAW,2CACXU,SAAU,gBACVskB,OAAQ,gEASK,SAASC,GAAT,GAIgB,IAH7BxR,EAG4B,EAH5BA,mBACA/Y,EAE4B,EAF5BA,iBACA/B,EAC4B,EAD5BA,qBAEM4a,EAAiB/M,cACjB0N,EAAyD,aAA5CrZ,aAAgB,SAAA2Q,GAAC,OAAIA,EAAEjD,KAAKC,UAAX,IAC9B0c,EAAerqB,aAAgB,SAAA2Q,GAAC,OAAIA,EAAE9K,SAASwkB,YAAf,IAChCvqB,EAAanC,EAAsBkB,GAAmBgB,EAAkB/B,GAE9E,GAAI,OAACusB,QAAD,IAACA,MAAc7G,YAAa,OAAO,KAEvC,IAAM8G,GACU,OAAZD,QAAY,IAAZA,OAAA,EAAAA,EAAcE,UAAWC,IAAmBC,GAAK,wCACjC,OAAZJ,QAAY,IAAZA,OAAA,EAAAA,EAAcE,UAAWC,IAAmBE,OAAS,6BACnD,MAXkB,wDAa5B,wHAE2B1R,GAAgBJ,GAF3C,OAEUvK,EAFV,OAGIqK,EAAeO,gBAAgB,CAC7B3K,SAAUD,EAAS6K,OAAO5K,SAC1BC,UAAWF,EAAS6K,OAAO3K,YALjC,gDAQIN,QAAQkL,MAAR,MARJ,QAUEC,GAAcV,EAAgBW,GAVhC,0DAb4B,sBA0B5B,OACE,sBAAK3W,UAAW5C,EAAWqF,UAA3B,UACE,sBAAMzC,UAAW5C,EAAW+F,SAA5B,SACGwkB,EAAa7G,cAEhB,sBAAM9gB,UAAW5C,EAAWlE,OAA5B,SACG0uB,IAEH,wBACE5nB,UAAW5C,EAAWqqB,OACtBrnB,QApCsB,2CAkCxB,oCAQL,CC1Dc,SAAS6nB,GAAT,GAKb,OAFA1B,GADC,EAFgC9oB,aAM/B,mCAAE,gCACA,cAAC2nB,GAAD,IACA,cAACgB,GAAD,IACA,cAACe,GAAD,IACA,cAAC1E,GAAD,CACEjD,aAAc,CAAC,wBACjB,cAACvZ,GAAD,CACEC,qBAAqB,OACrBC,gBAAiB,CACf,CAAE7F,MAAO,YAAa7C,YAAa,aACnC,CAAE6C,MAAO,SAAU7C,YAAa,UAChC,CAAE6C,MAAO,QAAS7C,YAAa,SAC/B,CAAE6C,MAAO,OAAQ7C,YAAa,WAElC,cAACyK,GAAD,CACEJ,cAAe6F,KACjB,cAAC+Z,GAAD,IACA,cAAC,GAAD,QAGL,CCxBc,SAASQ,GAAT,GAAkE,IAAzCzqB,EAAwC,EAAxCA,YACtC8oB,GAAmB9oB,GACnB,IACM+I,EAAUlJ,aAAgB,SAACC,GAAD,OAAWA,EAAMC,SAASgJ,OAA1B,KAAsC,GAEtE,OACE,qCAAE,cAAC,EAAD,UACA,qBAAKxG,UAAU,OAAf,SACE,sBAAKA,UAAU,YAAf,UACE,cAAColB,GAAD,IACA,cAACgB,GAAD,CACEhrB,qBAAqB,SACrB+B,iBAAkB,CAChBsF,UAAW,oBACXyjB,SAAU,GACV9H,KAAM,wEAEV,cAAC+I,GAAD,CAAc/rB,qBAAqB,SAAS+B,iBAAkB,CAAE8pB,KAAM,uBAEpE,qBAAKjnB,UAAU,OAAf,SACE,cAAC2jB,GAAD,MAGJ,cAACzW,GAAD,CAAiB1G,QAASA,EAAS/I,YAAaA,EAAasK,WAAY,CAAED,cAAe5E,KAC1F,cAACwkB,GAAD,CAAcvqB,iBAAkB,CAAEsF,UAAW,gBAGhC,cAAC,GAAD,MAEtB,CClCM,IAAM0lB,GAAc,CACzB,CACEhwB,KAAM,IACNE,OAAO,EACPD,KAAM,cAAC4uB,GAAD,CAAqB5Y,uBAAwBA,MAErD,CACEjW,KAAM,aACNC,KAAM,cAAC8vB,GAAD,CAAezqB,YAAY,eAcnC,CACEtF,KAAM,QACNC,KAAM,cAAC6vB,GAAD,CAAUxqB,YAAY,WCvBnBgQ,GAAoBzL,wBAA0B,MAE5C,SAASomB,KACtB,MAAoC1qB,mBAAqB,MAAzD,mBAAOyG,EAAP,KAAmBkkB,EAAnB,KAEAvpB,qBAAU,WAOR,OANAwpB,IAEA/c,QAAQC,IAAI,gBAAkBrM,OAAOopB,YACrChd,QAAQC,IAAI,gBAAkBrM,OAAOqpB,YAErCrpB,OAAOf,iBAAiB,SAAUkqB,GAC3B,kBAAMnpB,OAAOd,oBAAoB,SAAUiqB,EAA3C,CACR,GAAE,IAEH,IAAMA,EAAmB,WACvB,IAAM9tB,EAAQ2E,OAAOopB,WACjB/tB,GAAS,IACX6tB,EAAc,MACL7tB,EAAQ,KAAOA,GAAS,IACjC6tB,EAAc,MACL7tB,EAAQ,KAAOA,GAAS,KACjC6tB,EAAc,MACL7tB,EAAQ,MACjB6tB,EAAc,KAEjB,EAED,OACE,cAAC,IAAD,2BAA6BrP,IAA7B,aACE,qBAAKhZ,UAAU,mDAAf,SACE,qBAAKA,UAAU,SAAf,SACE,cAACyN,GAAkBlL,SAAnB,CAA4BC,MAAO2B,EAAnC,SACE,cAACtM,EAAD,CAAYC,OAAQgnB,GAAgB9mB,OAAQmwB,aAMvD,CCzCDM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACP,GAAD,MAEFjqB,SAASyqB,eAAe,SCVxBzpB,OAAOf,iBAAiB,OAAxB,kCAAgC,wGACxByqB,EADwB,UACbC,GADa,+BAEH5R,UAAU6R,cAAcC,SAASH,GAF9B,QAExBI,EAFwB,QAKfC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WAIA,cAA3BF,EAAiB5rB,OACnB4B,OAAOgE,SAASmmB,QAEnB,EACF,EAlB2B,2C","file":"static/js/main.ece8a26d.chunk.js","sourcesContent":["import { ComponentType } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\ninterface RouteData {\n  path: string,\n  page: JSX.Element,\n  exact?: boolean\n}\n\nexport type LayoutComponent = ComponentType<{ page: JSX.Element }>\n\ninterface PageProps {\n  Layout?: LayoutComponent,\n  routes: RouteData[]\n}\n\n/**\n * PageRouter abstracts away logic surrounding react-router, and provides an easy way\n * to specify a {@link LayoutComponent} for a page.\n */\nexport default function PageRouter({ Layout, routes }: PageProps) {\n  \n  const pages = routes.map(routeData => {\n    const { path, page, exact } = routeData;\n    if (Layout) {\n      return (\n        <Route key={path} path={path} exact={exact}>\n          <Layout page={page}/>\n        </Route>\n      );\n    }\n    return <Route key={path} path={path} exact={exact}>{page}</Route>;\n  });\n\n  return (\n    <Router>\n      <Switch>\n        {pages}\n      </Switch>\n    </Router>\n  );\n}\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgKebab(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 16C11.5 15.1716 10.8284 14.5 10 14.5C9.17157 14.5 8.5 15.1716 8.5 16C8.5 16.8284 9.17157 17.5 10 17.5C10.8284 17.5 11.5 16.8284 11.5 16Z\",\n    fill: \"#757575\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 10C11.5 9.17157 10.8284 8.5 10 8.5C9.17157 8.5 8.5 9.17157 8.5 10C8.5 10.8284 9.17157 11.5 10 11.5C10.8284 11.5 11.5 10.8284 11.5 10Z\",\n    fill: \"#757575\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.5 4C11.5 3.17157 10.8284 2.5 10 2.5C9.17157 2.5 8.5 3.17157 8.5 4C8.5 4.82843 9.17157 5.5 10 5.5C10.8284 5.5 11.5 4.82843 11.5 4Z\",\n    fill: \"#757575\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgKebab);\nexport default __webpack_public_path__ + \"static/media/kebab.9afe5cce.svg\";\nexport { ForwardRef as ReactComponent };","import { composeTheme } from '@css-modules-theme/core';\nimport { Compose, Theme } from '@css-modules-theme/core';\nimport { useMemo } from 'react';\n\n/**\n * The method of combining a component's built-in CSS classes with custom CSS classes\n *\n * @remarks\n * Merge keeps the component's built-in classes and adds the custom classes to them (default).\n * Replace ignore all of the component’s built-in classes and only uses the custom classes.\n * Assign keeps the component's built-in classes, however custom classes will completely override their\n * associated built-in classes.\n * \n * @example\n * Suppose a component has a built-in theme of `{ icon: 'Icon', button: 'Button' }`,\n * and it is provided a custom theme of `{ icon: 'Blue' }`.\n * The various composition methods would result in the following composed themes:\n * Merge: { icon: 'Icon Blue', button: 'Button' }\n * Replace: { icon: 'Blue' }\n * Assign: { icon: 'Blue', button: 'Button' }\n */\nexport type CompositionMethod = 'merge' | 'replace' | 'assign';\n\n/**\n * A react hook which combines a component's built-in CSS classes with custom CSS classes.\n * @param builtInClasses The component's built-in css classes\n * @param customClasses The custom classes to combine with the built-in ones\n * @param cssCompositionMethod The method of combining the built-in classes with the custom classes\n * @returns The composed CSS classes\n */\nexport function useComposedCssClasses<ClassInterface> (\n  builtInClasses: ClassInterface,\n  customClasses?: ClassInterface,\n  cssCompositionMethod?: CompositionMethod\n): ClassInterface | Theme {\n  return useMemo(() => {\n    if (!isThemeObject(customClasses)) {\n      return builtInClasses;\n    }\n    if (!isThemeObject(builtInClasses)) {\n      return customClasses ?? {};\n    }\n    const compose = getCssModulesCompose(cssCompositionMethod);\n    return composeTheme([{ theme: builtInClasses }, { theme: customClasses, compose }]);\n  }, [builtInClasses, customClasses, cssCompositionMethod]);\n}\n\n/**\n * Transforms the CompositionMethod types to the Compose types of the css-modules-theme library\n * @param cssCompositionMethod The cssCompositionMethod method\n * @returns The css-modules-theme Compose type\n */\nfunction getCssModulesCompose(cssCompositionMethod: CompositionMethod = 'merge'): Compose {\n  return {\n    replace: Compose.Replace,\n    assign: Compose.Assign,\n    merge: Compose.Merge\n  }[cssCompositionMethod];\n}\n\n/**\n * Returns true if the object can be used as a css-modules-theme Theme\n * @param obj The object to test\n * @returns Whether or not the object is a Theme object\n */\nfunction isThemeObject (obj: unknown): obj is Theme {\n  if (obj === null || typeof obj !== 'object') {\n    return false;\n  }\n  return true;\n}","import { MapLocationData } from './mapbox/Mapbox';\n\n// prettier-ignore\ntype ActionMap<M extends { [index: string]: any }> = {\n  [Key in keyof M]: M[Key] extends undefined\n    ? {\n        type: Key\n      }\n    : {\n        type: Key,\n        payload: M[Key]\n      }\n};\n\nexport enum LocationActionTypes {\n  ToggleMap = 'TOGGLE_MAP',\n  SetHoveredLocation = 'SET_HOVERED_LOCATION',\n  SetSelectedLocation = 'SET_SELECTED_LOCATION',\n  ClearHoveredLocation = 'CLEAR_HOVERED_LOCATION',\n  ClearSelectedLocation = 'CLEAR_SELECTED_LOCATION',\n  SetMapLocations = 'SET_MAP_LOCATIONS',\n  ClearMapLocations = 'CLEAR_MAP_LOCATIONS',\n  SetNoGymsMessage = 'SET_NO_GYMS_MESSAGE',\n  ClearNoGymsMessage = 'CLEAR_NO_GYMS_MESSAGE',\n}\n\n// Map Toggle\n\n// prettier-ignore\ntype MapPayload = {\n  [LocationActionTypes.ToggleMap]: {\n    toggleMap: boolean\n  }\n}\n\nexport type MapActions = ActionMap<MapPayload>[keyof ActionMap<MapPayload>];\n\nexport const toggleShowMapReducer = (state: boolean, action: MapActions | LocationActions) => {\n  switch (action.type) {\n    case LocationActionTypes.ToggleMap:\n      return action.payload.toggleMap;\n    default:\n      return state;\n  }\n};\n\n// Location(s)\n\n//prettier-ignore\ntype LocationPayload = {\n  [LocationActionTypes.SetHoveredLocation]: {\n    hoveredLocation: MapLocationData\n  },\n  [LocationActionTypes.SetSelectedLocation]: {\n    selectedLocation: MapLocationData\n  },\n  [LocationActionTypes.ClearHoveredLocation]: {},\n  [LocationActionTypes.ClearSelectedLocation]: {},\n  [LocationActionTypes.SetMapLocations]: {\n    mapLocations: MapLocationData[]\n  },\n  [LocationActionTypes.ClearMapLocations]: [],\n  [LocationActionTypes.SetNoGymsMessage]: string,\n  [LocationActionTypes.ClearNoGymsMessage]: undefined\n}\n\nexport type LocationActions = ActionMap<LocationPayload>[keyof ActionMap<LocationPayload>];\n\nexport const hoveredLocationReducer = (state: MapLocationData | undefined, action: MapActions | LocationActions) => {\n  switch (action.type) {\n    case LocationActionTypes.SetHoveredLocation:\n      return action.payload.hoveredLocation;\n    case LocationActionTypes.ClearHoveredLocation:\n      return undefined;\n    default:\n      return state;\n  }\n};\n\nexport const selectedLocationReducer = (state: MapLocationData | undefined, action: MapActions | LocationActions) => {\n  switch (action.type) {\n    case LocationActionTypes.SetSelectedLocation:\n      return action.payload.selectedLocation;\n    case LocationActionTypes.ClearSelectedLocation:\n      return undefined;\n    default:\n      return state;\n  }\n};\n\nexport const mapLocationsReducer = (state: MapLocationData[], action: MapActions | LocationActions) => {\n  switch (action.type) {\n    case LocationActionTypes.SetMapLocations:\n      return action.payload.mapLocations;\n    case LocationActionTypes.ClearMapLocations:\n      return [];\n    default:\n      return state;\n  }\n};\n\nexport const noGymsLocationReducer = (state: string | undefined, action: MapActions | LocationActions) => {\n  switch (action.type) {\n    case LocationActionTypes.SetNoGymsMessage:\n      return action.payload;\n    case LocationActionTypes.ClearNoGymsMessage:\n      return undefined;\n    default:\n      return state;\n  }\n};\n","import classNames from 'classnames';\nimport { useCallback, useEffect, useLayoutEffect, useRef, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { ReactComponent as KebabIcon } from '../icons/kebab.svg';\nimport { useComposedCssClasses, CompositionMethod } from '../hooks/useComposedCssClasses';\nimport { useAnswersState } from '@yext/answers-headless-react';\n\ninterface NavigationCssClasses {\n  nav?: string,\n  linksWrapper?: string,\n  menuWrapper?: string,\n  navLinkContainer?: string,\n  navLinkContainer___active?: string,\n  navLink?: string,\n  kebabIcon?: string,\n  menuButton?: string,\n  menuButtonContainer?: string,\n  menuButton___menuOpen?: string,\n  menuButton___hasActiveLink?: string,\n  menuContainer?: string,\n  menuNavLink?: string,\n  menuNavLinkContainer?: string,\n  menuNavLinkContainer___active?: string\n}\n\nconst builtInCssClasses: NavigationCssClasses = {\n  nav: 'border-b border-gray-200 text-gray-600 flex space-x-6 font-medium mb-6',\n  navLinkContainer: 'whitespace-nowrap py-3 mt-1 font-medium text-md border-b-2 border-opacity-0 hover:border-gray-300',\n  navLink: 'py-3 px-2',\n  navLinkContainer___active: 'text-blue-600 border-blue-600 border-opacity-100 hover:border-blue-600',\n  kebabIcon: 'pointer-events-none',\n  menuButtonContainer: 'relative flex flex-grow justify-end mr-4',\n  menuButton: 'flex items-center text-gray-600 font-medium text-md h-12 mt-1 p-3 border-opacity-0 rounded-md hover:bg-gray-200',\n  menuButton___menuOpen: 'bg-gray-100 text-gray-800',\n  menuButton___hasActiveLink: 'text-blue-600',\n  menuContainer: 'absolute flex-col bg-white border top-14 py-2 rounded-lg shadow-lg',\n  menuNavLink: 'px-4 py-2 flex-grow',\n  menuNavLinkContainer: 'flex text-gray-600 hover:bg-gray-100 text-lg hover:text-gray-800 focus:text-gray-800',\n  menuNavLinkContainer___active: 'text-blue-600 hover:text-blue-600 focus:text-blue-600'\n}\n\ninterface LinkData {\n  to: string,\n  label: string\n}\n\ninterface NavigationProps {\n  links: LinkData[],\n  customCssClasses?: NavigationCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport default function Navigation({ links, customCssClasses, cssCompositionMethod }: NavigationProps) {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  const currentVertical = useAnswersState(state => state.vertical.verticalKey);\n\n  // Close the menu when clicking the document\n  const [menuOpen, setMenuOpen] = useState<boolean>(false);\n  const menuRef = useRef<HTMLButtonElement>(null);\n  const handleDocumentClick = (e: MouseEvent) => {\n    if (e.target !== menuRef.current) {\n      setMenuOpen(false);\n    }\n  };\n  useLayoutEffect(() => {\n    document.addEventListener('click', handleDocumentClick)\n    return () => document.removeEventListener('click', handleDocumentClick);\n  }, []);\n\n  // Responsive tabs\n  const [numOverflowLinks, setNumOverflowLinks] = useState<number>(0);\n  const navigationRef = useRef<HTMLDivElement>(null);\n  const handleResize = useCallback(() => {\n    const navEl = navigationRef.current;\n    if (!navEl) {\n      return;\n    }\n    const isOverflowing = navEl.scrollWidth > navEl.offsetWidth;\n    if (isOverflowing && numOverflowLinks < links.length) {\n      setNumOverflowLinks(numOverflowLinks + 1);\n    }\n  }, [links.length, numOverflowLinks])\n  useLayoutEffect(handleResize, [handleResize]);\n  useEffect(() => {\n    let timeoutId: NodeJS.Timeout;\n    function resizeListener() {\n      clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        setNumOverflowLinks(0);\n        handleResize()\n      }, 50)\n    };\n    window.addEventListener('resize', resizeListener);\n    return () => window.removeEventListener('resize', resizeListener);\n  }, [handleResize]);\n\n  const visibleLinks = links.slice(0, links.length - numOverflowLinks);\n  const overflowLinks = links.slice(-numOverflowLinks);\n  const isActiveLink = ({ to }: LinkData) => to === currentVertical || (to === '/' && currentVertical === undefined)\n  const activeVisibleLinkIndex = visibleLinks.findIndex(isActiveLink);\n  const activeMenuLinkIndex = overflowLinks.findIndex(isActiveLink);\n  const menuContainsActiveLink = activeMenuLinkIndex >= 0;\n  const menuButtonClassNames = classNames(cssClasses.menuButton, {\n    [cssClasses.menuButton___menuOpen ?? '']: menuOpen,\n    [cssClasses.menuButton___hasActiveLink ?? '']: menuContainsActiveLink\n  });\n\n  return (\n    <nav className={cssClasses.nav} ref={navigationRef}>\n      {visibleLinks.map((l, index) => renderLink(l, index === activeVisibleLinkIndex, cssClasses))}\n      {numOverflowLinks > 0 &&\n        <div className={cssClasses.menuButtonContainer}>\n          <button\n            className={menuButtonClassNames}\n            ref={menuRef}\n            onClick={() => setMenuOpen(!menuOpen)}\n          >\n            <KebabIcon className={cssClasses.kebabIcon} /> More\n          </button>\n          {menuOpen && \n            <div className={cssClasses.menuContainer}>\n              {menuOpen && overflowLinks.map((l, index) => renderLink(l, index === activeMenuLinkIndex, {\n                navLink: cssClasses.menuNavLink,\n                navLinkContainer: cssClasses.menuNavLinkContainer,\n                navLinkContainer___active: cssClasses.menuNavLinkContainer___active\n              }))}\n            </div>\n          }\n        </div>\n      }\n    </nav>\n  )\n}\n\nfunction renderLink(\n  linkData: LinkData,\n  isActiveLink: boolean,\n  cssClasses: { navLinkContainer?: string, navLinkContainer___active?: string, navLink?: string }) \n{\n  const { to, label } = linkData;\n  const navLinkContainerClasses = classNames(cssClasses.navLinkContainer, {\n    [cssClasses.navLinkContainer___active ?? '']: isActiveLink\n  });\n  return (\n    <div className={navLinkContainerClasses} key={to}>\n      <NavLink\n        className={cssClasses.navLink}\n        to={`${to}`}\n        exact={true}\n      >\n        {label}\n      </NavLink>\n    </div>\n  )\n}","import { createContext, Dispatch, useReducer } from 'react';\nimport {\n  toggleShowMapReducer,\n  hoveredLocationReducer,\n  selectedLocationReducer,\n  MapActions,\n  LocationActions,\n  mapLocationsReducer,\n  noGymsLocationReducer,\n} from './locationReducers';\nimport { MapLocationData } from './mapbox/Mapbox';\n\n//prettier-ignore\ntype LocationStateType = {\n  hoveredLocation?: MapLocationData,\n  selectedLocation?: MapLocationData,\n  mapLocations?: MapLocationData[],\n  showMap: boolean,\n  noGymsMessage?: string\n};\n\nconst locationState = {\n  showMap: false,\n};\n\n//prettier-ignore\nexport const LocationContext = createContext<{ state: LocationStateType, dispatch: Dispatch<MapActions | LocationActions> }>({\n  state: locationState,\n  dispatch: () => null,\n});\n\nconst mainReducer = (\n  { hoveredLocation, selectedLocation, mapLocations, showMap, noGymsMessage }: LocationStateType,\n  action: MapActions | LocationActions\n): LocationStateType => {\n  const newState = {\n    hoveredLocation: hoveredLocationReducer(hoveredLocation, action),\n    selectedLocation: selectedLocationReducer(selectedLocation, action),\n    mapLocations: mapLocationsReducer(mapLocations ?? [], action),\n    showMap: toggleShowMapReducer(showMap, action),\n    noGymsMessage: noGymsLocationReducer(noGymsMessage, action),\n  };\n  return newState;\n};\n\nexport const LocationProvider: React.FC = ({ children }: any) => {\n  const [state, dispatch] = useReducer(mainReducer, locationState);\n\n  return <LocationContext.Provider value={{ state, dispatch }}>{children}</LocationContext.Provider>;\n};\n","import { useComposedCssClasses } from '../../hooks/useComposedCssClasses';\nimport { CardProps } from '../../models/cardComponent';\nimport { JSXElementConstructor, ReactElement, ReactNodeArray, ReactPortal, useContext } from 'react';\nimport { LocationContext } from '../LocationContext';\nimport { LocationActionTypes } from '../locationReducers';\n\n\n//prettier-ignore\nexport interface LocationCardConfig {\n  showOrdinal?: boolean\n}\n\n//prettier-ignore\nexport interface LocationCardProps extends CardProps {\n  configuration: LocationCardConfig\n}\n\n//prettier-ignore\ninterface Address {\n  line1: string,\n  city: string,\n  countryCode: string,\n  postalCode: string,\n  region: string\n}\n\n//prettier-ignore\nexport interface Interval {\n  start: string,\n  end: string\n}\n\n//prettier-ignore\ninterface DayHours {\n  isClosed: boolean,\n  // TODO: change to optional field\n  openIntervals: Interval[]\n}\n\n//prettier-ignore\nexport interface Hours {\n  monday: DayHours,\n  tuesday: DayHours,\n  wednesday: DayHours,\n  thursday: DayHours,\n  friday: DayHours,\n  saturday: DayHours,\n  sunday: DayHours\n}\n\n//prettier-ignore\nexport interface LocationData {\n  mainPhone: string | number | boolean | {} | ReactElement<any, string | JSXElementConstructor<any>> | ReactNodeArray | ReactPortal | null | undefined;\n  id: string,\n  address?: Address,\n  name?: string,\n  hours?: Hours,\n  photoGallery?: any,\n  \n}\n\nconst builtInCssClasses = {\n  container: 'flex flex-col justify-between border-b p-4 shadow-sm hoverlist result',\n  header: 'flex text-base',\n  body: 'flex justify-between pt-2.5 text-sm font-body',\n  descriptionContainer: 'text-sm',\n  ctaContainer: 'flex flex-col justify-between ml-4',\n  cta1: 'min-w-max bg-blue-600 text-white font-medium rounded-lg py-2 px-5 shadow',\n  cta2: 'min-w-max bg-white text-blue-600 font-medium rounded-lg py-2 px-5 mt-2 shadow',\n  ordinal: 'mr-1.5 text-lg font-medium',\n  title: 'text-lg font-medium font-body font-bold',\n  ctaButton: 'flex justify-center border-2 w-2/5 rounded-md self-center\talign-middle mt-4 hover:bg-gray-400',\n};\n\n// TODO: format hours, hours to middle, fake CTAs on the right, hours to show current status and then can be expanded, limit to 3 results for now, margin between map\nexport function LocationCard(props: LocationCardProps): JSX.Element {\n  const { result } = props;\n  const location = result.rawData as unknown as LocationData;\n\n  const cssClasses = useComposedCssClasses(builtInCssClasses);\n\n  const screenSize = 'sm';\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { state, dispatch } = useContext(LocationContext);\n\n\n\n\n \n\n  function renderHours(hours?: Hours) {\n    // if day has openIntervals\n    let classTime = '';\n    switch (new Date().getDay()) {\n      case 0:\n        if (hours?.monday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.monday.openIntervals[0].end);\n        }\n      case 1:\n        if (hours?.tuesday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.tuesday.openIntervals[0].end);\n        }\n      case 2:\n        if (hours?.wednesday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.wednesday.openIntervals[0].end);\n        }\n      case 3:\n        if (hours?.thursday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.thursday.openIntervals[0].end);\n        }\n      case 4:\n        if (hours?.friday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.friday.openIntervals[0].end);\n        }\n      case 5:\n        if (hours?.saturday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.saturday.openIntervals[0].end);\n        }\n      case 6:\n        if (hours?.sunday.isClosed) {\n          return getGymText(true, '');\n        } else {\n          return getGymText(false, hours?.sunday.openIntervals[0].end);\n        }\n    }\n\n    if (!classTime) return;\n\n    return <div className={cssClasses.body}>{classTime}</div>;\n  }\n\n  function getGymText(isClosed: boolean, time?: string) {\n    return (\n      <div className=\"flex flex-col text-sm\">\n        <span className=\"font-bold\">{isClosed ? 'Closed' : 'Open'}</span>\n        <span>{isClosed ? `Opens at ${time}` : `Closes at ${formatTime(time)}`}</span>\n      </div>\n    );\n  }\n\n  // TODO: move to util class and use in ClassCard\n  function formatTime(time?: string) {\n    if (!time) return;\n    let hour: string | number = time.slice(0, 2);\n    const ampm = +hour < 12 ? 'AM' : 'PM';\n    hour = +hour % 12 || 12;\n    return `${hour}:${time.slice(3, 5)}${ampm}`;\n  }\n\n  const setHoveredLocation = () =>\n    dispatch({ type: LocationActionTypes.SetHoveredLocation, payload: { hoveredLocation: location } });\n\n  const clearHoveredLocation = () => dispatch({ type: LocationActionTypes.ClearHoveredLocation, payload: {} });\n\n  return (\n    <div\n      id={\"result-\"+location.id}\n      className={cssClasses.container}\n      onMouseOver={() => setHoveredLocation()}\n      onMouseLeave={() => clearHoveredLocation()}>\n      <div className={cssClasses.header}>\n        {/* {configuration.showOrdinal && result.index && renderOrdinal(result.index)} */}\n\n      </div>\n\n\n\n\n      <a className={cssClasses.title} href=\"https://communityfibre.co.uk/\">{location.name}</a>\n\n      <div className={cssClasses.descriptionContainer}>\n        <img className=\" \" src=\"https://www.kindpng.com/picc/m/705-7056384_address-png-file-address-icon-png-transparent-png.png\" width=\"28\" height=\"28\"\n                alt=\"\" />\n        <div>{location.address?.line1}</div>\n        <div>{`${location.address?.city},${location.address?.postalCode}`}</div>\n        <div>{`${location.address?.region}`}</div>\n      </div>\n\n\n      {/* {renderHours(location.hours)} */}\n\n<div className=\"flex flex-row  items-center lp-param-results lp-subparam-phoneNumber map-add\">\n<div className=\"mr-2 mt-1\"><img className=\" \" src=\"https://static.vecteezy.com/system/resources/thumbnails/003/720/476/small/phone-icon-telephone-icon-symbol-for-app-and-messenger-vector.jpg\" width=\"28\" height=\"28\" alt=\"\" />\n</div>\n<div className=\"phone \"><a id=\"address\" className=\"\" href={`tel:${location.mainPhone}`}>{location.mainPhone}</a>\n</div></div>\n      <a className={cssClasses.ctaButton} href=\"https://communityfibre.co.uk/\">Check Availability</a>\n      <a className={cssClasses.ctaButton} href=\"https://communityfibre.co.uk/\">View Packages</a>\n      <a className={cssClasses.ctaButton} href=\"https://communityfibre.co.uk/\">More Info</a>\n      {screenSize !== 'sm' && (\n        <div className={cssClasses.ctaButton}>\n          <div className=\"sm:text-body align-middle font-heading text-3xl font-bold sm:text-base\">JOIN US</div>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { CompositionMethod, useComposedCssClasses } from '../../hooks/useComposedCssClasses';\nimport { CardProps } from '../../models/cardComponent';\n\nexport interface StandardCardConfig {\n  showOrdinal?: boolean\n}\n\nexport interface StandardCardProps extends CardProps {\n  configuration: StandardCardConfig,\n  customCssClasses?: StandardCardCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport interface StandardCardCssClasses {\n  container?: string,\n  header?: string,\n  body?: string,\n  descriptionContainer?: string,\n  ctaContainer?: string,\n  cta1?: string,\n  cta2?: string,\n  ordinal?: string,\n  title?: string\n}\n\nconst builtInCssClasses: StandardCardCssClasses = {\n  container: 'flex flex-col justify-between border rounded-lg mb-4 p-4 shadow-sm ',\n  header: 'flex text-gray-800',\n  body: 'flex justify-end pt-2.5',\n  descriptionContainer: 'w-full text-base',\n  ctaContainer: 'flex flex-col justify-end ml-4',\n  cta1: 'min-w-max bg-blue-600 text-white font-medium rounded-lg py-2 px-5 shadow',\n  cta2: 'min-w-max bg-white text-blue-600 font-medium rounded-lg py-2 px-5 mt-2 shadow',\n  ordinal: 'mr-1.5 text-lg font-medium',\n  title: 'text-lg font-medium'\n}\n\ninterface CtaData { \n  label: string,\n  link: string,\n  linkType: string\n}\n\nfunction isCtaData(data: unknown): data is CtaData {\n  if (typeof data !== 'object' || data === null) {\n    return false;\n  }\n  const expectedKeys = ['label', 'link', 'linkType'];\n  return expectedKeys.every(key => {\n    return key in data;\n  });\n}\n\n/**\n * This Component renders the base result card.\n * \n * @param props - An object containing the result itself.\n */\nexport function StandardCard(props: StandardCardProps): JSX.Element {\n  const { configuration, result, customCssClasses, cssCompositionMethod } = props;\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n\n  const cta1 = isCtaData(result.rawData.c_primaryCTA) ? result.rawData.c_primaryCTA : undefined;\n  const cta2 = isCtaData(result.rawData.c_secondaryCTA) ? result.rawData.c_secondaryCTA : undefined;\n\n  // TODO (cea2aj) We need to handle the various linkType so these CTAs are clickable\n  function renderCTAs(cta1?: CtaData, cta2?: CtaData) {\n    return (<>\n      {(cta1 ?? cta2) && \n        <div className={cssClasses.ctaContainer}>\n          {cta1 && <button className={cssClasses.cta1}>{cta1.label}</button>}\n          {cta2 && <button className={cssClasses.cta2}>{cta2.label}</button>}\n        </div>\n      }\n    </>);\n  }\n\n  // TODO (cea2aj) Update this to render the ordinal once we get mocks from UX\n  function renderOrdinal(index: number) {\n    // return (\n    //   <div className={cssClasses.ordinal}>{index}</div>\n    // );\n    return null;\n  }\n\n  function renderTitle(title: string) {\n    return <div className={cssClasses.title}>{title}</div>\n  }\n\n  return (\n    <div className={cssClasses.container}>\n      <div className={cssClasses.header}>\n        {configuration.showOrdinal && result.index && renderOrdinal(result.index)}\n        {result.name && renderTitle(result.name)}\n      </div>\n      {(result.description ?? cta1 ?? cta2) &&\n        <div className={cssClasses.body}>\n          {result.description &&\n          <div className={cssClasses.descriptionContainer}> \n            <span>{result.description}</span>\n          </div>}\n          {renderCTAs(cta1, cta2)}\n        </div>\n      }\n    </div>\n  );\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    style: {\n      fill: \"currentColor\"\n    },\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 18 18\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.991 0C4.023 0 0 4.032 0 9s4.023 9 8.991 9C13.968 18 18 13.968 18 9s-4.032-9-9.009-9zm3.816 14.4L9 12.105 5.193 14.4l1.008-4.329-3.357-2.907 4.428-.378L9 2.7l1.728 4.077 4.428.378-3.357 2.907z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStar);\nexport default __webpack_public_path__ + \"static/media/star.fe7d07f9.svg\";\nexport { ForwardRef as ReactComponent };","export function processTranslation(args: {\n  phrase: string,\n  pluralForm?: string,\n  count?: number\n}) {\n  if (args.count != null && args.pluralForm && args.count !== 1) {\n    return args.pluralForm\n  } else {\n    return args.phrase;\n  }\n}","import { processTranslation } from './utils/processTranslation';\nimport { ReactComponent as Star } from '../icons/star.svg';\nimport { useAnswersState, VerticalResults } from '@yext/answers-headless-react';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\n\ninterface AlternativeVerticalsCssClasses {\n  container?: string,\n  alternativeVerticals___loading?: string,\n  noResultsText?: string,\n  categoriesText?: string,\n  suggestions?: string,\n  suggestionList?: string,\n  suggestion?: string,\n  suggestionButton?: string,\n  verticalIcon?: string,\n  verticalLink?: string,\n  allCategoriesLink?: string \n}\n\nconst builtInCssClasses: AlternativeVerticalsCssClasses = {\n  container: 'flex flex-col justify-between border rounded-lg mb-4 p-4 shadow-sm',\n  alternativeVerticals___loading: 'opacity-50',\n  noResultsText: 'text-lg text-gray-900 pb-2',\n  categoriesText: 'text-gray-500',\n  suggestions: 'pt-4 text-blue-600',\n  suggestionList: 'pt-4',\n  suggestion: 'pb-4',\n  suggestionButton: 'inline-flex items-center cursor-pointer hover:underline focus:underline',\n  verticalIcon: 'w-4 mr-2',\n  verticalLink: 'font-bold',\n  allCategoriesLink: 'text-blue-600 cursor-pointer hover:underline focus:underline'\n}\n\ninterface VerticalConfig {\n  label: string,\n  verticalKey: string\n}\n\ninterface VerticalSuggestion extends VerticalConfig {\n  resultsCount: number\n}\n\nfunction isVerticalSuggestion (suggestion: VerticalSuggestion | null): suggestion is VerticalSuggestion {\n  return suggestion?.resultsCount !== undefined;\n}\n\ninterface Props {\n  currentVerticalLabel: string,\n  verticalsConfig: VerticalConfig[],\n  displayAllOnNoResults?: boolean,\n  customCssClasses?: AlternativeVerticalsCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport default function AlternativeVerticals ({\n  currentVerticalLabel,\n  verticalsConfig,\n  displayAllOnNoResults = true,\n  customCssClasses,\n  cssCompositionMethod\n}: Props): JSX.Element | null {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n\n  const alternativeVerticals = useAnswersState(state => state.vertical.noResults?.alternativeVerticals) || [];\n  const allResultsForVertical = useAnswersState(state => state.vertical.noResults?.allResultsForVertical.results) || [];\n  const query = useAnswersState(state => state.query.mostRecentSearch);\n\n  const verticalSuggestions = buildVerticalSuggestions(verticalsConfig, alternativeVerticals);\n  const isShowingAllResults = displayAllOnNoResults && allResultsForVertical.length > 0;\n\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading);\n  const containerClassNames = classNames(cssClasses.container, {\n    [cssClasses.alternativeVerticals___loading ?? '']: isLoading\n  });\n\n  function buildVerticalSuggestions(\n    verticalsConfig: VerticalConfig[],\n    alternativeVerticals: VerticalResults[]) : VerticalSuggestion[] {\n    \n    return alternativeVerticals\n      .map((alternativeResults: VerticalResults) => {\n        const matchingVerticalConfig = verticalsConfig.find(config => {\n          return config.verticalKey === alternativeResults.verticalKey;\n        });\n\n        return matchingVerticalConfig\n          ? {\n            ...matchingVerticalConfig,\n            resultsCount: alternativeResults.resultsCount\n          }\n          : null;\n      })\n      .filter(isVerticalSuggestion)\n      .filter(verticalSuggestion => verticalSuggestion.resultsCount > 0);\n  }\n\n  if (verticalSuggestions.length <= 0) {\n    return null;\n  }\n\n  return  (\n    <div className={containerClassNames}>\n      {renderNoResultsInfo()}\n      {verticalSuggestions &&\n        <div className={cssClasses.suggestions}>\n          <div className={cssClasses.categoriesText}>\n            <span>\n              {processTranslation({\n                phrase: 'This category yielded results for - ',\n                pluralForm: 'These categories yielded results for - ',\n                count: verticalSuggestions.length\n              })}\n            </span>\n            <strong>{query}</strong>\n          </div>\n          <ul className={cssClasses.suggestionList}>\n            {verticalSuggestions.map(renderSuggestion)}\n          </ul>\n          {renderUniversalDetails()}\n        </div>\n      }\n    </div>\n  );\n\n  function renderNoResultsInfo() {\n    return (\n      <div className={cssClasses.noResultsText}>\n        <span>No results found in {currentVerticalLabel}.</span>\n        {isShowingAllResults &&\n          <span> Showing all {currentVerticalLabel} instead.</span>\n        }\n      </div>\n    );\n  }\n\n  function renderSuggestion(suggestion: VerticalSuggestion) {\n    return (\n      <li key={suggestion.verticalKey} className={cssClasses.suggestion}>\n        <Link className={cssClasses.suggestionButton} to={`/${suggestion.verticalKey}`}>\n          <div className={cssClasses.verticalIcon}><Star/></div>\n          <span className={cssClasses.verticalLink}>{suggestion.label}</span>\n        </Link>\n      </li>\n    );\n  }\n\n  function renderUniversalDetails() {\n    return (\n      <div className={cssClasses.categoriesText}>\n        <span>View results across </span>\n        <Link className={cssClasses.allCategoriesLink} to='/'>\n          all search categories.\n        </Link>\n      </div>\n    );\n  }\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevron(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 12 8\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.33341 6.5L6.00008 1.83333L10.6667 6.5\",\n    stroke: \"#A1A1AA\",\n    strokeWidth: 2,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevron);\nexport default __webpack_public_path__ + \"static/media/chevron.df21694d.svg\";\nexport { ForwardRef as ReactComponent };","import { CardComponent, CardConfigTypes } from '../models/cardComponent';\nimport { useAnswersState, Result, useAnswersActions } from '@yext/answers-headless-react';\nimport classNames from 'classnames';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\nimport { ReactComponent as PageNavigationIcon } from '../icons/chevron.svg';\n\ninterface VerticalResultsCssClasses extends PaginationCssClasses {\n  results___loading?: string\n}\n\nconst builtInCssClasses: VerticalResultsCssClasses = {\n  results___loading: 'opacity-50'\n}\n\ninterface VerticalResultsDisplayProps {\n  CardComponent: CardComponent,\n  cardConfig?: CardConfigTypes,\n  isLoading?: boolean,\n  results: Result[],\n  customCssClasses?: VerticalResultsCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\n/**\n * A Component that displays all the search results for a given vertical.\n * \n * @param props - The props for the Component, including the results and the card type\n *                to be used.\n */\nexport function VerticalResultsDisplay(props: VerticalResultsDisplayProps): JSX.Element | null {\n  const { CardComponent, results, cardConfig = {}, isLoading = false, customCssClasses, cssCompositionMethod } = props;\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n\n  if (results.length === 0) {\n    return null;\n  }\n\n  const resultsClassNames = classNames({\n    [cssClasses.results___loading ?? '']: isLoading\n  });\n\n  return (\n    <div className={resultsClassNames}>\n      {results && results.map(result => renderResult(CardComponent, cardConfig, result))}\n    </div>\n  )\n}\n\n/**\n * Renders a single result using the specified card type and configuration.\n * \n * @param CardComponent - The card for the vertical.\n * @param cardConfig - Any card-specific configuration.\n * @param result - The result to render.\n */\nfunction renderResult(CardComponent: CardComponent, cardConfig: CardConfigTypes, result: Result): JSX.Element {\n  return <CardComponent result={result} configuration={cardConfig} key={result.id || result.index}/>;\n}\n\ninterface VerticalResultsProps {\n  CardComponent: CardComponent,\n  cardConfig?: CardConfigTypes,\n  displayAllOnNoResults?: boolean,\n  customCssClasses?: VerticalResultsCssClasses,\n  cssCompositionMethod?: CompositionMethod,\n  allowPagination?: boolean\n}\n\nexport default function VerticalResults(props: VerticalResultsProps): JSX.Element | null {\n  const { displayAllOnNoResults = true, allowPagination = true, ...otherProps } = props;\n  const verticalResults = useAnswersState(state => state.vertical.results) || [];\n  const allResultsForVertical = useAnswersState(state => state.vertical?.noResults?.allResultsForVertical.results) || [];\n  const verticalResultsCount = useAnswersState(state => state.vertical.resultsCount) || 0;\n  const allResultsCountForVertical = useAnswersState(state => state.vertical?.noResults?.allResultsForVertical.resultsCount) || 0;\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading);\n\n  let results = verticalResults;\n  let resultsCount = verticalResultsCount;\n  if (verticalResults.length === 0 && displayAllOnNoResults) {\n    results = allResultsForVertical;\n    resultsCount = allResultsCountForVertical;\n  }\n\n  return (\n    <>\n      <VerticalResultsDisplay results={results} isLoading={isLoading} {...otherProps}/>\n      {allowPagination \n        && <Pagination \n          numResults={resultsCount}\n          customCssClasses={otherProps.customCssClasses}\n          cssCompositionMethod={otherProps.cssCompositionMethod}\n        />\n      }\n    </>\n  );\n}\n\ninterface PaginationCssClasses {\n  container?: string,\n  labelContainer?: string,\n  label?: string,\n  selectedLabel?: string,\n  leftIconContainer?: string,\n  rightIconContainer?: string,\n  icon?: string\n}\n\nconst builtInPaginationCssClasses: PaginationCssClasses = {\n  container: 'flex justify-center mb-4',\n  labelContainer: 'inline-flex shadow-sm -space-x-px',\n  label: 'z-0 inline-flex items-center px-4 py-2 text-sm font-semibold border border-gray-300 text-gray-500',\n  selectedLabel: 'z-10 inline-flex items-center px-4 py-2 text-sm font-semibold border border-blue-600 text-blue-600 bg-blue-50',\n  leftIconContainer: 'inline-flex items-center px-3.5 py-2 border border-gray-300 rounded-l-md',\n  rightIconContainer: 'inline-flex items-center px-3.5 py-2 border border-gray-300 rounded-r-md',\n  icon: 'w-3 text-gray-500'\n}\n\ninterface PaginationProps {\n  numResults: number,\n  customCssClasses?: PaginationCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\n/**\n * Renders a component that divide a series of results into chunks across multiple pages\n * and enable user to navigate between those pages.\n */\nfunction Pagination(props: PaginationProps): JSX.Element | null {\n  const { numResults, customCssClasses = {}, cssCompositionMethod } = props;\n  const cssClasses = useComposedCssClasses(builtInPaginationCssClasses, customCssClasses, cssCompositionMethod);\n  const answersAction = useAnswersActions();\n  const offset = useAnswersState(state => state.vertical.offset) || 0;\n  const limit = useAnswersState(state => state.vertical.limit) || 10;\n\n  const executeSearchWithNewOffset = (newOffset: number) => {\n    answersAction.setOffset(newOffset);\n    answersAction.executeVerticalQuery();\n  }\n  const onSelectNewPage = (evt: React.MouseEvent) => {\n    const newPageNumber = Number(evt.currentTarget.textContent);\n    newPageNumber && executeSearchWithNewOffset(limit * (newPageNumber - 1));\n  }\n\n  const maxPageCount = Math.ceil(numResults / limit);\n  if (maxPageCount <= 1) {\n    return null;\n  }\n  const pageNumber = (offset / limit) + 1;\n  const paginationLabels: string[] = generatePaginationLabels(pageNumber, maxPageCount);\n\n  return (\n    <div className={cssClasses.container}>\n      <nav className={cssClasses.labelContainer} aria-label=\"Pagination\">\n        <button\n          aria-label='Navigate to the previous results page'\n          className={cssClasses.leftIconContainer}\n          onClick={() => executeSearchWithNewOffset(offset - limit)} disabled={pageNumber === 1}\n        >\n          <PageNavigationIcon className={cssClasses.icon + ' transform -rotate-90'}/>\n        </button>\n        {paginationLabels.map((label, index) => {\n          switch (label) {\n            case '...':\n              return <button key={index} className={cssClasses.label}>{label}</button>\n            case `${pageNumber}`:\n              return <button key={index} className={cssClasses.selectedLabel} onClick={onSelectNewPage}>{label}</button>\n            default:\n              return <button key={index} className={cssClasses.label} onClick={onSelectNewPage}>{label}</button>\n          }\n        })}\n        <button\n          aria-label='Navigate to the next results page'\n          className={cssClasses.rightIconContainer}\n          onClick={() => executeSearchWithNewOffset(offset + limit)} disabled={pageNumber === maxPageCount}\n        >\n          <PageNavigationIcon className={cssClasses.icon + ' transform rotate-90'}/>\n        </button>\n      </nav>\n    </div>\n  );\n}\n\nfunction generatePaginationLabels(pageNumber: number, maxPageCount: number): string[] {\n  const paginationLabels: string[] = [];\n  const previousPageNumber = pageNumber - 1;\n  const nextPageNumber = pageNumber + 1;\n\n  if (previousPageNumber > 3) {\n    paginationLabels.push('1', '...', `${previousPageNumber}`);\n  } else if (previousPageNumber !== 0) {\n    [...Array(previousPageNumber)].forEach((_, index) => paginationLabels.push(`${index + 1}`));\n  }\n  paginationLabels.push(`${pageNumber}`);\n  if (maxPageCount - nextPageNumber > 2) {\n    paginationLabels.push(`${nextPageNumber}`, '...', `${maxPageCount}`);\n  } else if (nextPageNumber <= maxPageCount) {\n    [...Array(maxPageCount - nextPageNumber + 1)]\n      .forEach((_, index) => paginationLabels.push(`${nextPageNumber + index}`));\n  }\n  return paginationLabels;\n}\n","import { useRef, useEffect, useState, useContext } from 'react';\nimport { ReactComponent as PinIcon } from '../../icons/pin.svg';\nimport mapboxgl, { LngLat, Map } from 'mapbox-gl';  // eslint-disable-line import/no-webpack-loader-syntax   \nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport ReactDOM from 'react-dom';\nimport { LocationContext } from '../LocationContext';\nimport { LocationData } from '../cards/LocationCard';\nimport { LocationActionTypes } from '../locationReducers';\nimport { LngLatBounds } from 'mapbox-gl'; \nimport { distanceInKmBetweenCoordinates } from './mapUtils';\nimport { Matcher, useAnswersActions, useAnswersState } from '@yext/answers-headless-react';\nimport { renderSelectedLocation } from './renderSelectedLocation';\nimport { renderSearchAreaButton } from './renderSearchAreaButton';\nimport Address from \"../Address\";\nimport Hours from \"../hours\";\n\nimport { \n  GoogleMap,\n  useJsApiLoader,\n  Marker,\n  MarkerClusterer,\n  InfoWindow\n  } from \"@react-google-maps/api\";\n\n// prettier-ignore\nexport interface MapGoogleLocationData extends LocationData {\n  yextDisplayCoordinate?: {\n    latitude: number,\n    longitude: number\n  }\n}\n\n// prettier-ignore\ntype MapMarkers = {\n  [locationId: string]: mapboxgl.Marker \n};\n\ntype MapboxSearchType = 'none' | 'button' | 'google';\n\nexport default function MapGoogle(): JSX.Element {\n \n  const [activeMarker, setActiveMarker] = useState(null);\n  const [map, setMap] = useState(null);\n  const { state, dispatch } = useContext(LocationContext);\n  const [mapRef, setMapRef] = useState(null);\n\n  const answersActions = useAnswersActions();\n  const searchType = useAnswersState((state) => state.meta.searchType);\n // const mostRecentSearch = useAnswersState((state) => state.query.mostRecentSearch);\n  const query = useAnswersState((state) => state.query.input);\n\n  const handleActiveMarker = (marker:any) => {\n    if (marker === activeMarker) {\n      return;\n    }\n    setActiveMarker(marker);      \n  };\n\n  const markers:any = [];\n  let mapCenter = {lat: 0, lng: 0};\n  let MapZoom = 2;\n\n  state.mapLocations?.forEach((location, index) => { \n    console.log(location);\n    if(location.yextDisplayCoordinate){\n      markers.push({      \n        name: location.name,\n        id: location.id,\n        item: location,\n        position: { lat: location.yextDisplayCoordinate.latitude, lng: location.yextDisplayCoordinate.longitude }\n      });\n      \n      if(index == 0){\n        mapCenter = { lat: location.yextDisplayCoordinate.latitude, lng: location.yextDisplayCoordinate.longitude };\n      }\n\n    }\n\n  });\n\n\n  const fitBounds = (map:any) => {\n    const bounds = new window.google.maps.LatLngBounds();    \n    state.mapLocations?.forEach((location) => { \n      if(location.yextDisplayCoordinate){\n        bounds.extend({ lat: location.yextDisplayCoordinate.latitude, lng: location.yextDisplayCoordinate.longitude });        \n        return location.id;        \n      }  \n    });    \n    map.fitBounds(bounds);    \n  };\n\n  const loadHandler = (map:any) => {\n    // Store a reference to the google map instance in state\n    setMapRef(map);\n    // Fit map bounds to contain all markers\n    fitBounds(map);\n    MapZoom = map.getZoom();\n\t\tmapCenter = map.getCenter();\n  };\n\n  const { isLoaded } = useJsApiLoader({\n    id: 'google-map-script',\n    googleMapsApiKey: \"AIzaSyDZNQlSlEIkFAct5VzUtsP4dSbvOr2bE18\" // Add your API key\n  });\n  \n  const options = {imagePath:\"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m\"};\n\t\t\n  return isLoaded ? (\n    <>     \n    <div className=\"relative justify-center\">\n      <GoogleMap      \t  \n      center={mapCenter}\n      onClick={() => setActiveMarker(null)}\n      mapContainerStyle={{ width: \"100%\", height: \"600px\" }}\n      onLoad={loadHandler}\n      zoom={MapZoom}      \n    >\n      <MarkerClusterer options={options}>\n        {(clusterer) =>\n          markers.map(({ id, name, position, item }:any) => (\n            <Marker\n              key={id}\n\t\t\t        position={position}\n              onClick={() => handleActiveMarker(id)}\n              clusterer={clusterer}              \n            >\n            {activeMarker === id ? (\n            <InfoWindow onCloseClick={() => setActiveMarker(null)}>\n              <div>\n                <h2>{name}</h2>\n                <div className='address'>\n                  <div>{item.address?.line1}</div>\n                  <div>{`${item.address?.city}, ${item.address?.region} ${item.address?.postalCode}`}</div>\n                </div>                             \n              </div>\n            </InfoWindow>\n\t\t\t) : null}\n            </Marker>\n          ))\n        }\n      </MarkerClusterer>\n    </GoogleMap>\t  \n    </div>\n    </>\n  ) : <></>;\n\n\n}\n","import classNames from 'classnames';\nimport { useContext, useEffect } from 'react';\nimport { SectionConfig } from '../models/sectionComponent';\nimport AlternativeVerticals from './AlternativeVerticals';\nimport { StandardCard } from './cards/StandardCard';\nimport { LocationContext } from './LocationContext';\nimport { LocationActionTypes } from './locationReducers';\nimport Mapbox, { MapLocationData } from './mapbox/Mapbox';\nimport { VerticalResultsDisplay } from './VerticalResults'; \nimport MapGoogle  from './mapbox/MapGoogle';\n\ninterface LocationResultsProps extends SectionConfig {}\n\nexport default function LocationResults(props: LocationResultsProps): JSX.Element {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { state, dispatch } = useContext(LocationContext);\n  const screenSize = 'xl';\n\n  const { results, cardConfig } = props;\n  const cardComponent = cardConfig?.CardComponent || StandardCard;\n  \n  useEffect(() => {\n    const mapLocations: MapLocationData[] = [];\n    for (const result of results) {\n      const location = result.rawData as unknown as MapLocationData;\n      if (result.id && location.yextDisplayCoordinate) {\n        mapLocations.push({\n          id: result.id ?? '',\n          name: location.name,\n          address: location.address,\n          yextDisplayCoordinate: {\n            latitude: location.yextDisplayCoordinate.latitude,\n            longitude: location.yextDisplayCoordinate.longitude,\n          },\n          mainPhone: location.mainPhone\n        });\n      }\n    }\n    dispatch({ type: LocationActionTypes.SetMapLocations, payload: { mapLocations } });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [results]);\n\n  const renderMap = () => {\n    if (!state.mapLocations) return null;\n\n    return <MapGoogle />;\n  };\n\n  return (\n    <div className=\"flex\">\n      <div\n        className={classNames('overflow-y-auto sm:overflow-auto sm:border lg:w-1/3', {\n          hidden: state.showMap,\n          'w-full': !state.showMap,\n        })}\n        style={{ maxHeight: '580px' }}>\n        {state.mapLocations && state.mapLocations.length > 0 ? (\n          <VerticalResultsDisplay\n            results={results}\n            CardComponent={cardComponent}\n            {...(cardConfig && { cardConfig })}\n            customCssClasses={{ container: 'px-4 sm:px-0' }}\n          />\n        ) : state.noGymsMessage ? (\n          <div className=\"flex h-full items-center justify-center\">\n            <span className=\"font-heading text-xl\">{state.noGymsMessage}</span>\n          </div>\n        ) : (\n          <AlternativeVerticals\n            currentVerticalLabel=\"Locations\"           \n            verticalsConfig={[\n              { label: 'FAQs', verticalKey: 'faqs' },\n              { label: 'Plans', verticalKey: 'cf-plans' },\n              { label: 'Switch', verticalKey: 'switch' },\n              { label: 'Videos', verticalKey: 'videos' },\n            ]}\n            cssCompositionMethod=\"assign\"\n            customCssClasses={{\n              container: 'flex flex-col justify-between mb-4 p-4 shadow-sm',\n              noResultsText: 'text-lg font-heading pb-2',\n              categoriesText: 'font-body',\n              suggestions: 'pt-4 ',\n              suggestion: 'pb-4 text-gold font-heading',\n              allCategoriesLink: 'text-gold cursor-pointer hover:underline focus:underline',\n            }}\n          />\n        )}\n      </div>\n      <div className={classNames('w-full xl:w-3/4', { hidden: screenSize !== 'xl' && !state.showMap })}>\n        {renderMap()}\n      </div>\n    </div>\n  );\n}\n","import { SectionComponent, SectionConfig } from '../models/sectionComponent';\nimport { StandardCard } from '../components/cards/StandardCard';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\nimport React, { useContext } from 'react';\nimport { ResponsiveContext } from '../App';\nimport { useAnswersState } from '@yext/answers-headless-react';\nimport LocationResults from '../components/LocationResults';\nimport { LocationProvider } from '../components/LocationContext';\n\n//prettier-ignore\ninterface LocationSectionCssClasses {\n  section?: string\n}\n\nconst builtInCssClasses: LocationSectionCssClasses = {\n  section: '',\n};\n\ninterface LocationSectionConfig extends SectionConfig {\n  customCssClasses?: LocationSectionCssClasses,\n  compositionmethod?: CompositionMethod\n}\n\nconst LocationSection: SectionComponent = function (props: LocationSectionConfig): JSX.Element | null {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, props.customCssClasses, props.compositionmethod);\n  const { results, cardConfig, header } = props;\n  const latestQuery = useAnswersState((state) => state.query.mostRecentSearch);\n\n  const screenSize = useContext(ResponsiveContext);\n\n  if (results.length === 0) {\n    return null;\n  }\n\n  const cardComponent = cardConfig?.CardComponent || StandardCard;\n\n  return (\n    <LocationProvider>\n      <section className={cssClasses.section}>\n        {header}\n        <LocationResults results={results} verticalKey=\"locations\" cardConfig={cardConfig} />\n        {/* {screenSize === 'sm' && renderViewAllLink({ verticalKey: props.verticalKey, latestQuery, label: props.label })} */}\n      </section>\n    </LocationProvider>\n  );\n};\nexport default LocationSection;\n","import { useAnswersState } from '@yext/answers-headless-react';\nimport { useContext } from 'react';\nimport { ResponsiveContext } from '../../App';\nimport { useComposedCssClasses } from '../../hooks/useComposedCssClasses';\nimport { CardProps } from '../../models/cardComponent';\n// import renderCardImg from '../../utils/renderCardImg';\nimport {\n  Accordion,\n  AccordionItem,\n  AccordionItemHeading,\n  AccordionItemButton,\n  AccordionItemPanel,\n} from 'react-accessible-accordion';\n\n//prettier-ignore\nexport interface TrainerCardConfig {\n  showOrdinal?: boolean\n}\n\n//prettier-ignore\nexport interface TrainerCardProps extends CardProps {\n  configuration: TrainerCardConfig\n}\n\n//prettier-ignore\nexport interface SimpleImage {\n  url: string,\n  width: number,\n  height: number\n}\n\n//prettier-ignore\nexport interface Image extends SimpleImage {\n  sourceUrl: string,\n  thumbnails: SimpleImage[]\n}\n\n//prettier-ignore\ninterface PrimaryPhoto {\n  image?: Image\n}\n\n//prettier-ignore\nexport interface TrainerData {\n  id: any | null | undefined;\n  answer: string | undefined;\n  name?: string,\n  c_inspirationalQuote?: string,\n  primaryPhoto?: PrimaryPhoto\n}\n\n//prettier-ignore\nexport interface TrainerCardCssClasses {\n  container?: string,\n  descriptionContainer?: string,\n  name?: string,\n  // TODO: why can't I use the tailwind pixels here\n  trainerPhoto?: string,\n  ctaButton?: string,\n  ctaButtonText?: string\n}\n\n//prettier-ignore\nconst builtInCssClasses: TrainerCardCssClasses = {\n  container: 'flex flex-col p-4 shadow-sm my-2 align-items-center',\n  descriptionContainer: 'w-full text-sm font-heading ',\n  name: 'text-xl font-medium font-body font-bold',\n  ctaButton: 'flex border rounded-md mt-4 px-4 bg-black justify-center hover:bg-orange-900',\n  ctaButtonText: 'font-heading text-black font-bold text-base px-3 py-3 sm:py-0',\n};\n\n// TODO: format hours, hours to middle, fake CTAs on the right, hours to show current status and then can be expanded, limit to 3 results for now, margin between map\nexport function FaqCard(props: TrainerCardProps): JSX.Element {\n  const { result } = props;\n  const trainer = result.rawData as unknown as TrainerData;\n  const trainerImg = trainer.primaryPhoto?.image?.url ?? '';\n  // const smallestThumbnail = trainer.logo?.image?.thumbnails[trainer.logo?.image?.thumbnails.length - 1].url\n\n  const screenSize = useContext(ResponsiveContext);\n\n  const cssClasses = useComposedCssClasses(builtInCssClasses);\n\n  function renderName(name?: string) {\n    return <div className={cssClasses.name}>{name}</div>;\n  }\n\n  function renderQuote(quote?: string) {\n    return <div className={cssClasses.descriptionContainer}>{quote}</div>;\n  }\n\n  const isVertical = useAnswersState((s) => s.meta.searchType) === 'vertical';\n\n  return (\n \n\n\n\n<Accordion allowZeroExpanded>\n\n    <AccordionItem  key={trainer.id}>\n        <AccordionItemHeading>\n            <AccordionItemButton>\n            <div className='text-red-600'>{renderName(trainer.name)}</div>\n            </AccordionItemButton>\n        </AccordionItemHeading>\n        <AccordionItemPanel>\n        <div>\n          {renderName(trainer.answer)}\n          <div className={cssClasses.ctaButtonText}>Read more</div>\n          </div>\n        </AccordionItemPanel>\n    </AccordionItem>\n\n</Accordion>\n  );\n}\n","import { StandardCard } from '../components/cards/StandardCard';\nimport { VerticalConfig } from '../components/UniversalResults';\nimport { LocationCard } from '../components/cards/LocationCard';\nimport { PlansCard } from '../components/cards/PlansCard';\nimport LocationSection from '../sections/LocationSection';\nimport { FaqCard } from '../components/cards/FaqCard';\nimport { VideoCard } from '../components/cards/VideoCard';\nimport { SwitchCard } from '../components/cards/SwitchCard';\n\n\nexport type UniversalResultsConfig = Record<string, VerticalConfig>;\n\nexport const universalResultsConfig: UniversalResultsConfig = {\n\n \n  locations: {\n    label: 'Locations',\n    SectionComponent: LocationSection,\n    viewMapButton: true,\n    viewAllButton: true,\n    cardConfig: {\n      CardComponent: LocationCard,\n      showOrdinal: false,\n    },\n  },\n  // plans: {\n  //   label: 'Plans',\n  //   viewAllButton: true,\n  //   cardConfig: {\n  //     CardComponent: PlansCard,\n  //     showOrdinal: false\n  //   }\n  // },\n\n  // switch: {\n  //   label: 'Switch',\n  //   viewAllButton: true,\n  //   cardConfig: {\n  //     CardComponent: SwitchCard,\n  //     showOrdinal: false\n  //   }\n  // }, \n  // videos: {\n  //   label: 'Videos',\n  //   viewAllButton: true,\n  //   cardConfig: {\n  //     CardComponent: VideoCard,\n  //     showOrdinal: false\n  //   }\n  // },\n    faqs: {\n    label: 'FAQs',\n    viewAllButton: true,\n    cardConfig: {\n      CardComponent: FaqCard,\n      showOrdinal: false\n    }\n  }\n\n}","import classNames from \"classnames\";\nimport { useState, useEffect, useRef } from \"react\";\n\nexport interface Option {\n  value: string,\n  onSelect: () => void,\n  display: JSX.Element\n}\n\nexport interface DropdownSectionCssClasses {\n  sectionContainer?: string,\n  sectionLabel?: string,\n  optionsContainer?: string,\n  optionContainer?: string,\n  focusedOption?: string\n}\n\nexport interface DropdownSectionProps {\n  isFocused?: boolean,\n  options: Option[],\n  optionIdPrefix: string,\n  onFocusChange?: (value: string, focusedOptionId: string) => void,\n  onLeaveSectionFocus?: (pastSectionEnd: boolean) => void,\n  label?: string,\n  cssClasses?: DropdownSectionCssClasses\n}\n\nexport default function DropdownSection({\n  isFocused = false,\n  options,\n  optionIdPrefix,\n  onFocusChange = () => {},\n  onLeaveSectionFocus = () => {},\n  label = '',\n  cssClasses = {}\n}: DropdownSectionProps): JSX.Element | null {\n\n  const [focusedOptionIndex, setFocusedOptionIndex] = useState<number>(0);\n  const wasFocused = useRef<boolean>(isFocused);\n  function incrementOptionFocus() {\n    let newIndex = focusedOptionIndex + 1;\n    if (newIndex < options.length) {\n      onFocusChange(options[newIndex].value, `${optionIdPrefix}-${newIndex}`);\n    } else {\n      onLeaveSectionFocus(true);\n      newIndex = options.length - 1;\n    }\n    setFocusedOptionIndex(newIndex);\n  }\n\n  function decrementOptionFocus() {\n    let newIndex = focusedOptionIndex - 1;\n    if (newIndex > -1) {\n      onFocusChange(options[newIndex].value, `${optionIdPrefix}-${newIndex}`);\n    } else {\n      onLeaveSectionFocus(false);\n      newIndex = 0;\n    }\n    setFocusedOptionIndex(newIndex);\n  }\n\n  function handleKeyDown(evt: globalThis.KeyboardEvent) {\n    if (['ArrowDown', 'ArrowUp'].includes(evt.key)) {\n      evt.preventDefault();\n    }\n\n    if (evt.key === 'ArrowDown') {\n      incrementOptionFocus();\n    } else if (evt.key === 'ArrowUp') {\n      decrementOptionFocus();\n    } else if (evt.key === 'Enter') {\n      options[focusedOptionIndex].onSelect();\n    }\n  }\n\n  useEffect(() => {\n    if (isFocused) {\n      if (!wasFocused.current) {\n        onFocusChange(options[focusedOptionIndex].value, `${optionIdPrefix}-${focusedOptionIndex}`);\n      }\n      wasFocused.current = true;\n      document.addEventListener('keydown', handleKeyDown);\n      return () => document.removeEventListener('keydown', handleKeyDown);\n    }\n    else {\n      wasFocused.current = false;\n    }\n  });\n\n  function renderOption(option: Option, index: number) {\n    const optionContainterCssClasses = classNames(cssClasses.optionContainer, {\n      [cssClasses.focusedOption ?? '']: isFocused && index === focusedOptionIndex\n    });\n    return (\n      <div\n        key={index}\n        className={optionContainterCssClasses}\n        onClick={option.onSelect}\n        id={`${optionIdPrefix}-${index}`}\n        tabIndex={0}\n      >\n        {option.display}\n      </div>\n    );\n  }\n\n  return (\n    <div className={cssClasses.sectionContainer}>\n      {label &&\n        <div className={cssClasses.sectionLabel}>\n          {label}\n        </div>\n      }\n      <div className={cssClasses.optionsContainer}>\n        {options.map((option, index) => renderOption(option, index))}\n      </div>\n    </div>\n  );\n};\n","import '../sass/ScreenReader.scss';\n\ninterface Props {\n  instructionsId: string,\n  instructions: string,\n  announcementKey: number,\n  announcementText: string\n}\n\nexport default function ScreenReader({\n  instructionsId,\n  instructions,\n  announcementKey,\n  announcementText,\n}: Props): JSX.Element | null {\n\n  return (\n    <>\n      <div\n        id={instructionsId}\n        className='ScreenReader__instructions'\n      >\n        {instructions}\n      </div>\n      <div\n        className='ScreenReader__announcementText'\n        key={announcementKey}\n        aria-live='assertive'\n      >\n        {announcementText}\n      </div>\n    </>\n  );\n};\n","import { Children, cloneElement, isValidElement, ReactElement, ReactNode, ReactPortal } from 'react';\n\n/**\n * Recursively performs React.Children.map on a given ReactNode.\n */\nexport default function recursivelyMapChildren(\n  children: ReactNode,\n  elementReplacer: (c: ReactElement | ReactPortal, index: number) => ReactElement | null\n): ReactNode {\n  return Children.map<ReactNode, ReactNode>(children, (c, index) => {\n    if (!isValidElement(c)) {\n      return c;\n    }\n    const replacedElement = elementReplacer(c, index);\n    if (!replacedElement) {\n      return replacedElement;\n    }\n    const grandchildren = replacedElement.props.children;\n    if (!grandchildren) {\n      return replacedElement;\n    }\n    const replacedGrandchildren = recursivelyMapChildren(grandchildren, elementReplacer);\n    return cloneElement(replacedElement, { children: replacedGrandchildren });\n  });\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgYextLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 30 30\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M25.517 28.142v.095h-.204v.905h-.066v-.905h-.197v-.095h.467zm.667 0h.066v1h-.066v-.825l-.24.595h-.013l-.24-.595v.825h-.066v-1h.066l.247.61.246-.61zM15 28.8c7.622 0 13.8-6.178 13.8-13.8 0-7.622-6.178-13.8-13.8-13.8C7.378 1.2 1.2 7.378 1.2 15c0 7.622 6.178 13.8 13.8 13.8zM15 0c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15-8.284 0-15-6.716-15-15C0 6.716 6.716 0 15 0zm.45 16.65v-1.2h6.6v1.2h-2.7v5.4h-1.2v-5.4h-2.7zm-1.599-1.35l.849.849-2.601 2.601 2.601 2.601-.849.849-2.601-2.601L8.649 22.2l-.849-.849 2.601-2.601L7.8 16.149l.849-.849 2.601 2.601 2.601-2.601zM18.675 9a2.175 2.175 0 00-1.847 3.323l2.995-2.995A2.163 2.163 0 0018.675 9zm0 5.55a3.375 3.375 0 112.833-5.209l-3.789 3.788a2.175 2.175 0 003.13-1.954h1.201a3.375 3.375 0 01-3.375 3.375zm-7.425-3.734L13.78 7.8l.92.771-2.85 3.397v2.582h-1.2v-2.582L7.8 8.57l.92-.771 2.53 3.016z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgYextLogo);\nexport default __webpack_public_path__ + \"static/media/yext_logo.299936e9.svg\";\nexport { ForwardRef as ReactComponent };","import classNames from \"classnames\";\nimport React, { useReducer, KeyboardEvent, useRef, useEffect, useState, useMemo, FocusEvent, Children } from \"react\"\nimport DropdownSection, { DropdownSectionProps } from \"./DropdownSection\";\nimport ScreenReader from \"./ScreenReader\";\nimport recursivelyMapChildren from './utils/recursivelyMapChildren';\nimport { v4 as uuid } from 'uuid';\n\nexport interface InputDropdownCssClasses {\n  inputDropdownContainer?: string,\n  inputDropdownContainer___active?: string,\n  dropdownContainer?: string,\n  inputElement?: string,\n  inputContainer?: string,\n  divider?: string,\n  logoContainer?: string,\n  searchButtonContainer?: string\n}\n\ninterface Props {\n  inputValue?: string,\n  placeholder?: string,\n  screenReaderInstructions: string,\n  screenReaderText: string,\n  onlyAllowDropdownOptionSubmissions?: boolean,\n  forceHideDropdown?: boolean,\n  onSubmit?: (value: string) => void,\n  renderSearchButton?: () => JSX.Element | null,\n  renderLogo?: () => JSX.Element | null,\n  onInputChange: (value: string) => void,\n  onInputFocus: (value: string) => void,\n  onDropdownLeave?: (value: string) => void,\n  cssClasses?: InputDropdownCssClasses\n}\n\ninterface State {\n  focusedSectionIndex?: number,\n  dropdownHidden: boolean\n}\n\ntype Action =\n  | { type: 'HideSections' }\n  | { type: 'ShowSections' }\n  | { type: 'FocusSection', newIndex?: number }\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'HideSections':\n      return { focusedSectionIndex: undefined, dropdownHidden: true }\n    case 'ShowSections':\n      return { focusedSectionIndex: undefined, dropdownHidden: false }\n    case 'FocusSection':\n      return { focusedSectionIndex: action.newIndex, dropdownHidden: false }\n  }\n}\n\n/**\n * A controlled input component with an attached dropdown.\n */\nexport default function InputDropdown({\n  inputValue = '',\n  placeholder,\n  screenReaderInstructions,\n  screenReaderText,\n  onlyAllowDropdownOptionSubmissions,\n  forceHideDropdown,\n  children,\n  onSubmit = () => {},\n  renderSearchButton = () => null,\n  renderLogo = () => null,\n  onInputChange,\n  onInputFocus,\n  onDropdownLeave,\n  cssClasses = {}\n}: React.PropsWithChildren<Props>): JSX.Element | null {\n  const [{\n    focusedSectionIndex,\n    dropdownHidden,\n  }, dispatch] = useReducer(reducer, {\n    focusedSectionIndex: undefined,\n    dropdownHidden: true,\n  });\n  const shouldDisplayDropdown = !dropdownHidden && !forceHideDropdown;\n\n  const [focusedOptionId, setFocusedOptionId] = useState<string | undefined>(undefined);\n  const [latestUserInput, setLatestUserInput] = useState(inputValue);\n  const [childrenKey, setChildrenKey] = useState(0);\n  const [screenReaderKey, setScreenReaderKey] = useState(0);\n  const screenReaderInstructionsId = useMemo(() => uuid(), []);\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const inputDropdownRef = useRef<HTMLDivElement>(null);\n  if (dropdownHidden && screenReaderKey) {\n    setScreenReaderKey(0);\n  }\n\n  let numSections = 0;\n  const childrenWithProps = recursivelyMapChildren(children, child => {\n    if (!(React.isValidElement(child) && child.type === DropdownSection)) {\n      return child;\n    }\n    const currentSectionIndex = numSections;\n    numSections++;\n\n    let childProps = child.props as DropdownSectionProps;\n    const modifiedOptions = childProps.options.map(option => {\n      const modifiedOnSelect = () => {\n        setLatestUserInput(option.value);\n        dispatch({ type: 'HideSections' });\n        option.onSelect?.(); \n      }\n      return { ...option, onSelect: modifiedOnSelect }\n    });\n\n    const modifiedOnFocusChange = (value: string, focusedOptionId: string) => {\n      child.props.onFocusChange?.(value, focusedOptionId);\n      setFocusedOptionId(focusedOptionId);\n    };\n\n    if (focusedSectionIndex === currentSectionIndex) {\n      return React.cloneElement(child, {\n        onLeaveSectionFocus,\n        options: modifiedOptions,\n        isFocused: true,\n        key: `${currentSectionIndex}-${childrenKey}`,\n        onFocusChange: modifiedOnFocusChange\n      });\n    } else {\n      return React.cloneElement(child, {\n        onLeaveSectionFocus,\n        options: modifiedOptions,\n        isFocused: false,\n        key: `${currentSectionIndex}-${childrenKey}`\n      });\n    }\n  });\n\n\n  /**\n   * Handles changing which section should become focused when focus leaves the currently-focused section.\n   * @param pastSectionEnd Whether the section focus left from the end or the beginning of the section.\n   */\n  function onLeaveSectionFocus(pastSectionEnd: boolean) {\n    if (focusedSectionIndex === undefined && pastSectionEnd) {\n      dispatch({ type: 'FocusSection', newIndex: 0 });\n    } else if (focusedSectionIndex !== undefined) {\n      let newSectionIndex: number | undefined = pastSectionEnd\n        ? focusedSectionIndex + 1\n        : focusedSectionIndex - 1;\n      if (newSectionIndex < 0) {\n        newSectionIndex = undefined;\n        onInputChange(latestUserInput);\n        onDropdownLeave?.(latestUserInput);\n      } else if (newSectionIndex > numSections - 1) {\n        newSectionIndex = numSections - 1;\n      }\n      dispatch({ type: 'FocusSection', newIndex: newSectionIndex });\n    }\n  }\n\n  function handleDocumentClick(evt: MouseEvent) {\n    const target = evt.target as HTMLElement;\n    if (!(target.isSameNode(inputRef.current) || (dropdownRef.current?.contains(target)))) {\n      dispatch({ type: 'HideSections' });\n    }\n  }\n\n  function handleDocumentKeydown(evt: globalThis.KeyboardEvent) {\n    if (['ArrowDown', 'ArrowUp'].includes(evt.key)) {\n      evt.preventDefault();\n    }\n\n    if (evt.key === 'Escape') {\n      dispatch({ type: 'HideSections' });\n    } else if (evt.key === 'ArrowDown' && numSections > 0 && focusedSectionIndex === undefined) {\n      dispatch({ type: 'FocusSection', newIndex: 0 });\n    }\n  }\n\n  useEffect(() => {\n    if (shouldDisplayDropdown) {\n      document.addEventListener('click', handleDocumentClick);\n      document.addEventListener('keydown', handleDocumentKeydown);\n      return () => {\n        document.removeEventListener('click', handleDocumentClick);\n        document.removeEventListener('keydown', handleDocumentKeydown);\n      }\n    }\n  });\n\n  function handleInputElementKeydown(evt: KeyboardEvent<HTMLInputElement>) {\n    if (['ArrowDown', 'ArrowUp'].includes(evt.key)) {\n      evt.preventDefault();\n    }\n\n    if (evt.key === 'Enter' \n      && focusedSectionIndex === undefined\n      && !onlyAllowDropdownOptionSubmissions\n    ) {\n      setLatestUserInput(inputValue);\n      onSubmit(inputValue);\n      dispatch({ type: 'HideSections' });\n    }\n  }\n\n  function handleBlur(evt: FocusEvent<HTMLDivElement>) {\n    if (!evt.relatedTarget || !(evt.relatedTarget instanceof HTMLElement) || !inputDropdownRef.current) {\n      return;\n    }\n    if (!inputDropdownRef.current.contains(evt.relatedTarget)) {\n      dispatch({ type: 'HideSections' });\n    }\n  }\n\n  const inputDropdownContainerCssClasses = classNames(cssClasses.inputDropdownContainer, {\n    [cssClasses.inputDropdownContainer___active ?? '']: shouldDisplayDropdown\n  });\n\n  return (\n    <div className={inputDropdownContainerCssClasses} ref={inputDropdownRef} onBlur={handleBlur}>\n      <div className={cssClasses?.inputContainer}>\n        <div className={cssClasses.logoContainer}>\n          {renderLogo()}\n        </div>\n        <input\n          className={cssClasses.inputElement}\n          placeholder={placeholder}\n          onChange={evt => {\n            const value = evt.target.value;\n            setLatestUserInput(value);\n            onInputChange(value);\n            onInputFocus(value);\n            setChildrenKey(childrenKey + 1);\n            dispatch({ type: 'ShowSections' });\n            setScreenReaderKey(screenReaderKey + 1);\n          }}\n          onClick={() => {\n            onInputFocus(inputValue);\n            setChildrenKey(childrenKey + 1);\n            dispatch({ type: 'ShowSections' });\n            if (numSections > 0 || inputValue) {\n              setScreenReaderKey(screenReaderKey + 1);\n            }\n          }}\n          onKeyDown={handleInputElementKeydown}\n          value={inputValue}\n          ref={inputRef}\n          aria-describedby={screenReaderInstructionsId}\n          aria-activedescendant={focusedOptionId}\n        />\n        <div className={cssClasses.searchButtonContainer}>\n          {renderSearchButton()}\n        </div>\n      </div>\n      <ScreenReader\n        instructionsId={screenReaderInstructionsId}\n        instructions={screenReaderInstructions}\n        announcementKey={screenReaderKey}\n        announcementText={screenReaderKey\n          ? screenReaderText\n          : ''\n        }\n      />\n      {shouldDisplayDropdown && Children.count(children) !== 0 &&\n        <>\n          <div className={cssClasses.divider}></div>\n          <div className={cssClasses.dropdownContainer} ref={dropdownRef}>\n            {childrenWithProps}\n          </div>\n        </>\n      }\n    </div>\n  );\n};\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMagnifyingGlass(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMagnifyingGlass);\nexport default __webpack_public_path__ + \"static/media/magnifying_glass.7629f90e.svg\";\nexport { ForwardRef as ReactComponent };","import '../sass/LoadingIndicator.scss';\n\nexport default function LoadingIndicator() {\n  return (\n    <div className=\"LoadingIndicator\">\n      <svg className=\"LoadingIndicator__animatedIcon\" viewBox=\"0 0 72 72\" height=\"24\" width=\"24\">\n        <circle className=\"LoadingIndicator__circle\" cx=\"36\" cy=\"36\" r=\"33\" stroke=\"black\" strokeWidth=\"3\" fill=\"none\"/>\n      </svg>\n    </div>\n  )\n}","import LoadingIndicator from './LoadingIndicator';\nimport { ReactComponent as MagnifyingGlassIcon } from '../icons/magnifying_glass.svg';\n\ninterface Props {\n  handleClick: () => void,\n  isLoading: boolean,\n  className?: string\n}\n\nexport default function SearchButton ({ handleClick, isLoading, className }: Props) {\n  return (\n    <button\n      className={className}\n      onClick={handleClick}\n      aria-label='Submit Search'\n    >\n      {isLoading\n        ? <LoadingIndicator />\n        : <MagnifyingGlassIcon />}\n    </button>\n  )\n}","import { useRef, useState } from \"react\";\n\n/**\n * Handles the network request race condition by synchronizing requests with their responses. If multiple\n * requests are sent before getting a response, only the response corresponding to the latest request will\n * be returned.\n * \n * @param executeRequest Function that executes the network request\n * @returns Reponse to the latest request and a function to execute the request in a synchronized manner\n */\nexport function useSynchronizedRequest<RequestDataType, ResponseType>(\n  executeRequest: (data?: RequestDataType) => Promise<ResponseType | undefined>\n): [\n    ResponseType | undefined,\n    (data?: RequestDataType) => Promise<ResponseType | undefined>\n  ]\n{\n  const networkIds = useRef({ latestRequest: 0, responseInState: 0 });\n  const [synchronizedResponse, setSynchronizedResponse] = useState<ResponseType>();\n  async function executeSynchronizedRequest (data?: RequestDataType): Promise<ResponseType | undefined> {\n    const requestId = ++networkIds.current.latestRequest;\n    return new Promise(async (resolve) => {\n      const response = await executeRequest(data);\n      if (requestId >= networkIds.current.responseInState) {\n        setSynchronizedResponse(response);\n        networkIds.current.responseInState = requestId;\n      }\n      resolve(response);\n    });\n  }\n  return [synchronizedResponse, executeSynchronizedRequest]\n};","import { AnswersActions, SearchIntent } from \"@yext/answers-headless-react\";\n\nconst defaultGeolocationOptions: PositionOptions = {\n  enableHighAccuracy: false,\n  timeout: 6000,\n  maximumAge: 300000,\n};\n\n/**\n * If the provided search intents include a 'NEAR_ME' intent and there's no existing\n * user's location in state, retrieve and store user's location in headless state.\n */\nexport async function updateLocationIfNeeded(\n  answersActions: AnswersActions,\n  intents: SearchIntent[],\n  geolocationOptions?: PositionOptions\n) {\n  if (intents.includes(SearchIntent.NearMe) && !answersActions.state.location.userLocation) {\n    try {\n      const position = await getUserLocation(geolocationOptions);\n      answersActions.setUserLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n      });\n    } catch(e) {\n      console.error(e);\n    }\n  }\n}\n\n/**\n * Executes a universal/vertical search\n */\nexport async function executeSearch(answersActions: AnswersActions, isVertical: boolean) {\n  isVertical\n    ? answersActions.executeVerticalQuery()\n    : answersActions.executeUniversalQuery();\n}\n\n/**\n * Get search intents of the current query stored in headless using autocomplete request.\n */\nexport async function getSearchIntents(answersActions: AnswersActions, isVertical: boolean) {\n  const results = isVertical\n    ? await answersActions.executeVerticalAutocomplete()\n    : await answersActions.executeUniversalAutocomplete();\n  return results?.inputIntents;\n}\n\n/**\n * Retrieves user's location using nagivator.geolocation API\n */\nexport async function getUserLocation(geolocationOptions?: PositionOptions): Promise<GeolocationPosition> {\n  return new Promise((resolve, reject) => {\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        position => resolve(position),\n        err => { \n          console.error('Error occured using geolocation API. Unable to determine user\\'s location.');\n          reject(err); \n        },\n        { ...defaultGeolocationOptions, ...geolocationOptions }\n      );\n    } else {\n      reject('No access to geolocation API. Unable to determine user\\'s location.');\n    }\n  });\n}\n","import { AnswersHeadless, SearchTypeEnum } from '@yext/answers-headless-react';\nimport { executeSearch, updateLocationIfNeeded } from '../utils/search-operations';\nimport { MutableRefObject, useRef } from 'react';\nimport { AutocompleteResponse, SearchIntent } from '@yext/answers-headless-react';\n\ntype QueryFunc = () => Promise<void>\ntype AutocompleteRef = MutableRefObject<Promise<AutocompleteResponse | undefined> | undefined>\n\n/**\n * Returns a search action that will handle near me searches, by first checking\n * for near me intents using an autocomplete request.\n * You can optionally use the provided ref to store autocomplete responses, to avoid\n * making unnecessary autocomplete requests.\n */\nexport default function useSearchWithNearMeHandling(\n  answersActions: AnswersHeadless,\n  geolocationOptions?: PositionOptions,\n): [QueryFunc, AutocompleteRef] {\n  /**\n   * Allow a query search to wait on the response to the autocomplete request right\n   * before the search execution in order to retrieve the search intents\n   */\n  const autocompletePromiseRef = useRef<Promise<AutocompleteResponse | undefined>>();\n  const isVertical = answersActions.state.meta.searchType === SearchTypeEnum.Vertical;\n\n  async function executeQuery() {\n    let intents: SearchIntent[] = [];\n    if (!answersActions.state.location.userLocation) {\n      if (!autocompletePromiseRef.current) {\n        autocompletePromiseRef.current = isVertical\n          ? answersActions.executeVerticalAutocomplete()\n          : answersActions.executeUniversalAutocomplete();\n      }\n      const autocompleteResponseBeforeSearch = await autocompletePromiseRef.current;\n      intents = autocompleteResponseBeforeSearch?.inputIntents || [];\n      await updateLocationIfNeeded(answersActions, intents, geolocationOptions);\n    }\n    executeSearch(answersActions, isVertical);\n  }\n  return [executeQuery, autocompletePromiseRef];\n}","import { HighlightedValue } from \"@yext/answers-headless-react\";\n\nconst defaultCssClasses: HighlightedValueCssClasses = {\n  highlighted: 'font-bold'\n}\n\ninterface HighlightedValueCssClasses {\n  highlighted?: string\n}\n\n/**\n * Renders a HighlightedValue with highlighting based on its matchedSubstrings.\n * @returns JSX.Element\n */\nexport default function renderHighlightedValue ({ value = '', matchedSubstrings }: Partial<HighlightedValue>, customCssClasses?: HighlightedValueCssClasses): JSX.Element {\n  const cssClasses = { ...defaultCssClasses, ...customCssClasses };\n  if (!matchedSubstrings || matchedSubstrings.length === 0) {\n    return <span>{value}</span>;\n  }\n  const substrings = [...matchedSubstrings];\n  substrings.sort((a, b) => a.offset - b.offset);\n  const highlightedJSX = []\n  let curr = 0;\n  for (let { offset, length } of substrings) {\n    if (offset > curr) {\n      highlightedJSX.push(<span key={curr}>{value.substring(curr, offset)}</span>)\n    }\n    highlightedJSX.push(<span key={offset} className={cssClasses.highlighted}>{value.substring(offset, offset + length)}</span>)\n    curr = offset + length;\n  }\n  if (curr < value.length) {\n    highlightedJSX.push(<span key={curr}>{value.substring(curr)}</span>)\n  }\n  return <>{highlightedJSX}</>;\n}","import { AutocompleteResult } from '@yext/answers-headless-react';\nimport renderHighlightedValue from '../utils/renderHighlightedValue';\n\nexport interface AutocompleteResultCssClasses {\n  option?: string,\n  icon?: string\n}\n\nexport const builtInCssClasses = {\n  option: 'flex whitespace-pre-wrap h-6.5 pl-3',\n  icon: 'w-6 text-gray-400 opacity-50'\n}\n\n/**\n * Renders an autocomplete result, including an icon to the left if provided.\n * @param result The result to render\n * @returns JSX.Element\n */\nexport default function renderAutocompleteResult(\n  result: AutocompleteResult,\n  cssClasses?: AutocompleteResultCssClasses,\n  Icon?: React.FunctionComponent<React.SVGProps<SVGSVGElement>>\n) {\n  cssClasses = cssClasses ?? {};\n  return <>\n    {Icon && <div className={cssClasses.icon}>\n      <Icon />\n    </div>}\n    <div className={cssClasses.option}>\n      {renderHighlightedValue(result)}\n    </div>\n  </>\n}\n","import { SearchTypeEnum, useAnswersActions, useAnswersState } from '@yext/answers-headless-react';\nimport InputDropdown, { InputDropdownCssClasses } from './InputDropdown';\nimport { ReactComponent as YextLogoIcon } from '../icons/yext_logo.svg';\nimport '../sass/Autocomplete.scss';\nimport DropdownSection, { DropdownSectionCssClasses, Option } from './DropdownSection';\nimport { processTranslation } from './utils/processTranslation';\nimport SearchButton from './SearchButton';\nimport { useSynchronizedRequest } from '../hooks/useSynchronizedRequest';\nimport useSearchWithNearMeHandling from '../hooks/useSearchWithNearMeHandling';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\nimport renderAutocompleteResult, {\n  AutocompleteResultCssClasses,\n  builtInCssClasses as AutocompleteResultBuiltInCssClasses\n} from './utils/renderAutocompleteResult';\nimport { ReactComponent as MagnifyingGlassIcon } from '../icons/magnifying_glass.svg';\n\nconst SCREENREADER_INSTRUCTIONS = 'When autocomplete results are available, use up and down arrows to review and enter to select.'\n\nexport const builtInCssClasses: SearchBarCssClasses = {\n  container: 'h-12 mb-3',\n  divider: 'border-t border-gray-200 mx-2.5',\n  dropdownContainer: 'relative bg-white pt-4 pb-3 z-10',\n  inputContainer: 'inline-flex items-center justify-between w-full',\n  inputDropdownContainer: 'bg-white border rounded-3xl border-gray-200 w-full overflow-hidden',\n  inputDropdownContainer___active: 'shadow-lg',\n  inputElement: 'outline-none flex-grow border-none h-full pl-0.5 pr-2',\n  logoContainer: 'w-7 mx-2.5 my-2',\n  optionContainer: 'flex items-stretch mb-3 mx-3.5 cursor-pointer',\n  resultIconContainer: 'opacity-20 w-7 h-7 pl-1 mr-4',\n  searchButtonContainer: ' w-8 h-full mx-2 flex flex-col justify-center items-center',\n  submitButton: 'h-7 w-7',\n  focusedOption: 'bg-gray-100',\n  ...AutocompleteResultBuiltInCssClasses\n}\n\n\nexport interface SearchBarCssClasses \n  extends InputDropdownCssClasses, DropdownSectionCssClasses, AutocompleteResultCssClasses \n{\n  container?: string,\n  inputDropdownContainer?: string,\n  resultIconContainer?: string,\n  submitButton?: string\n}\n\ninterface Props {\n  placeholder?: string,\n  geolocationOptions?: PositionOptions,\n  customCssClasses?: SearchBarCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\n/**\n * Renders a SearchBar that is hooked up with an InputDropdown component\n */\nexport default function SearchBar({\n  placeholder,\n  geolocationOptions,\n  customCssClasses,\n  cssCompositionMethod\n}: Props) {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  const answersActions = useAnswersActions();\n  const query = useAnswersState(state => state.query.input);\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading);\n  const isVertical = useAnswersState(s => s.meta.searchType) === SearchTypeEnum.Vertical;\n  const [autocompleteResponse, executeAutocomplete] = useSynchronizedRequest(() => {\n    return isVertical\n      ? answersActions.executeVerticalAutocomplete()\n      : answersActions.executeUniversalAutocomplete();\n  });\n  const [executeQuery, autocompletePromiseRef] = useSearchWithNearMeHandling(answersActions, geolocationOptions);\n\n  const options: Option[] = autocompleteResponse?.results.map(result => {\n    return {\n      value: result.value,\n      onSelect: () => {\n        autocompletePromiseRef.current = undefined;\n        answersActions.setQuery(result.value);\n        executeQuery();\n      },\n      display: renderAutocompleteResult(result, cssClasses, MagnifyingGlassIcon)\n    }\n  }) ?? [];\n\n  const screenReaderText = processTranslation({\n    phrase: `${options.length} autocomplete option found.`,\n    pluralForm: `${options.length} autocomplete options found.`,\n    count: options.length\n  });\n\n  function renderSearchButton() {\n    return <SearchButton\n      className={cssClasses.submitButton}\n      handleClick={executeQuery}\n      isLoading={isLoading || false}\n    />\n  }\n  return (\n    <div className={cssClasses.container}>\n      <InputDropdown\n        inputValue={query}\n        placeholder=\"testing for searchbar\"\n        screenReaderInstructions={SCREENREADER_INSTRUCTIONS}\n        screenReaderText={screenReaderText}\n        onSubmit={executeQuery}\n        onInputChange={value => {\n          answersActions.setQuery(value);\n        }}\n        onInputFocus={() => {\n          autocompletePromiseRef.current = executeAutocomplete();\n        }}\n        renderLogo={() => <YextLogoIcon />}\n        renderSearchButton={renderSearchButton}\n        cssClasses={cssClasses}\n        forceHideDropdown={options.length === 0}\n      >\n        {\n          options.length > 0 &&\n          <DropdownSection\n            options={options}\n            optionIdPrefix='0'\n            onFocusChange={value => {\n              answersActions.setQuery(value);\n            }}\n            cssClasses={cssClasses}\n          />\n        }\n      </InputDropdown>\n    </div>\n  )\n}\n","import { AnswersHeadlessProvider } from '@yext/answers-headless-react';\n\ntype HeadlessProviderProps = Parameters<typeof AnswersHeadlessProvider>[0];\n\nexport const answersHeadlessConfig: HeadlessProviderProps = {\n  apiKey: '517098a6af3059084d6727091281912d',\n  experienceKey: 'demo',\n  locale: 'fr',\n  sessionTrackingEnabled: true,\n  endpoints: {\n    universalSearch: \"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/query\",\n    verticalSearch: \"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/vertical/query\",\n    questionSubmission: \"https://liveapi-sandbox.yext.com/v2/accounts/me/createQuestion\",\n    universalAutocomplete: \"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/autocomplete\",\n    verticalAutocomplete: \"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/vertical/autocomplete\",\n    filterSearch: \"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/filtersearch\"\n  }\n};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgHistory(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 14 15\",\n    fill: \"currentColor\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.7813 7.75C13.7539 4.00391 10.7188 0.96875 7 0.96875C5.11328 0.96875 3.39063 1.76172 2.16016 2.99219L0.929688 1.76172C0.738281 1.57031 0.382813 1.70703 0.382813 2.00781L0.382813 5.45312C0.382813 5.64453 0.519531 5.78125 0.710938 5.78125L4.21094 5.78125C4.51172 5.78125 4.64844 5.42578 4.45703 5.23437L3.11719 3.92188C4.10156 2.91016 5.46875 2.28125 7 2.28125C10.0078 2.28125 12.4688 4.74219 12.4688 7.75C12.4688 10.7852 10.0078 13.2187 7 13.2188C5.57813 13.2188 4.32031 12.6992 3.33594 11.8516C3.22656 11.7422 3.00781 11.7422 2.89844 11.8516L2.43359 12.3164C2.29688 12.4531 2.29688 12.6719 2.43359 12.8086C3.63672 13.875 5.25 14.5586 7 14.5312C10.7188 14.5312 13.7813 11.4961 13.7813 7.75ZM9.1875 10.2109L9.59766 9.69141C9.67969 9.52734 9.65234 9.33594 9.51563 9.22656L7.65625 7.85937V3.92187C7.65625 3.75781 7.49219 3.59375 7.32813 3.59375H6.67188C6.48047 3.59375 6.34375 3.75781 6.34375 3.92187V8.54297L8.75 10.293C8.88672 10.4023 9.10547 10.375 9.1875 10.2109Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHistory);\nexport default __webpack_public_path__ + \"static/media/history.52fd1057.svg\";\nexport { ForwardRef as ReactComponent };","import { useRef, useState } from \"react\";\nimport { provideAnswersHeadless, VerticalResults, AnswersHeadless, UniversalLimit } from '@yext/answers-headless-react';\nimport { answersHeadlessConfig } from '../config/answersHeadlessConfig';\nimport useDebouncedFunction from './useDebouncedFunction';\nimport useComponentMountStatus from \"./useComponentMountStatus\";\n\ninterface EntityPreviewsState {\n  verticalResultsArray: VerticalResults[],\n  isLoading: boolean\n}\n\ntype ExecuteEntityPreviewsQuery = (query: string, universalLimit: UniversalLimit, restrictVerticals: string[]) => void\n\n/**\n * useEntityPreviews provides state surrounding the visual entities portion of visual autocomplete,\n * which performs debounced universal searches.\n * \n * @param headlessId a unique id for the new headless instance that will be created by the hook\n * @param debounceTime the time in milliseconds to debounce the universal search request\n */\nexport function useEntityPreviews(headlessId: string, debounceTime: number):[ EntityPreviewsState, ExecuteEntityPreviewsQuery ] {\n  const headlessRef = useRef<AnswersHeadless>();\n  if (!headlessRef.current) {\n    headlessRef.current = provideAnswersHeadless({\n      ...answersHeadlessConfig,\n      headlessId\n    });\n  }\n  const isMountedRef = useComponentMountStatus();\n  const [verticalResultsArray, setVerticalResultsArray] = useState<VerticalResults[]>([]);\n  const debouncedUniversalSearch = useDebouncedFunction(async () => {\n    if (!headlessRef.current) {\n      return;\n    }\n    await headlessRef.current.executeUniversalQuery();\n    /**\n     * Avoid performing a React state update on an unmounted component\n     * (e.g unmounted during async await)\n     */\n    if (!isMountedRef.current) {\n      return;\n    }\n    const results = headlessRef.current.state.universal.verticals || [];\n    setVerticalResultsArray(results);\n    setLoadingState(false);\n  }, debounceTime)\n  const [isLoading, setLoadingState] = useState<boolean>(false);\n\n  function executeEntityPreviewsQuery(query: string, universalLimit: UniversalLimit, restrictVerticals: string[]) {\n    if (!headlessRef.current) {\n      return;\n    }\n    if (query === headlessRef.current.state.query.input) {\n      return;\n    }\n    setLoadingState(true);\n    headlessRef.current.setQuery(query);\n    headlessRef.current.setRestrictVerticals(restrictVerticals);\n    headlessRef.current.setUniversalLimit(universalLimit);\n    debouncedUniversalSearch();\n  }\n  return [{ verticalResultsArray, isLoading }, executeEntityPreviewsQuery];\n};","import { useEffect, useRef } from \"react\";\n\n/**\n * This is use to prevent react errors due to performing state update on unmounted component.\n * This error does not need to be suppressed as it will be remove in the next version of React.\n * \n * React PR regarding the issue: https://github.com/facebook/react/pull/22114\n */\nexport default function useComponentMountStatus() {\n  const isMountedRef = useRef<boolean>(false);\n  useEffect(() => {\n    isMountedRef.current = true;\n    return () => { isMountedRef.current = false; }\n  }, []);\n  \n  return isMountedRef;\n}","import { useRef } from 'react';\n\ntype Func = (...args: any[]) => any;\ntype DebouncedFunction<F extends Func> = (...args: Parameters<F>) => Promise<undefined | ReturnType<F>>;\n\nexport default function useDebouncedFunction<F extends Func>(func: F, milliseconds: number): DebouncedFunction<F> {\n  const timeoutIdRef = useRef<number | undefined>();\n  const debounced: DebouncedFunction<F> = (...args: Parameters<F>) => {\n    return new Promise(resolve => {\n      if (timeoutIdRef.current !== undefined) {\n        clearTimeout(timeoutIdRef.current);\n      }\n      timeoutIdRef.current = window.setTimeout(() => {\n        resolve(func(...args));\n        timeoutIdRef.current = undefined;\n      }, milliseconds)\n    })\n  }\n  return debounced;\n}","import { Result, VerticalResults, UniversalLimit } from '@yext/answers-headless-react';\nimport { isValidElement, ReactNode } from 'react';\nimport recursivelyMapChildren from '../utils/recursivelyMapChildren';\n\ninterface EntityPreviewsProps {\n  verticalKey: string,\n  children: (results: Result[]) => JSX.Element,\n  limit?: number\n}\n\n/**\n * EntityPreviews is intended for use within VisualSearchBar's renderEntityPreviews.\n * It provides results corresponding to its verticalKey through a props.children FACC.\n *\n * @remarks\n * You can optionally specify a limit for the results. This limit will be shared between\n * instances of EntityPreviews with the same verticalKey.\n */\nexport default function EntityPreviews(_: EntityPreviewsProps) {\n  return null;\n}\n\n/**\n * Recursively passes vertical results into instances of EntityPreview.\n */\nexport function transformEntityPreviews(entityPreviews: JSX.Element, verticalResultsArray: VerticalResults[]): ReactNode {\n  const verticalKeyToResults = getVerticalKeyToResults(verticalResultsArray);\n  const renderedChildren = recursivelyMapChildren(entityPreviews, child => {\n    if (!isValidElement(child) || child.type !== EntityPreviews) {\n      return child;\n    }\n    const { verticalKey, children } = child.props as EntityPreviewsProps;\n    if (!(verticalKey in verticalKeyToResults)) {\n      return null;\n    }\n    return children(verticalKeyToResults[verticalKey]);\n  });\n  return renderedChildren;\n}\n\n/**\n * @returns a mapping of vertical key to VerticalResults\n */\nfunction getVerticalKeyToResults(verticalResultsArray: VerticalResults[]): Record<string, Result[]> {\n  return verticalResultsArray.reduce<Record<string, Result[]>>((prev, current) => {\n    prev[current.verticalKey] = current.results;\n    return prev;\n  }, {});\n}\n\n/**\n * Calculates the restrictVerticals query param from a ReactNode containing EntityPreviews.\n */\nexport function calculateRestrictVerticals(children: ReactNode): string[] {\n  const restrictedVerticalsSet = new Set<string>();\n  recursivelyMapChildren(children, c => {\n    if (isValidElement(c) && c.type === EntityPreviews) {\n      const { verticalKey } = c.props as EntityPreviewsProps;\n      restrictedVerticalsSet.add(verticalKey);\n    }\n    return c;\n  });\n  return Array.from(restrictedVerticalsSet);\n}\n\n/**\n * Calculates the universalLimit query param from a ReactNode containing EntityPreviews.\n */\nexport function calculateUniversalLimit(children: ReactNode): UniversalLimit {\n  const universalLimit: Record<string, number | null> = {};\n  recursivelyMapChildren(children, c => {\n    if (isValidElement(c) && c.type === EntityPreviews) {\n      const { verticalKey, limit } = c.props as EntityPreviewsProps;\n      universalLimit[verticalKey] = limit || null;\n    }\n    return c;\n  });\n  return Object.keys(universalLimit).reduce<UniversalLimit>((limitWithDefaults, verticalKey) => {\n    limitWithDefaults[verticalKey] = universalLimit[verticalKey] ?? 5;\n    return limitWithDefaults;\n  }, {})\n}","import { useCallback, useEffect, useState } from 'react';\nimport RecentSearches, { ISearch } from \"recent-searches\";\n\nexport const RECENT_SEARCHES_KEY = '__yxt_recent_searches__'\n\nexport default function useRecentSearches(\n  recentSearchesLimit: number\n): [ISearch[]|undefined, (input: string) => void, () => void] {\n  const [ recentSearches, setRecentSeaches ] = useState<RecentSearches>();\n\n  const clearRecentSearches = useCallback(() => {\n    localStorage.removeItem(RECENT_SEARCHES_KEY);\n    setRecentSeaches(new RecentSearches({\n      limit: recentSearchesLimit,\n      namespace: RECENT_SEARCHES_KEY \n    }));\n    localStorage.removeItem(RECENT_SEARCHES_KEY);\n  }, [recentSearchesLimit]);\n\n  const setRecentSearch = (input: string) => {\n    recentSearches?.setRecentSearch(input);\n  }\n  \n  useEffect(() => {\n    setRecentSeaches(new RecentSearches({\n      limit: recentSearchesLimit,\n      namespace: RECENT_SEARCHES_KEY \n    }));\n  }, [recentSearchesLimit]);\n\n  return [recentSearches?.getRecentSearches(), setRecentSearch, clearRecentSearches];\n}","import { useAnswersActions, useAnswersState, VerticalResults, AutocompleteResult } from '@yext/answers-headless-react';\nimport { PropsWithChildren, useEffect } from 'react';\nimport InputDropdown from '../InputDropdown';\nimport '../../sass/Autocomplete.scss';\nimport DropdownSection, { Option } from '../DropdownSection';\nimport { useEntityPreviews } from '../../hooks/useEntityPreviews';\nimport SearchButton from '../SearchButton';\nimport { processTranslation } from '../utils/processTranslation';\nimport { useSynchronizedRequest } from '../../hooks/useSynchronizedRequest';\nimport { calculateRestrictVerticals, calculateUniversalLimit, transformEntityPreviews } from './EntityPreviews';\nimport useSearchWithNearMeHandling from '../../hooks/useSearchWithNearMeHandling';\nimport { builtInCssClasses as builtInSearchBarCssClasses, SearchBarCssClasses } from '../SearchBar';\nimport { CompositionMethod, useComposedCssClasses } from '../../hooks/useComposedCssClasses';\nimport { ReactComponent as YextLogoIcon } from '../../icons/yext_logo.svg';\nimport renderAutocompleteResult from '../utils/renderAutocompleteResult';\nimport { ReactComponent as RecentSearchIcon } from '../../icons/history.svg';\nimport useRecentSearches from '../../hooks/useRecentSearches';\nimport { useHistory } from 'react-router';\nimport { ReactComponent as MagnifyingGlassIcon } from '../../icons/magnifying_glass.svg';\n\nconst SCREENREADER_INSTRUCTIONS = 'When autocomplete results are available, use up and down arrows to review and enter to select.'\nconst builtInCssClasses: VisualSearchBarCssClasses = { \n  ...builtInSearchBarCssClasses, \n  recentSearchesOptionContainer: 'flex items-center h-6.5 px-3.5 pb-3 cursor-pointer',\n  recentSearchesIcon: 'w-4 mx-1 text-gray-500',\n  recentSearchesOption: 'pl-3',\n  verticalLink: '-mt-1 ml-14 text-gray-600'\n};\n\ninterface VisualSearchBarCssClasses extends SearchBarCssClasses {\n  recentSearchesOptionContainer?: string,\n  recentSearchesIcon?: string,\n  recentSearchesOption?: string,\n  verticalLink: string\n}\n\ntype RenderEntityPreviews = (\n  autocompleteLoading: boolean,\n  verticalResultsArray: VerticalResults[]\n) => JSX.Element;\n\ninterface VerticalLink {\n  label: string,\n  verticalKey: string\n}\n\ninterface Props {\n  placeholder?: string,\n  geolocationOptions?: PositionOptions,\n  headlessId: string,\n  // The debouncing time, in milliseconds, for making API requests for entity previews\n  entityPreviewsDebouncingTime: number,\n  renderEntityPreviews?: RenderEntityPreviews,\n  hideVerticalLinks?: boolean,\n  verticalKeyToLabel?: (verticalKey: string) => string,\n  hideRecentSearches?: boolean,\n  recentSearchesLimit?: number,\n  customCssClasses?: VisualSearchBarCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\n/**\n * Renders a SearchBar with visual autocomplete.\n */\nexport default function VisualSearchBar({\n  placeholder,\n  headlessId,\n  hideRecentSearches,\n  renderEntityPreviews,\n  hideVerticalLinks,\n  verticalKeyToLabel,\n  recentSearchesLimit = 5,\n  customCssClasses,\n  cssCompositionMethod,\n  entityPreviewsDebouncingTime = 500\n}: PropsWithChildren<Props>) {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n\n  const browserHistory = useHistory();\n  const answersActions = useAnswersActions();\n  const query = useAnswersState(state => state.query.input) ?? '';\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading) ?? false;\n  const [executeQueryWithNearMeHandling, autocompletePromiseRef] = useSearchWithNearMeHandling(answersActions)\n  const [autocompleteResponse, executeAutocomplete] = useSynchronizedRequest(async () => {\n    return answersActions.executeUniversalAutocomplete();\n  });\n  const [recentSearches, setRecentSearch, clearRecentSearches] = useRecentSearches(recentSearchesLimit);\n  useEffect(() => {\n    if (hideRecentSearches) {\n      clearRecentSearches();\n    }\n  }, [clearRecentSearches, hideRecentSearches])\n  const haveRecentSearches = !hideRecentSearches && recentSearches?.length !== 0;\n  \n\n  function executeQuery() {\n    if (!hideRecentSearches) {\n      const input = answersActions.state.query.input;\n      input && setRecentSearch(input);\n    }\n    executeQueryWithNearMeHandling();\n  }\n\n  const [entityPreviewsState, executeEntityPreviewsQuery] = useEntityPreviews(headlessId, entityPreviewsDebouncingTime);\n  const { verticalResultsArray, isLoading: entityPreviewsLoading } = entityPreviewsState;\n  const autocompleteResults = autocompleteResponse?.results || [];\n  const entityPreviews = renderEntityPreviews && renderEntityPreviews(entityPreviewsLoading, verticalResultsArray);\n  function updateEntityPreviews(query: string) {\n    if (!renderEntityPreviews) {\n      return;\n    }\n    const restrictVerticals = calculateRestrictVerticals(entityPreviews);\n    const universalLimit = calculateUniversalLimit(entityPreviews);\n    executeEntityPreviewsQuery(query, universalLimit, restrictVerticals);\n  }\n\n  function renderQuerySuggestions() {\n    if (autocompleteResults.length === 0) {\n      return null;\n    }\n    let options: Option[] = [];\n    autocompleteResults.forEach(result => {\n      options.push({\n        value: result.value,\n        onSelect: () => {\n          autocompletePromiseRef.current = undefined;\n          answersActions.setQuery(result.value);\n          executeQuery();\n        },\n        display: renderAutocompleteResult(result, cssClasses, MagnifyingGlassIcon)\n      });\n\n      if (hideVerticalLinks) {\n        return;\n      }\n      const verticalKeys = result.verticalKeys;\n      let verticalLinks: VerticalLink[]|undefined = verticalKeys?.map(verticalKey => {\n        return { \n          label: verticalKeyToLabel ? verticalKeyToLabel(verticalKey) : verticalKey,\n          verticalKey\n        }\n      });\n\n      verticalLinks?.forEach(link => \n        options.push({\n          value: result.value,\n          onSelect: () => {\n            autocompletePromiseRef.current = undefined;\n            answersActions.setQuery(result.value);\n            executeQuery();\n            browserHistory.push(`/${link.verticalKey}`);\n          },\n          display: renderAutocompleteResult({ value: `in ${link.label}` }, { ...cssClasses, option: cssClasses.verticalLink })\n        })\n      );\n    });\n\n    return <DropdownSection\n      options={options}\n      optionIdPrefix='VisualSearchBar-QuerySuggestions'\n      onFocusChange={value => {\n        answersActions.setQuery(value);\n        updateEntityPreviews(value);\n      }}\n      cssClasses={cssClasses}\n    />\n  }\n\n  function renderRecentSearches() {\n    const recentSearchesCssClasses = {\n      ...cssClasses,\n      optionContainer: cssClasses.recentSearchesOptionContainer,\n      icon: cssClasses.recentSearchesIcon,\n      option: cssClasses.recentSearchesOption\n    }\n    const options: Option[] = recentSearches?.map(result => {\n      return {\n        value: result.query,\n        onSelect: () => {\n          autocompletePromiseRef.current = undefined;\n          answersActions.setQuery(result.query);\n          executeQuery();\n        },\n        display: renderAutocompleteResult({ value: result.query }, recentSearchesCssClasses, RecentSearchIcon)\n      }\n    }) ?? [];\n    if (options.length === 0) {\n      return null;\n    }\n\n    return <DropdownSection\n      options={options}\n      optionIdPrefix='VisualSearchBar-RecentSearches'\n      onFocusChange={value => {\n        answersActions.setQuery(value);\n      }}\n      cssClasses={recentSearchesCssClasses}\n    />\n  }\n\n  return (\n    <div className={cssClasses.container}>\n      <InputDropdown\n        inputValue={query}\n        placeholder={placeholder}\n        screenReaderInstructions={SCREENREADER_INSTRUCTIONS}\n        screenReaderText={getScreenReaderText(autocompleteResults)}\n        onSubmit={executeQuery}\n        onInputChange={value => {\n          answersActions.setQuery(value);\n        }}\n        onInputFocus={value => {\n          updateEntityPreviews(value);\n          autocompletePromiseRef.current = executeAutocomplete();\n        }}\n        onDropdownLeave={value => {\n          updateEntityPreviews(value);\n        }}\n        renderSearchButton={() =>\n          <SearchButton\n            className={cssClasses.submitButton}\n            handleClick={executeQuery}\n            isLoading={isLoading}\n          />\n        }\n        renderLogo={() => <YextLogoIcon />}\n        cssClasses={cssClasses}\n        forceHideDropdown={autocompleteResults.length === 0 && verticalResultsArray.length === 0 && !haveRecentSearches}\n      >\n        {!hideRecentSearches && renderRecentSearches()}\n        {renderQuerySuggestions()}\n        {entityPreviews && transformEntityPreviews(entityPreviews, verticalResultsArray)}\n      </InputDropdown>\n    </div>\n  )\n}\n\nfunction getScreenReaderText(options: AutocompleteResult[]) {\n  return processTranslation({\n    phrase: `${options.length} autocomplete option found.`,\n    pluralForm: `${options.length} autocomplete options found.`,\n    count: options.length\n  });\n}","import VisualSearchBar from './VisualSearchBar';\nimport { Result } from '@yext/answers-headless-react';\nimport EntityPreviews from './EntityPreviews';\nimport { universalResultsConfig } from '../../config/universalResultsConfig';\n\n/**\n * This is an example of how to use the VisualSearchBar component.\n */\nexport default function SampleVisualSearchBar() {\n  return (\n    <VisualSearchBar\n      placeholder='Search...'\n      headlessId='visual-autocomplete'\n      entityPreviewsDebouncingTime={100}\n      verticalKeyToLabel={verticalKey => universalResultsConfig[verticalKey]?.label ?? verticalKey}\n      renderEntityPreviews={isLoading => (\n        <div className={isLoading ? 'opacity-50' : ''}>\n          <EntityPreviews verticalKey='events'>\n            {results => (\n              <div className='flex ml-4 mt-1'>\n                {results.map((r, index) => <EventCard result={r} key={`${index}-${r.name}`} />)}\n              </div>\n            )}\n          </EntityPreviews>\n          <EntityPreviews verticalKey='faqs' limit={2}>\n            {results => (\n              <div className='flex flex-col'>\n                {results.map((r, index) => <FaqCard result={r} key={`${index}-${r.name}`} />)}\n              </div>\n            )}\n          </EntityPreviews>\n        </div>\n      )}\n    />\n  )\n}\n\ninterface CardProps {\n  result: Result\n}\n\ninterface FaqData {\n  question?: string,\n  answer?: string\n}\n\nfunction FaqCard({ result }: CardProps) {\n  const faqData: FaqData = result.rawData;\n  return (<div key={faqData.question}>\n    <div className='h-px bg-gray-200 mt-1 mb-3 mx-2.5'></div>\n    <div tabIndex={0} className='flex flex-col mx-4 mb-3 rounded-md'>\n      <div className='text-gray-900 text-lg font-medium pb-1'>{faqData.question}</div>\n      <div>{faqData.answer}</div>\n    </div>\n  </div>)\n}\n\ninterface EventData {\n  venueName?: string\n}\n\nfunction EventCard({ result }: CardProps) {\n  const eventData: EventData = result.rawData;\n  const venueName = eventData.venueName;\n  return (\n    <div tabIndex={0} className='flex flex-col mb-3 mr-4 border rounded-md p-3 text-lg'>\n      <div className='font-medium pb-1'>{result.name}</div>\n      <div className='text-base'>{venueName}</div>\n    </div>\n  )\n}","const Header = () =>{\nreturn(\n<div className=\"centered-container\">\n      <nav className=\"flex items-center justify-between\">\n        <div className=\"pl-40\">\n          <img\n            src=\"https://communityfibre.co.uk/_next/static/images/logoDesktop-9bf97008bd5975f83100ccfb417dfa14.svg\"\n            width=\"full\"\n            height=\"50\"></img> </div>\n        <ul className=\"submenu flex  justify-center gap-x-10 text-2xl font-normal\">\n            <li><a href=\"https://communityfibre.co.uk/\">Broadband</a></li>\n            <li><a href=\"https://communityfibre.co.uk/tv\">TV</a></li>\n            <li><a href=\"https://communityfibre.co.uk/landline\">Calls</a></li>\n            <li><a href=\"https://communityfibre.co.uk/deals\">Deals</a></li>\n            <li><a href=\"https://communityfibre.co.uk/why-choose-community-fibre\">Why choose us</a></li>\n        </ul>\n       \n        <div className=\"mr-80\">\n          <a href=\"https://communityfibre.co.uk/#postcode-search-modal\" >Get Started</a>\n        </div>\n      </nav>\n    </div>\n    );\n}\n\nexport default Header;","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgX(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.9095 9.00028L16.6786 3.2311L17.8684 2.04138C18.0439 1.86587 18.0439 1.58067 17.8684 1.40517L16.5954 0.132192C16.4199 -0.0433137 16.1347 -0.0433137 15.9592 0.132192L9.00028 7.0911L2.04138 0.131629C1.86587 -0.0438764 1.58067 -0.0438764 1.40517 0.131629L0.131629 1.40461C-0.0438764 1.58011 -0.0438764 1.86531 0.131629 2.04081L7.0911 9.00028L0.131629 15.9592C-0.0438764 16.1347 -0.0438764 16.4199 0.131629 16.5954L1.40461 17.8684C1.58011 18.0439 1.86531 18.0439 2.04081 17.8684L9.00028 10.9095L14.7695 16.6786L15.9592 17.8684C16.1347 18.0439 16.4199 18.0439 16.5954 17.8684L17.8684 16.5954C18.0439 16.4199 18.0439 16.1347 17.8684 15.9592L10.9095 9.00028Z\",\n    fill: \"#6b7280\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgX);\nexport default __webpack_public_path__ + \"static/media/x.15512037.svg\";\nexport { ForwardRef as ReactComponent };","import Navigation from '../components/Navigation';\nimport { SearchTypeEnum, useAnswersState } from '@yext/answers-headless-react';\nimport { universalResultsConfig } from '../config/universalResultsConfig';\nimport { LayoutComponent } from '../PageRouter';\nimport SearchBar from '../components/SearchBar';\nimport SampleVisualSearchBar from '../components/VisualAutocomplete/SampleVisualSearchBar';\nimport Header from '../components/Header';\n\nconst navLinks = [\n  {\n    to: '/',\n    label: 'All'\n  },\n  ...Object.entries(universalResultsConfig).map(([verticalKey, config]) => ({\n    to: verticalKey,\n    label: config.label || verticalKey\n  }))\n]\n\n/**\n * A LayoutComponent that provides a SearchBar and Navigation tabs to a given page.\n */\nconst StandardLayout: LayoutComponent = ({ page }) => {\n  const isVertical = useAnswersState(s => s.meta.searchType) === SearchTypeEnum.Vertical;\n  return (\n    <>\n    <Header/>\n      {isVertical\n        ? <SearchBar\n          placeholder='Search...'\n        />\n        : <SampleVisualSearchBar />\n      }\n      <Navigation links={navLinks} />\n      {page}\n    </>\n  )\n}\nexport default StandardLayout;","import { VerticalResultsDisplay } from \"../components/VerticalResults\";\nimport { SectionComponent, SectionConfig } from \"../models/sectionComponent\";\nimport { StandardCard } from \"../components/cards/StandardCard\";\nimport { CompositionMethod, useComposedCssClasses } from \"../hooks/useComposedCssClasses\";\n\ninterface StandardSectionCssClasses {\n  section?: string\n}\n\nconst builtInCssClasses: StandardSectionCssClasses = {\n  section: ''\n}\n\ninterface StandardSectionConfig extends SectionConfig {\n  customCssClasses?: StandardSectionCssClasses,\n  compositionmethod?: CompositionMethod\n}\n\nconst StandardSection: SectionComponent = function (props: StandardSectionConfig): JSX.Element | null {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, props.customCssClasses, props.compositionmethod )\n  const { results,  cardConfig, header } = props;\n  \n  if (results.length === 0) {\n    return null;\n  }\n  const cardComponent = cardConfig?.CardComponent || StandardCard;\n  \n  return (\n    <section className={cssClasses.section}>\n      {header}\n      <VerticalResultsDisplay\n        results={results}\n        CardComponent={cardComponent}\n        {...(cardConfig && { cardConfig })}\n      />\n    </section>\n  );\n}\nexport default StandardSection;","import { NearFilterValue, CombinedFilter, Filter } from '@yext/answers-headless-react';\n\n/**\n * Check if the object follows NearFilterValue interface\n */\nexport function isNearFilterValue(obj: any): obj is NearFilterValue {\n  return typeof obj === 'object' && 'radius' in obj && 'lat' in obj && 'long' in obj;\n}\n\n/**\n * Get a filter's display value or label in string format\n */\nexport function getFilterDisplayValue(filter: Filter): string {\n  const value = filter.value;\n  if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n    return value.toString();\n  }\n  if (isNearFilterValue(value)) {\n    return `within ${value.radius}m radius`;\n  }\n  throw Error('unrecognized filter value type');\n}\n\n\n/**\n * Check if the object follows CombinedFilter interface\n */\nexport function isCombinedFilter(obj: Filter | CombinedFilter): obj is CombinedFilter {\n  return 'filters' in obj && 'combinator' in obj;\n}\n\n/**\n * Flatten the given filter, such as if the given filter is of type CombinedFilter \n * with possible nested layers of Filter objects, into a 1-dimension array of Filter objects\n */\nexport function flattenFilters(filter: Filter | CombinedFilter | null | undefined): Array<Filter> {\n  let filters: Array<Filter> = [];\n  if(!filter) {\n    return filters;\n  }\n  if(isCombinedFilter(filter)) {\n    filter.filters.forEach(fltr => filters = filters.concat(flattenFilters(fltr)));\n  } else {\n    filters.push(filter);\n  }\n  return filters;\n}\n\n/**\n * Returns true if the two given filters are the same\n */\nexport function isDuplicateFilter(thisFilter: Filter, otherFilter: Filter): boolean {\n  if (thisFilter.fieldId !== otherFilter.fieldId) {\n    return false;\n  }\n  if (thisFilter.matcher !== otherFilter.matcher) {\n    return false;\n  }\n  if (thisFilter.value !== otherFilter.value) {\n    return false;\n  }\n  return true;\n}\n","import { AppliedQueryFilter, FiltersState } from \"@yext/answers-headless-react\";\nimport { DisplayableFilter } from \"../models/displayableFilter\";\nimport { GroupedFilters } from \"../models/groupedFilters\";\nimport { mapArrayToObject } from \"./arrayutils\";\nimport { isDuplicateFilter } from './filterutils';\nimport { \n  getDisplayableStaticFilters,\n  getDisplayableAppliedFacets,\n  getDisplayableNlpFilters\n} from \"./displayablefilterutils\";\n\n/**\n * Returns a new list of nlp filters with duplicates of other filters and \n * filter listed in hiddenFields removed from the given nlp filter list.\n */\nfunction pruneNlpFilters (\n  nlpFilters: DisplayableFilter[], \n  appliedFilters: DisplayableFilter[], \n  hiddenFields: string[]\n): DisplayableFilter[] {\n  const duplicatesRemoved = nlpFilters.filter(nlpFilter => {\n    const isDuplicate = appliedFilters.find(appliedFilter =>\n      isDuplicateFilter(nlpFilter.filter, appliedFilter.filter)\n    );\n    return !isDuplicate;\n  });\n  return pruneAppliedFilters(duplicatesRemoved, hiddenFields);\n}\n\n/**\n * Returns a new list of applied filters with filter on hiddenFields removed \n * from the given applied filter list.\n */\nfunction pruneAppliedFilters(\n  appliedFilters: DisplayableFilter[], hiddenFields: string[]): DisplayableFilter[] {\n  return appliedFilters.filter(appliedFilter => {\n    return !hiddenFields.includes(appliedFilter.filter.fieldId);\n  });\n}\n\n/**\n * Combine all of the applied filters into a list of GroupedFilters where each contains a label and \n * list of filters under that same label or category.\n */\nfunction createGroupedFilters(\n  appliedFilters: DisplayableFilter[],\n  nlpFilters: DisplayableFilter[]\n): Array<GroupedFilters> {\n  const getGroupLabel = (filter: DisplayableFilter) => filter.groupLabel;\n  const allFilters = [...appliedFilters, ...nlpFilters];\n  const groupedFilters: Record<string, DisplayableFilter[]> = mapArrayToObject(allFilters, getGroupLabel);\n  return Object.keys(groupedFilters).map(label => ({\n    label: label,\n    filters: groupedFilters[label]\n  }));\n}\n\n/**\n * Process all applied filter types (facets, static filters, and nlp filters) by removing \n * duplicates and specified hidden fields, and grouped the applied filters into categories.\n */\nexport function getGroupedAppliedFilters(\n  appliedFiltersState: FiltersState,\n  nlpFilters: AppliedQueryFilter[],\n  hiddenFields: string[],\n  staticFiltersGroupLabels: Record<string, string>\n): Array<GroupedFilters>  {\n  const displayableStaticFilters = getDisplayableStaticFilters(appliedFiltersState?.static, staticFiltersGroupLabels);\n  const displayableFacets = getDisplayableAppliedFacets(appliedFiltersState?.facets);\n  const displayableNlpFilters = getDisplayableNlpFilters(nlpFilters);\n  \n  const appliedFilters = [...displayableStaticFilters, ...displayableFacets];\n  const prunedAppliedFilters = pruneAppliedFilters(appliedFilters, hiddenFields);\n  const prunedNlpFilters = pruneNlpFilters (displayableNlpFilters, prunedAppliedFilters, hiddenFields);\n\n  return createGroupedFilters(appliedFilters, prunedNlpFilters);\n}","import { AppliedQueryFilter, DisplayableFacet, SelectableFilter } from '@yext/answers-headless-react';\nimport { DisplayableFilter } from '../models/displayableFilter';\nimport { getFilterDisplayValue } from './filterutils';\n\n/**\n * Convert a list of facets to DisplayableFilter format with only selected facets returned.\n */\nexport function getDisplayableAppliedFacets(facets: DisplayableFacet[] | undefined): DisplayableFilter[] {\n  let appliedFacets: DisplayableFilter[] = [];\n  facets?.forEach(facet => {\n    facet.options.forEach(option => {\n      if(option.selected) {\n        appliedFacets.push({\n          filterType: 'FACET',\n          filter: {\n            fieldId: facet.fieldId,\n            matcher: option.matcher,\n            value: option.value\n          },\n          groupLabel: facet.displayName,\n          label: option.displayName\n        });\n      }\n    });\n  });\n  return appliedFacets;\n}\n\n/**\n * Convert an array of Selectablefilter to DisplayableFilter format with only selected filters returned.\n */\nexport function getDisplayableStaticFilters(\n  staticFilters: SelectableFilter[] | undefined,\n  groupLabels: Record<string, string>\n): DisplayableFilter[] {\n  let appliedStaticFilters: DisplayableFilter[] = [];\n  staticFilters && staticFilters.forEach(selectableFilter => {\n    const { selected, ...filter } = selectableFilter;\n    if (selected) {\n      appliedStaticFilters.push({\n        filterType: 'STATIC_FILTER',\n        filter: filter,\n        groupLabel: groupLabels?.[filter.fieldId] || filter.fieldId,\n        label: getFilterDisplayValue(filter)\n      });\n    }\n  });\n  return appliedStaticFilters;\n}\n\n/**\n * Convert a list of nlp filters to DisplayableFilter format.\n */\nexport function getDisplayableNlpFilters(filters: AppliedQueryFilter[]): DisplayableFilter[] {\n  let appliedNlpFilters: DisplayableFilter[] = [];\n  filters?.forEach(filter => {\n    appliedNlpFilters.push({\n      filterType: 'NLP_FILTER',\n      filter: filter.filter,\n      groupLabel: filter.displayKey,\n      label: filter.displayValue,\n    });\n  });\n  return appliedNlpFilters;\n}","/**\n * Reduces an array into an object consisting of groups. The keys of the object indicate the groups\n * and the values hold an array of elements which are in that group. Mapping functions can be specified\n * which determine the key and the value for the element. An initial object may be optionally specified.\n * \n * @param {Array<any>} arr array to be grouped\n * @param {Function} keyMap Mapping function that evaluates what key to give an array element.\n * @param {Function} valueMap Mapping function that evaluates what value to give an array element.\n * @param {Object} intitial the initial object to add to, defaulting to {}\n * @returns {Object}\n */\nexport function mapArrayToObject (\n  arr: Array<any>, \n  keyMap: Function = (key: any) => key,\n  valueMap: Function = (value: any) => value,\n  initial: Object = {}\n) {\n  return arr.reduce((groups, element, idx) => {\n    const key = keyMap(element, idx);\n    const value = valueMap(element, idx);\n    if (!groups[key]) {\n      groups[key] = [value];\n    } else {\n      groups[key].push(value);\n    }\n    return groups;\n  }, initial);\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgMap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 21 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 3.13648V15.3118C0 15.7098 0.416719 15.9819 0.799896 15.8342L5.83333 13.625V0.125L0.733542 2.09199C0.517044 2.17549 0.331454 2.31962 0.200707 2.50579C0.0699594 2.69197 5.18513e-05 2.91164 0 3.13648H0ZM7 13.625L14 15.875V2.375L7 0.125V13.625ZM20.2001 0.165781L15.1667 2.375V15.875L20.2665 13.908C20.483 13.8245 20.6686 13.6804 20.7994 13.4942C20.9301 13.3081 21 13.0884 21 12.8635V0.688203C21 0.290234 20.5833 0.018125 20.2001 0.165781Z\",\n    fill: \"#F1C553\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMap);\nexport default __webpack_public_path__ + \"static/media/map.5c8c89ac.svg\";\nexport { ForwardRef as ReactComponent };","import { DisplayableFilter } from '../models/displayableFilter';\nimport { ReactComponent as CloseX } from '../icons/x.svg';\nimport { useAnswersActions, AppliedQueryFilter, useAnswersState, FiltersState } from '@yext/answers-headless-react'\nimport { isNearFilterValue } from '../utils/filterutils';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\nimport { GroupedFilters } from '../models/groupedFilters';\nimport { getGroupedAppliedFilters } from '../utils/appliedfilterutils';\nimport { useRef } from 'react';\nimport classNames from 'classnames';\n\nexport interface AppliedFiltersCssClasses {\n  appliedFiltersContainer?: string,\n  appliedFiltersContainer___loading?: string,\n  nlpFilter?: string,\n  removableFilter?: string,\n  removeFilterButton?: string,\n  filterLabel?: string\n}\n\nconst builtInCssClasses: AppliedFiltersCssClasses = {\n  // Use negative margin to remove space above the filters on mobile\n  appliedFiltersContainer: 'flex flex-wrap -mt-3 md:mt-0',\n  appliedFiltersContainer___loading: 'opacity-50',\n  nlpFilter: 'border rounded-3xl px-3 py-1.5 text-sm font-medium italic text-gray-800 mr-2 mb-4',\n  removableFilter: 'flex items-center border rounded-3xl px-3 py-1.5 text-sm font-medium text-gray-900 mr-2 mb-4',\n  removeFilterButton: 'w-2 h-2 text-gray-500 m-1.5'\n}\n\ninterface AppliedFiltersDisplayProps {\n  showFieldNames?: boolean,\n  labelText?: string,\n  delimiter?: string,\n  displayableFilters: DisplayableFilter[],\n  cssClasses?: AppliedFiltersCssClasses\n}\n\nexport interface AppliedFiltersProps {\n  hiddenFields?: Array<string>,\n  labelText?: string,\n  /**\n   * A mapping of static filter fieldIds to their displayed group labels.\n   */\n  staticFiltersGroupLabels?: Record<string, string>,\n  appliedQueryFilters?: AppliedQueryFilter[],\n  customCssClasses?: AppliedFiltersCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport default function AppliedFilters (\n  props : AppliedFiltersProps\n): JSX.Element {\n  const nlpFilters = useAnswersState(state => state.vertical.appliedQueryFilters) || [];\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading);\n  const verticalResults = useAnswersState(state => state.vertical.results);\n  const filters = useAnswersState(state => state.filters);\n\n  const filterState = useRef<FiltersState>({});\n  if (!isLoading) {\n    filterState.current = verticalResults ? filters : {};\n  }\n\n  const { hiddenFields = [], staticFiltersGroupLabels = {}, customCssClasses = {}, cssCompositionMethod, ...otherProps } = props;\n  const groupedFilters: Array<GroupedFilters> = getGroupedAppliedFilters(filterState.current, nlpFilters, hiddenFields, staticFiltersGroupLabels);\n  const appliedFilters = groupedFilters.flatMap(groupedFilters => groupedFilters.filters);\n\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  cssClasses.appliedFiltersContainer = classNames(cssClasses.appliedFiltersContainer, {\n    [cssClasses.appliedFiltersContainer___loading ?? '']: isLoading\n  });\n  return <AppliedFiltersDisplay displayableFilters={appliedFilters} cssClasses={cssClasses} {...otherProps}/>\n};\n\nexport function AppliedFiltersDisplay ({\n  labelText,\n  displayableFilters,\n  cssClasses = {}\n}: AppliedFiltersDisplayProps): JSX.Element {\n\n  function NlpFilter({ filter }: { filter: DisplayableFilter }): JSX.Element {\n    return (\n      <div className={cssClasses.nlpFilter}>\n        <span className={cssClasses.filterLabel}>{filter.label}</span>\n      </div>\n    );\n  }\n  \n  function RemovableFilter({ filter }: { filter: DisplayableFilter }): JSX.Element {\n    const answersAction = useAnswersActions();\n  \n    const onRemoveFacetOption = () => {\n      const { fieldId, matcher, value } = filter.filter;\n      if (isNearFilterValue(value)) {\n        console.error('A Filter with a NearFilterValue is not a supported RemovableFilter.');\n        return;\n      }\n      answersAction.setFacetOption(fieldId, { matcher, value }, false);\n      answersAction.executeVerticalQuery();\n    }\n  \n    const onRemoveStaticFilterOption = () => {\n      answersAction.setFilterOption({ ...filter.filter, selected: false });\n      answersAction.executeVerticalQuery();\n    }\n  \n    const onRemoveFilter = filter.filterType === 'FACET' ? onRemoveFacetOption : onRemoveStaticFilterOption;\n  \n    return (\n      <div className={cssClasses.removableFilter}>\n        <div className={cssClasses.filterLabel}>{filter.label}</div>\n        <button className={cssClasses.removeFilterButton} onClick={onRemoveFilter}><CloseX/></button>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      { displayableFilters.length > 0 &&\n        <div className={cssClasses.appliedFiltersContainer} aria-label={labelText}>\n          {displayableFilters.map((filter: DisplayableFilter) => {\n            const key = `${filter.filterType}-${filter.label}`;\n            if (filter.filterType === 'NLP_FILTER') {\n              return <NlpFilter filter={filter} key={key}/>\n            }\n            return <RemovableFilter filter={filter} key={key}/>\n          })}\n        </div>\n      }\n    </>\n  )\n}","var _g, _defs;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgList(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 18 18\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_266_313)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.8125 12.9375H0.5625C0.413316 12.9375 0.270242 12.9968 0.164752 13.1023C0.0592632 13.2077 0 13.3508 0 13.5L0 15.75C0 15.8992 0.0592632 16.0423 0.164752 16.1477C0.270242 16.2532 0.413316 16.3125 0.5625 16.3125H2.8125C2.96168 16.3125 3.10476 16.2532 3.21025 16.1477C3.31574 16.0423 3.375 15.8992 3.375 15.75V13.5C3.375 13.3508 3.31574 13.2077 3.21025 13.1023C3.10476 12.9968 2.96168 12.9375 2.8125 12.9375ZM2.8125 1.6875H0.5625C0.413316 1.6875 0.270242 1.74676 0.164752 1.85225C0.0592632 1.95774 0 2.10082 0 2.25L0 4.5C0 4.64918 0.0592632 4.79226 0.164752 4.89775C0.270242 5.00324 0.413316 5.0625 0.5625 5.0625H2.8125C2.96168 5.0625 3.10476 5.00324 3.21025 4.89775C3.31574 4.79226 3.375 4.64918 3.375 4.5V2.25C3.375 2.10082 3.31574 1.95774 3.21025 1.85225C3.10476 1.74676 2.96168 1.6875 2.8125 1.6875ZM2.8125 7.3125H0.5625C0.413316 7.3125 0.270242 7.37176 0.164752 7.47725C0.0592632 7.58274 0 7.72582 0 7.875L0 10.125C0 10.2742 0.0592632 10.4173 0.164752 10.5227C0.270242 10.6282 0.413316 10.6875 0.5625 10.6875H2.8125C2.96168 10.6875 3.10476 10.6282 3.21025 10.5227C3.31574 10.4173 3.375 10.2742 3.375 10.125V7.875C3.375 7.72582 3.31574 7.58274 3.21025 7.47725C3.10476 7.37176 2.96168 7.3125 2.8125 7.3125ZM17.4375 13.5H6.1875C6.03832 13.5 5.89524 13.5593 5.78975 13.6648C5.68426 13.7702 5.625 13.9133 5.625 14.0625V15.1875C5.625 15.3367 5.68426 15.4798 5.78975 15.5852C5.89524 15.6907 6.03832 15.75 6.1875 15.75H17.4375C17.5867 15.75 17.7298 15.6907 17.8352 15.5852C17.9407 15.4798 18 15.3367 18 15.1875V14.0625C18 13.9133 17.9407 13.7702 17.8352 13.6648C17.7298 13.5593 17.5867 13.5 17.4375 13.5ZM17.4375 2.25H6.1875C6.03832 2.25 5.89524 2.30926 5.78975 2.41475C5.68426 2.52024 5.625 2.66332 5.625 2.8125V3.9375C5.625 4.08668 5.68426 4.22976 5.78975 4.33525C5.89524 4.44074 6.03832 4.5 6.1875 4.5H17.4375C17.5867 4.5 17.7298 4.44074 17.8352 4.33525C17.9407 4.22976 18 4.08668 18 3.9375V2.8125C18 2.66332 17.9407 2.52024 17.8352 2.41475C17.7298 2.30926 17.5867 2.25 17.4375 2.25ZM17.4375 7.875H6.1875C6.03832 7.875 5.89524 7.93426 5.78975 8.03975C5.68426 8.14524 5.625 8.28832 5.625 8.4375V9.5625C5.625 9.71168 5.68426 9.85476 5.78975 9.96025C5.89524 10.0657 6.03832 10.125 6.1875 10.125H17.4375C17.5867 10.125 17.7298 10.0657 17.8352 9.96025C17.9407 9.85476 18 9.71168 18 9.5625V8.4375C18 8.28832 17.9407 8.14524 17.8352 8.03975C17.7298 7.93426 17.5867 7.875 17.4375 7.875Z\",\n    fill: \"#F1C553\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_266_313\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 18,\n    height: 18,\n    fill: \"white\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgList);\nexport default __webpack_public_path__ + \"static/media/list.658c03bc.svg\";\nexport { ForwardRef as ReactComponent };","import { useContext } from 'react';\nimport { LocationContext } from './LocationContext';\nimport { LocationActionTypes } from './locationReducers';\nimport { ReactComponent as MapIcon } from '../icons/map.svg';\nimport { ReactComponent as ListIcon } from '../icons/list.svg';\n\nexport default function MapToggleButton() {\n  const { state, dispatch } = useContext(LocationContext);\n\n  return (\n    <div\n      className=\"ml-auto flex justify-center space-x-3  font-heading text-base text-gold hover:underline\"\n      onClick={() => dispatch({ type: LocationActionTypes.ToggleMap, payload: { toggleMap: !state.showMap } })}>\n      {state.showMap ? <ListIcon /> : <MapIcon />}\n      <div>{state.showMap ? 'SHOW LIST' : 'SHOW MAP'}</div>\n    </div>\n  );\n}\n","import { Link } from 'react-router-dom';\nimport { AppliedFiltersDisplay, AppliedFiltersProps } from '../components/AppliedFilters';\nimport { ResultsCountConfig } from '../components/ResultsCount';\nimport { useComposedCssClasses, CompositionMethod } from '../hooks/useComposedCssClasses';\nimport { useAnswersState } from '@yext/answers-headless-react';\nimport { DisplayableFilter } from '../models/displayableFilter';\nimport { ResponsiveContext } from '../App';\nimport { useContext } from 'react';\nimport { LocationContext } from '../components/LocationContext';\nimport { LocationActionTypes } from '../components/locationReducers';\nimport MapToggleButton from '../components/MapToggleButton';\n\n//prettier-ignore\ninterface SectionHeaderCssClasses {\n  sectionHeaderContainer?: string,\n  sectionHeaderIconContainer?: string,\n  sectionHeaderLabel?: string,\n  viewMoreContainer?: string,\n  viewMoreLink?: string,\n  appliedFiltersContainer?: string\n}\n\n// TODO: change back to default classes and pass in custom\nconst builtInCssClasses: SectionHeaderCssClasses = {\n  sectionHeaderContainer: 'flex items-center w-full pl-1 mb-4',\n  sectionHeaderIconContainer: 'w-5 h-5',\n  sectionHeaderLabel: 'font-bold font-body text-3xl ',\n  viewMoreContainer: 'flex justify-end flex-grow ml-auto font-medium text-gray-800',\n  viewMoreLink: 'text-cforange pr-1 pl-3',\n  appliedFiltersContainer: 'ml-3',\n};\n\n// prettier-ignore\ninterface SectionHeaderConfig {\n  label: string,\n  resultsCountConfig?: ResultsCountConfig,\n  appliedFiltersConfig?: AppliedFiltersProps,\n  customCssClasses?: SectionHeaderCssClasses,\n  cssCompositionMethod?: CompositionMethod,\n  verticalKey: string,\n  viewAllButton?: boolean,\n  viewMapButton?: boolean\n}\n\n// TODO: Create Locations Header\nexport default function SectionHeader(props: SectionHeaderConfig): JSX.Element {\n  const {\n    label,\n    verticalKey,\n    viewAllButton = false,\n    viewMapButton = false,\n    appliedFiltersConfig,\n    customCssClasses,\n    cssCompositionMethod,\n  } = props;\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  const latestQuery = useAnswersState((state) => state.query.mostRecentSearch);\n  const screenSize = useContext(ResponsiveContext);\n  const displayableFilters =\n    appliedFiltersConfig?.appliedQueryFilters?.map((appliedQueryFilter): DisplayableFilter => {\n      return {\n        filterType: 'NLP_FILTER',\n        filter: appliedQueryFilter.filter,\n        groupLabel: appliedQueryFilter.displayKey,\n        label: appliedQueryFilter.displayValue,\n      };\n    }) ?? [];\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const { state, dispatch } = useContext(LocationContext);\n\n  return (\n    <div className={cssClasses.sectionHeaderContainer}>\n      {/* <div className={cssClasses.sectionHeaderIconContainer}> \n        <CollectionIcon></CollectionIcon>\n      </div> */}\n      <h2 className={cssClasses.sectionHeaderLabel}>{label}</h2>\n      {/* TODO (cea2aj): Add support for ResultsCountDisplay once we get the mocks from UX\n        {resultsCountConfig &&\n           <ResultsCountDisplay resultsLength={resultsCountConfig.resultsLength} resultsCount={resultsCountConfig.resultsCount} />} */}\n      {appliedFiltersConfig && (\n        <div className={cssClasses.appliedFiltersContainer}>\n          <AppliedFiltersDisplay displayableFilters={displayableFilters} />\n        </div>\n      )}\n      {/* TODO: clean up logic */}\n      {viewAllButton && screenSize !== 'sm' && (!viewMapButton || (viewMapButton && screenSize === 'xl')) && (\n        <div className={cssClasses.viewMoreContainer}>\n          <Link className={cssClasses.viewMoreLink} to={`/${verticalKey}?query=${latestQuery}`}>\n            View all\n          </Link>\n        </div>\n      )}\n      {viewMapButton && screenSize !== 'xl' && <MapToggleButton />}\n    </div>\n  );\n}\n","import { useAnswersState, VerticalResults } from '@yext/answers-headless-react';\nimport StandardSection from '../sections/StandardSection';\nimport { AppliedFiltersProps } from '../components/AppliedFilters';\nimport SectionHeader from '../sections/SectionHeader';\nimport { SectionComponent } from '../models/sectionComponent';\nimport { CardConfig } from '../models/cardComponent';\nimport { useComposedCssClasses, CompositionMethod } from '../hooks/useComposedCssClasses';\nimport classNames from 'classnames';\n\n//prettier-ignore\ninterface UniversalResultsCssClasses {\n  container?: string,\n  results___loading?: string\n}\n\nconst builtInCssClasses: UniversalResultsCssClasses = {\n  container: 'space-y-8 mt-6',\n  results___loading: 'opacity-50',\n};\n\n//prettier-ignore\nexport interface VerticalConfig {\n  SectionComponent?: SectionComponent,\n  cardConfig?: CardConfig,\n  label?: string,\n  viewAllButton?: boolean,\n  viewMapButton?: boolean\n}\n\n//prettier-ignore\ninterface AppliedFiltersConfig extends Omit<AppliedFiltersProps, 'appliedQueryFilters'> {\n  show: boolean\n}\n\n//prettier-ignore\ninterface UniversalResultsProps {\n  appliedFiltersConfig?: AppliedFiltersConfig,\n  verticalConfigs: Record<string, VerticalConfig>,\n  customCssClasses?: UniversalResultsCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\n/**\n * A component that displays all the vertical results of a universal search.\n */\nexport default function UniversalResults({\n  verticalConfigs,\n  appliedFiltersConfig,\n  customCssClasses,\n  cssCompositionMethod,\n}: UniversalResultsProps): JSX.Element | null {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  const resultsFromAllVerticals = useAnswersState((state) => state?.universal?.verticals) || [];\n  const isLoading = useAnswersState((state) => state.searchStatus.isLoading);\n\n  if (resultsFromAllVerticals.length === 0) {\n    return null;\n  }\n\n  const resultsClassNames = cssClasses.results___loading\n    ? classNames(cssClasses.container, { [cssClasses.results___loading]: isLoading })\n    : cssClasses.container;\n\n  return (\n    <div className={resultsClassNames}>\n      {renderVerticalSections({ resultsFromAllVerticals, appliedFiltersConfig, verticalConfigs })}\n    </div>\n  );\n}\n\n//prettier-ignore\ninterface VerticalSectionsProps extends UniversalResultsProps {\n  resultsFromAllVerticals: VerticalResults[]\n}\n\n/**\n * Renders a list of SectionComponent based on the given list of vertical results and corresponding configs,\n * including specifing what section template to use.\n */\nfunction renderVerticalSections(props: VerticalSectionsProps): JSX.Element {\n  const { resultsFromAllVerticals, verticalConfigs } = props;\n  return (\n    <>\n      {resultsFromAllVerticals\n        .filter((verticalResults) => verticalResults.results)\n        .map((verticalResults) => {\n          const verticalKey = verticalResults.verticalKey;\n          const verticalConfig = verticalConfigs[verticalKey] || {};\n\n          const label = verticalConfig.label ?? verticalKey;\n          const results = verticalResults.results;\n\n          const SectionComponent = verticalConfig.SectionComponent || StandardSection;\n\n          const { show, ...filterconfig } = props.appliedFiltersConfig || {};\n          const appliedFiltersConfig = show\n            ? { ...filterconfig, appliedQueryFilters: verticalResults.appliedQueryFilters }\n            : undefined;\n\n        \n\n          return (\n      \n            <SectionComponent\n              results={results}\n              verticalKey={verticalKey}\n              header={\n                <SectionHeader\n                  {...{\n                    label,\n                    appliedFiltersConfig,\n                    verticalKey,\n                    viewAllButton: verticalConfig.viewAllButton,\n                    viewMapButton: verticalConfig.viewMapButton,\n                  }}\n                />\n              }\n              cardConfig={verticalConfig.cardConfig}\n              key={verticalKey}\n            />\n          );\n        })}\n    </>\n  );\n}\n","import { useAnswersState, DirectAnswerType, DirectAnswer as DirectAnswerModel } from '@yext/answers-headless-react';\nimport renderHighlightedValue from './utils/renderHighlightedValue';\nimport classNames from 'classnames';\nimport { ReactNode } from 'react';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\n\ninterface DirectAnswerProps {\n  customCssClasses?: DirectAnswerCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\ninterface DirectAnswerCssClasses {\n  container?: string,\n  container___loading?: string,\n  fieldValueTitle?: string,\n  featuredSnippetTitle?: string,\n  content?: string,\n  fieldValueDescription?: string,\n  featuredSnippetDescription?: string,\n  viewDetailsLink?: string,\n  viewDetailsLinkContainer?: string,\n  highlighted?: string\n}\n\nconst builtInCssClasses: DirectAnswerCssClasses = {\n  container: 'p-4 border rounded-lg shadow-sm',\n  container___loading: 'opacity-50',\n  fieldValueTitle: 'mb-4 text-gray-500',\n  featuredSnippetTitle: 'mb-4 font-bold text-xl text-gray-800',\n  content: '',\n  fieldValueDescription: 'font-bold text-xl text-gray-800',\n  featuredSnippetDescription: '',\n  viewDetailsLink: 'text-blue-600',\n  viewDetailsLinkContainer: 'pt-4 text-gray-500',\n  highlighted: 'bg-blue-100'\n};\n\nexport default function DirectAnswer(props: DirectAnswerProps): JSX.Element | null {\n  const directAnswerResult = useAnswersState(state => state.directAnswer.result);\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading || false);\n  const composedCssClasses = useComposedCssClasses(builtInCssClasses, props.customCssClasses, props.cssCompositionMethod);\n  if (!directAnswerResult) {\n    return null;\n  }\n  const cssClasses = getCssClassesForAnswerType(composedCssClasses, directAnswerResult.type);\n  \n  const title = directAnswerResult.type === DirectAnswerType.FeaturedSnippet\n    ? directAnswerResult.value\n    : `${directAnswerResult.entityName} / ${directAnswerResult.fieldName}`\n  const description: ReactNode = directAnswerResult.type === DirectAnswerType.FeaturedSnippet \n    ? renderHighlightedValue(directAnswerResult.snippet, { highlighted: cssClasses.highlighted })\n    : directAnswerResult.value;\n  const link = directAnswerResult.relatedResult.link;\n\n  function getLinkText(directAnswerResult: DirectAnswerModel) {\n    const isSnippet = directAnswerResult.type === DirectAnswerType.FeaturedSnippet;\n    const name = directAnswerResult.relatedResult.name;\n\n    return <>\n      {isSnippet && name && <div className={cssClasses.viewDetailsLinkContainer}>\n        Read more about <a className={cssClasses.viewDetailsLink} href={link}>\n          {directAnswerResult.relatedResult.name}\n        </a>\n      </div>}\n      {!isSnippet && link && <div className={cssClasses.viewDetailsLinkContainer}>\n        <a href={link} className={cssClasses.viewDetailsLink}>View Details</a>\n      </div>}\n    </>\n  }\n\n  const containerCssClasses = classNames(cssClasses.container, {\n    [cssClasses.container___loading ?? '']: isLoading\n  });\n\n  return (\n    <div className={containerCssClasses}>\n      {title &&\n        <div className={cssClasses.title}>{title}</div>}\n      <div className={cssClasses.content}>\n        <div className={cssClasses.description}>{description}</div>\n        {link && getLinkText(directAnswerResult)}\n      </div>\n    </div>\n  )\n}\n\nfunction getCssClassesForAnswerType(cssClasses: DirectAnswerCssClasses, type: DirectAnswerType) {\n  const isSnippet = type === DirectAnswerType.FeaturedSnippet;\n  return {\n    ...cssClasses,\n    title: isSnippet ? cssClasses.featuredSnippetTitle : cssClasses.fieldValueTitle,\n    description: isSnippet ? cssClasses.featuredSnippetDescription : cssClasses.fieldValueDescription\n  }\n}","import { useAnswersState, useAnswersActions, SearchTypeEnum } from '@yext/answers-headless-react'\nimport classNames from 'classnames';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\n\ninterface SpellCheckCssClasses {\n  container?: string,\n  helpText?: string,\n  spellCheck___loading?: string,\n  link?: string\n}\n\nconst builtInCssClasses: SpellCheckCssClasses = {\n  container: 'text-lg pb-3',\n  helpText: 'text-gray-600',\n  spellCheck___loading: 'opacity-50',\n  link: 'text-blue-600 font-bold cursor-pointer hover:underline focus:underline'\n}\n\ninterface Props {\n  customCssClasses?: SpellCheckCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport default function SpellCheck ({ customCssClasses, cssCompositionMethod }: Props): JSX.Element | null {\n  const isVertical = useAnswersState(s => s.meta.searchType) === SearchTypeEnum.Vertical;\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  const correctedQuery = useAnswersState(state => state.spellCheck.correctedQuery);\n  const isLoading = useAnswersState(state => state.searchStatus.isLoading);\n  const containerClassNames = classNames(cssClasses.container, {\n    [cssClasses.spellCheck___loading ?? '']: isLoading\n  });\n  const answersActions = useAnswersActions();\n  if (!correctedQuery) {\n    return null;\n  }\n  return (\n    <div className={containerClassNames}>\n      <span className={cssClasses.helpText}>Did you mean </span>\n      <button className={cssClasses.link} onClick={() => {\n        answersActions.setQuery(correctedQuery);\n        isVertical\n          ? answersActions.executeVerticalQuery()\n          : answersActions.executeUniversalQuery();\n      }}>{correctedQuery}</button>\n    </div>\n  );\n}","import { useLayoutEffect } from \"react\";\nimport { useAnswersActions, SearchIntent } from \"@yext/answers-headless-react\";\nimport { executeSearch, getSearchIntents, updateLocationIfNeeded } from \"../utils/search-operations\";\n\n/**\n * Sets up the state for a page\n * @param verticalKey - The verticalKey associated with the page, or undefined for universal pages\n */\nexport default function usePageSetupEffect(verticalKey?: string) {\n  const answersActions = useAnswersActions();\n  useLayoutEffect(() => {\n    const stateToClear = {\n      filters: {},\n      universal: {},\n      vertical: {}\n    }\n    answersActions.setState({\n      ...answersActions.state,\n      ...stateToClear\n    });\n    verticalKey\n      ? answersActions.setVertical(verticalKey)\n      : answersActions.setUniversal();\n    const executeQuery = async () => {\n      let searchIntents: SearchIntent[] = [];\n      if (!answersActions.state.location.userLocation) {\n        searchIntents = await getSearchIntents(answersActions, !!verticalKey) || [];\n        await updateLocationIfNeeded(answersActions, searchIntents);\n      }\n      executeSearch(answersActions, !!verticalKey);\n    };\n    executeQuery();\n  }, [answersActions, verticalKey]);\n}","const Footer = () =>{\n    return(\n<footer className=\"text-center lg:text-left bg-gray-100 text-gray-600\">\n        <div className=\"flex justify-center items-center lg:justify-between p-6 border-b border-gray-300\">\n        </div>\n        <div className=\"mx-6 py-10 text-center md:text-left\">\n          <div className=\"grid grid-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n\n\n            <div className=\"\">\n              <h6 className=\"\">Company</h6>\n              <ul className=\"footer-links text-xl mb-4 text-black\">\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/legal-stuff\">Legal Stuff</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/jobs\">Careers</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/press\">Media Centre</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/community-connect/blog\">Community Connect Blog</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.zendesk.com/hc/en-gb/requests/new\">Contact Us</a></li>\n              </ul>\n            </div>\n\n\n            <div className=\"\">\n              <h6 className=\"\">Useful links</h6>\n              <ul className=\"footer-links text-xl mb-4 text-black\">\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/covid-19-faqs\">COVID-19</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/site-map\">Site Map</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/student-discount\">Student Discount</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/refer-a-friend\">Refer a Friend</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.co.uk/existing-customers\">Existing Customers</a></li>\n               <li className=\"text-black text-2xl ml-4\"><a href=\"https://communityfibre.zendesk.com/hc/en-gb\">FAQs</a></li>\n              </ul>\n            </div>\n\n\n\n\n            <div className=\"\">\n              <h6 className=\"uppercase font-semibold mb-4 flex justify-center md:justify-start\">\n              Connect\n              </h6>\n              <p className=\"flex justify-right items-right   border-gray-300\">\n\n\n                <a href=\"#\" ><img src=\"https://communityfibre.co.uk/_next/image?url=https%3A%2F%2Fcdn.buttercms.com%2F8JYcEJbtSvS1YPOASYrM&w=1920&q=75\"></img></a>\n\n                <a href=\"#!\" className=\"ml-2 mr-4 text-gray-600\">\n\n                  <img src=\"https://communityfibre.co.uk/_next/image?url=https%3A%2F%2Fcdn.buttercms.com%2FmFQC6pvGSlyZAAB1zkN2&w=1920&q=75\"></img></a>\n\n\n\n                <a href=\"#!\" className=\"ml-2 mr-4 text-gray-600\">\n\n                  <img src=\"https://communityfibre.co.uk/_next/image?url=https%3A%2F%2Fcdn.buttercms.com%2F6rzZHRkToOEbGHVd83z2&w=1920&q=75\"></img></a>\n\n              </p>\n            </div>\n            <div className=\"\">\n              <h6 className=\"uppercase font-semibold mb-4 flex justify-center md:justify-start\">\n                Contact\n              </h6>\n\n              <div className=\"\">\n                <img\n                  src=\"https://communityfibre.co.uk/_next/static/images/logoDesktop-9bf97008bd5975f83100ccfb417dfa14.svg\"\n                  width=\"full\"\n                  height=\"50\" ></img> </div>\n              <br></br>\n              <h5 className=\"text-left\">Community Fibre Ltd</h5>\n              <p className=\"flex items-center justify-center md:justify-start mb-4\">\n                <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"home\"\n                  className=\"w-4 mr-4\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\">\n                  <path fill=\"currentColor\"\n                    d=\"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z\">\n                  </path>\n                </svg>\n                Fox Court, 14 Grays Inn Road, London, WC1X 8HN\n\n              </p>\n              <p className=\"flex items-center justify-center md:justify-start mb-4\">\n                <svg aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"phone\"\n                  className=\"w-4 mr-4\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n                  viewBox=\"0 0 512 512\">\n                  <path fill=\"currentColor\"\n                    d=\"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z\">\n                  </path>\n                </svg>\n                0800 082 0770\n              </p>\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n}\nexport default Footer;","import UniversalResults from '../components/UniversalResults';\nimport DirectAnswer from '../components/DirectAnswer';\nimport { UniversalResultsConfig } from '../config/universalResultsConfig';\nimport SpellCheck from '../components/SpellCheck';\nimport usePageSetupEffect from '../hooks/usePageSetupEffect';\nimport Footer from '../components/Footer';\n\nconst universalResultsFilterConfig = {\n  show: true\n};\n\nexport default function UniversalSearchPage(props: { universalResultsConfig: UniversalResultsConfig}) {\n  const { universalResultsConfig } = props;\n  usePageSetupEffect();\n\n  return (\n    <><div>\n      <SpellCheck />\n      <DirectAnswer />\n      <UniversalResults\n        appliedFiltersConfig={universalResultsFilterConfig}\n        verticalConfigs={universalResultsConfig} />\n    </div><Footer /></>\n    \n  );\n}","import { useAnswersState } from '@yext/answers-headless-react';\nimport classNames from 'classnames';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\n\ninterface ResultsCountCssClasses {\n  container?: string,\n  text?: string,\n  number?: string\n}\n\nconst builtInCssClasses: ResultsCountCssClasses = {\n  container: 'pb-7 md:pb-4',\n  text: 'text-sm text-gray-700',\n  number: 'font-medium'\n}\n\ninterface Props {\n  customCssClasses?: ResultsCountCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport interface ResultsCountConfig {\n  resultsCount?: number,\n  resultsLength?: number,\n  offset?: number,\n  customCssClasses?: ResultsCountCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\n\nexport default function ResultsCount(props: Props) {\n  const resultsCount = useAnswersState(state => state.vertical?.resultsCount) || 0;\n  const resultsLength = useAnswersState(state => state.vertical?.results?.length) || 0;\n  const offset = useAnswersState(state => state.vertical?.offset) || 0;\n  \n  return <ResultsCountDisplay resultsCount={resultsCount} resultsLength={resultsLength} offset={offset} {...props}/>;\n}\n\nexport function ResultsCountDisplay({\n  resultsCount=0,\n  resultsLength=0,\n  offset=0, \n  customCssClasses,\n  cssCompositionMethod\n}: ResultsCountConfig): JSX.Element | null {\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n  if (resultsLength === 0) {\n    return null;\n  }\n\n  const messageArray = [\n    'Showing ',\n    offset + 1,\n    ' to ',\n    offset + resultsLength,\n    ' of ',\n    resultsCount,\n    ' Results'\n  ];\n\n  const spanArray = messageArray.map((value, index) => {\n    const isNumber = typeof value === 'number';\n    \n    const classes = classNames(cssClasses.text, {\n      [cssClasses.number ?? '']: isNumber\n    });\n\n    return <span key={`${index}-${value}`} className={classes}>{value}</span>\n  });\n  \n  return <div className={cssClasses.container}>{spanArray}</div>\n}","import { useAnswersActions, useAnswersState, LocationBiasMethod } from '@yext/answers-headless-react';\nimport { executeSearch, getUserLocation  } from '../utils/search-operations';\nimport { CompositionMethod, useComposedCssClasses } from '../hooks/useComposedCssClasses';\n\ninterface LocationBiasCssClasses {\n  container?: string,\n  location?: string,\n  source?: string,\n  button?: string\n}\n\nconst builtInCssClasses: LocationBiasCssClasses = {\n  container: 'text-sm text-gray-500 text-center m-auto',\n  location: 'font-semibold',\n  button: 'text-blue-600 cursor-pointer hover:underline focus:underline',\n};\n\ninterface Props {\n  geolocationOptions?: PositionOptions,\n  customCssClasses?: LocationBiasCssClasses,\n  cssCompositionMethod?: CompositionMethod\n}\n\nexport default function LocationBias({\n  geolocationOptions,\n  customCssClasses,\n  cssCompositionMethod\n}: Props): JSX.Element | null {\n  const answersActions = useAnswersActions();\n  const isVertical = useAnswersState(s => s.meta.searchType) === 'vertical';\n  const locationBias = useAnswersState(s => s.location.locationBias)\n  const cssClasses = useComposedCssClasses(builtInCssClasses, customCssClasses, cssCompositionMethod);\n\n  if (!locationBias?.displayName) return null;\n\n  const attributionMessage = \n      locationBias?.method === LocationBiasMethod.Ip ? ' (based on your internet address) - '\n        : locationBias?.method === LocationBiasMethod.Device ? ' (based on your device) - '\n          : ' - ';\n\n  async function handleGeolocationClick() {\n    try {\n      const position = await getUserLocation(geolocationOptions);\n      answersActions.setUserLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n      });\n    } catch (e) {\n      console.error(e);\n    }\n    executeSearch(answersActions, isVertical);\n  }\n\n  return (\n    <div className={cssClasses.container}>\n      <span className={cssClasses.location}>\n        {locationBias.displayName}\n      </span>\n      <span className={cssClasses.source}>\n        {attributionMessage}\n      </span>\n      <button \n        className={cssClasses.button}\n        onClick={handleGeolocationClick}\n      >\n        Update your location\n      </button>\n    </div>\n  )\n}","import ResultsCount from '../components/ResultsCount';\nimport AlternativeVerticals from '../components/AlternativeVerticals';\nimport AppliedFilters from '../components/AppliedFilters';\nimport DirectAnswer from '../components/DirectAnswer';\nimport VerticalResults from '../components/VerticalResults';\nimport SpellCheck from '../components/SpellCheck';\nimport LocationBias from '../components/LocationBias';\nimport usePageSetupEffect from '../hooks/usePageSetupEffect';\nimport { FaqCard } from '../components/cards/FaqCard';\nimport Footer from '../components/Footer';\n\nexport default function FAQsPage({ verticalKey }: {\n  verticalKey: string\n}) {\n  usePageSetupEffect(verticalKey);\n\n  return (\n    <><div>\n      <DirectAnswer />\n      <SpellCheck />\n      <ResultsCount />\n      <AppliedFilters\n        hiddenFields={['builtin.entityType']} />\n      <AlternativeVerticals\n        currentVerticalLabel='FAQs'\n        verticalsConfig={[\n          { label: 'Locations', verticalKey: 'locations' },\n          { label: 'Switch', verticalKey: 'switch' },\n          { label: 'Plans', verticalKey: 'plans' },\n          { label: 'Faqs', verticalKey: 'faqs' }\n        ]} />\n      <VerticalResults\n        CardComponent={FaqCard} />\n      <LocationBias />\n      <Footer />\n    </div></>\n  )\n}","import ResultsCount from '../components/ResultsCount';\nimport DirectAnswer from '../components/DirectAnswer';\nimport SpellCheck from '../components/SpellCheck';\nimport LocationBias from '../components/LocationBias';\nimport usePageSetupEffect from '../hooks/usePageSetupEffect';\nimport { LocationCard } from '../components/cards/LocationCard';\nimport { LocationProvider } from '../components/LocationContext';\nimport { useAnswersState } from '@yext/answers-headless-react';\nimport LocationResults from '../components/LocationResults';\nimport MapToggleButton from '../components/MapToggleButton';\nimport Footer from '../components/Footer';\n\n\nexport default function LocationsPage({ verticalKey }: { verticalKey: string }) {\n  usePageSetupEffect(verticalKey);\n  const screenSize = 'sm';  \n  const results = useAnswersState((state) => state.vertical.results) || [];\n  \n  return (\n    <><LocationProvider>\n      <div className=\"flex\">\n        <div className=\"flex-grow\">\n          <DirectAnswer />\n          <SpellCheck\n            cssCompositionMethod=\"assign\"\n            customCssClasses={{\n              container: 'font-body text-xl',\n              helpText: '',\n              link: 'text-gold font-bold cursor-pointer hover:underline focus:underline',\n            }} />\n          <ResultsCount cssCompositionMethod=\"assign\" customCssClasses={{ text: 'text-sm font-body' }} />\n          {screenSize === 'sm' && (\n            <div className=\"pb-2\">\n              <MapToggleButton />\n            </div>\n          )}\n          <LocationResults results={results} verticalKey={verticalKey} cardConfig={{ CardComponent: LocationCard }} />\n          <LocationBias customCssClasses={{ container: 'p-8' }} />\n        </div>\n      </div>\n    </LocationProvider><Footer /></>\n  );\n}\n","import UniversalSearchPage from '../pages/UniversalSearchPage';\nimport FAQsPage from '../pages/FAQsPage';\nimport { universalResultsConfig } from './universalResultsConfig';\nimport LocationsPage from '../pages/LocationsPage'; \nimport PlansPage from '../pages/PlansPage';\nimport VideoPage from '../pages/VideoPage';\nimport SwitchPage from '../pages/SwitchPage';\n\nexport const routeConfig = [\n  {\n    path: '/',\n    exact: true,\n    page: <UniversalSearchPage universalResultsConfig={universalResultsConfig} />\n  },\n  {\n    path: '/locations',\n    page: <LocationsPage verticalKey=\"locations\" />\n  },\n  // {\n  //   path: '/plans',\n  //   page: <PlansPage verticalKey='cf-plans' />\n  // },\n  // {\n  //   path: '/switch',\n  //   page: <SwitchPage verticalKey='switch' />\n  // },\n  // {\n  //   path: '/videos',\n  //   page: <VideoPage verticalKey='videos' />\n  // },\n  {\n    path: '/faqs',\n    page: <FAQsPage verticalKey='faqs'/>\n  },\n];","import PageRouter from './PageRouter';\nimport StandardLayout from './pages/StandardLayout';\nimport { AnswersHeadlessProvider } from '@yext/answers-headless-react';\nimport { answersHeadlessConfig } from './config/answersHeadlessConfig';\nimport { routeConfig } from './config/routeConfig';\nimport { useEffect, useState, createContext } from 'react';\n\nexport type ScreenSize = 'sm' | 'md' | 'lg' | 'xl';\n\nexport const ResponsiveContext = createContext<ScreenSize>('xl');\n\nexport default function App() {\n  const [screenSize, setScreenSize] = useState<ScreenSize>('xl');\n\n  useEffect(() => {\n    updateDimensions();\n\n    console.log('outer width: ' + window.outerWidth);\n    console.log('inner width: ' + window.innerWidth);\n\n    window.addEventListener('resize', updateDimensions);\n    return () => window.removeEventListener('resize', updateDimensions);\n  }, []);\n\n  const updateDimensions = () => {\n    const width = window.outerWidth;\n    if (width <= 640) {\n      setScreenSize('sm');\n    } else if (width > 640 && width <= 768) {\n      setScreenSize('md');\n    } else if (width > 768 && width <= 1024) {\n      setScreenSize('lg');\n    } else if (width > 1024) {\n      setScreenSize('xl');\n    }\n  };\n\n  return (\n    <AnswersHeadlessProvider {...answersHeadlessConfig}>\n      <div className=\"flex justify-center px-2 py-6 text-black sm:px-8\">\n        <div className=\"w-full\">\n          <ResponsiveContext.Provider value={screenSize}>\n            <PageRouter Layout={StandardLayout} routes={routeConfig} />\n          </ResponsiveContext.Provider>\n        </div>\n      </div>\n    </AnswersHeadlessProvider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './tailwind.css';\nimport './sass/index.scss';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nregisterServiceWorker();","export default function registerServiceWorker() {\n  window.addEventListener('load', async () => {\n    const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n    const registration = await navigator.serviceWorker.register(swUrl)\n\n    if (process.env.NODE_ENV !== 'development') {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          // If the service worker updates, either due to its source code changing\n          // or the precache manifest changing, refresh the page to use the updated assets.\n          // The refresh should be virtually unnoticeable due to precaching.\n          if (installingWorker.state === 'activated') {\n            window.location.reload();\n          }\n        }\n      }\n    }\n  });\n}\n"],"sourceRoot":""}